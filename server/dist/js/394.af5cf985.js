"use strict";(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[394],{5118:function(e,r,s){var t=s(3396);const a=({message:e})=>null===e?null:(0,t.Wm)("div",{className:"error"},[e]);r.Z=a},394:function(e,r,s){s.r(r),s.d(r,{default:function(){return h}});var t=s(3396),a=s(9242);const i=e=>((0,t.dD)("data-v-7abe8df3"),e=e(),(0,t.Cn)(),e),l=i((()=>(0,t._)("h2",{style:{"margin-top":"50px","text-align":"center"}},"- Rekisteröintilomake -",-1))),o={class:"text-center"},n=i((()=>(0,t._)("p",null,"Tai registeröidy käyttämällä:",-1)));function m(e,r,s,i,m,u){const g=(0,t.up)("registerError"),d=(0,t.up)("MDBInput"),p=(0,t.up)("MDBCheckbox"),c=(0,t.up)("MDBBtn"),b=(0,t.up)("MDBIcon"),w=(0,t.up)("MDBContainer");return(0,t.wg)(),(0,t.iD)("div",null,[l,(0,t.Wm)(w,{style:{"margin-top":"50px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{message:m.registerErrorMessage},null,8,["message"]),(0,t._)("form",{onSubmit:r[6]||(r[6]=(0,a.iM)(((...e)=>u.userData&&u.userData(...e)),["prevent"]))},[(0,t.Wm)(d,{type:"text",size:"lg",label:"Etunimi",id:"registerFirstName",modelValue:i.registerFirstName,"onUpdate:modelValue":r[0]||(r[0]=e=>i.registerFirstName=e),wrapperClass:"mb-4"},null,8,["modelValue"]),(0,t.Wm)(d,{type:"text",size:"lg",label:"Sukunimi",id:"registerLastName",modelValue:i.registerLastName,"onUpdate:modelValue":r[1]||(r[1]=e=>i.registerLastName=e),wrapperClass:"mb-4"},null,8,["modelValue"]),(0,t.Wm)(d,{type:"text",size:"lg",label:"käyttäjätunnus",id:"registerUsername",modelValue:i.registerUsername,"onUpdate:modelValue":r[2]||(r[2]=e=>i.registerUsername=e),wrapperClass:"mb-4"},null,8,["modelValue"]),(0,t.Wm)(d,{type:"password",size:"lg",label:"Salasana",id:"registerPassword",modelValue:i.registerPassword,"onUpdate:modelValue":r[3]||(r[3]=e=>i.registerPassword=e),wrapperClass:"mb-4"},null,8,["modelValue"]),(0,t.Wm)(d,{type:"password",size:"lg",label:"Toista salasana",id:"registerPasswordRepeat",modelValue:i.registerPasswordRepeat,"onUpdate:modelValue":r[4]||(r[4]=e=>i.registerPasswordRepeat=e),wrapperClass:"mb-4"},null,8,["modelValue"]),(0,t.Wm)(p,{label:"Muista minut",size:"lg",id:"registerSubscribeCheck",modelValue:i.registerSubscribeCheck,"onUpdate:modelValue":r[5]||(r[5]=e=>i.registerSubscribeCheck=e),wrapperClass:"d-flex justify-content-center mb-4"},null,8,["modelValue"]),(0,t.Wm)(c,{outline:"primary",size:"lg",type:"submit",block:"",class:"mb-4"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Luo tili ")])),_:1}),(0,t._)("div",o,[n,(0,t.Wm)(c,{color:"secondary",floating:"",class:"mx-1"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{iconStyle:"fab",icon:"facebook-f"}),(0,t.Uk)("> ")])),_:1}),(0,t.Wm)(c,{color:"secondary",floating:"",class:"mx-1"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{iconStyle:"fab",icon:"google"})])),_:1}),(0,t.Wm)(c,{color:"secondary",floating:"",class:"mx-1"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{iconStyle:"fab",icon:"twitter"})])),_:1})])],32)])),_:1})])}var u=s(4313),g=s(4870),d=s(1478),p=s(6823),c=s(5118),b={name:"app-register",components:{registerError:c.Z,MDBContainer:u.L5,MDBInput:u.u2,MDBCheckbox:u.IH,MDBBtn:u.$v,MDBIcon:u.vm},data(){return{registerErrorMessage:null}},setup(){const e=(0,g.iH)(""),r=(0,g.iH)(""),s=(0,g.iH)(""),t=(0,g.iH)(""),a=(0,g.iH)(""),i=(0,g.iH)(!0);return{registerLastName:r,registerFirstName:e,registerUsername:s,registerPassword:t,registerPasswordRepeat:a,registerSubscribeCheck:i}},methods:{async userData(){const e={firstName:this.registerFirstName,lastName:this.registerLastName,username:this.registerUsername,password:this.registerPassword};if(""!==this.registerFirstName&&""!==this.registerLastName&&""!==this.registerUsername&&""!==this.registerPassword)if(this.registerUsername.length<4)this.registerErrorMessage="Username must be longer than 4 characters!",setTimeout((()=>{this.registerErrorMessage=null}),2e3);else{console.log("Uus kasutaja"),await d.Z.addUser(e);const r=await p.Z.login({username:this.registerUsername,password:this.registerPassword});"login error"!==r.error&&this.$emit("register:data",r)}else this.registerErrorMessage="All fields must be filled!",setTimeout((()=>{this.registerErrorMessage=null}),2e3)}}},w=s(89);const f=(0,w.Z)(b,[["render",m],["__scopeId","data-v-7abe8df3"]]);var h=f}}]);
//# sourceMappingURL=394.af5cf985.js.map