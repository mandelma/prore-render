{"version":3,"file":"js/429.0a84c831.js","mappings":"kLAAA,MAAMA,EAAQC,EAAQ,MAChBC,EAAU,gBAEVC,EAASC,UACX,MAAMC,QAAeL,EAAMM,KAAK,GAAGJ,gBAAuBK,GAC1D,OAAOF,EAAOG,IAAI,EAGhBC,EAAQL,UACV,MAAMC,QAAeL,EAAMU,IAAI,GAAGR,gBAAsBS,KACxD,OAAON,EAAOG,IAAI,EAIhBI,EAAYR,UACd,MAAMS,QAAWb,EAAMM,KAAK,GAAGJ,eAAsBY,GACrD,OAAOD,EAAGL,IAAI,EAGlB,KAAiBL,SAAQM,QAAOG,Y,qCCnBhC,MAAMG,EAAeA,EAAGC,aACJ,OAAZA,EACO,MAGXC,EAAAA,EAAAA,IAAA,2BAGSD,GAAOC,EAAAA,EAAAA,IAAA,iBACQ,WAAU,IAAO,QAAO,IAAOhB,EAAQ,OAAqB,QAOxF,K,yQCfEiB,EAAAA,EAAAA,IAoBeC,EAAA,MArBjBC,SAAAC,EAAAA,EAAAA,KAEI,IAEE,EAFFJ,EAAAA,EAAAA,IAEEK,EAAA,CADCN,QAAUO,EAAAC,qBAAmB,qBAEhCP,EAAAA,EAAAA,IAEEQ,EAAA,CADGT,QAAUO,EAAAG,mBAAiB,qBAEhCC,EAAAA,EAAAA,IAYO,QAZDC,MAAM,SAAUC,SAAMC,EAAA,KAAAA,EAAA,IARhCC,EAAAA,EAAAA,KAAA,IAAAC,IAQ0CC,EAAAC,oBAAAD,EAAAC,sBAAAF,IAAkB,e,EAEtDf,EAAAA,EAAAA,IAQEkB,EAAA,CAPEC,KAAK,QACLC,GAAG,YACHC,MAAA,GACAC,KAAK,KACLC,MAAM,wBAfhBC,WAgBmBlB,EAAAmB,kBAhBnB,sBAAAZ,EAAA,KAAAA,EAAA,GAAAa,GAgBmBpB,EAAAmB,kBAAiBC,GAC1BC,aAAa,Q,wBAEjB3B,EAAAA,EAAAA,IAA2D4B,EAAA,CAAnDT,KAAK,SAASU,MAAA,GAAMC,MAAM,W,CAnBxC3B,SAAAC,EAAAA,EAAAA,KAmBkD,IAAMS,EAAA,KAAAA,EAAA,KAnBxDkB,EAAAA,EAAAA,IAmBkD,cAnBlDC,EAAA,K,OAAAA,EAAA,G,6CAmCA,GACEC,KAAM,SACNC,WAAY,CACVC,aAAY,IACZC,WAAU,IACVC,aAAY,KACZC,SAAQ,KACRC,OAAMA,EAAAA,IAERhD,IAAAA,GACE,MAAO,CACLkC,kBAAmB,GACnBlB,oBAAqB,KACrBE,kBAAmB,KACnB+B,UAAW,GAEf,EACAC,QAAS,CACP,wBAAMxB,GACJ,GAAK,wBAAwByB,KAAKC,KAAKlB,mBAKhC,CACL,MAAMlC,EAAO,CACXD,MAAOqD,KAAKlB,mBAEdmB,QAAQC,IAAI,mBAAqBtD,EAAKD,OAEtC,MAAMwD,QAAgBC,EAAAA,EAAY7D,OAAO,CAACI,MAAOqD,KAAKlB,oBACtDkB,KAAKpC,oBAAsBuC,EAAQ1D,OACnC4D,YAAW,KACTL,KAAKpC,oBAAsB,IAAI,GAC9B,KACHqC,QAAQC,IAAI,0BAA4BC,EAAQ1D,OAClD,MAhBEuD,KAAKlC,kBAAoB,qCACzBuC,YAAW,KACTL,KAAKlC,kBAAoB,IAAI,GAC5B,IAoBP,I,UCzEJ,MAAMwC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://prore-mongo/./src/service/pwAuth.js","webpack://prore-mongo/./src/components/notifications/errorMessage.js","webpack://prore-mongo/./src/components/Forgot.vue","webpack://prore-mongo/./src/components/Forgot.vue?453e"],"sourcesContent":["const axios = require('axios');\r\nconst baseUrl = '/api/reset_pw'\r\n\r\nconst forgot = async (email) => {\r\n    const result = await axios.post(`${baseUrl}/forgot_auth`, email);\r\n    return result.data;\r\n}\r\n\r\nconst reset = async (token) => {\r\n    const result = await axios.get(`${baseUrl}/reset_auth/${token}`);\r\n    return result.data;\r\n}\r\n\r\n// Reset password\r\nconst resetAuth = async (auth_data) => {\r\n    const pw = await axios.post(`${baseUrl}/reset_auth`, auth_data);\r\n    return pw.data;\r\n}\r\n\r\nexport default { forgot, reset, resetAuth };","const ErrorMessage = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n\n        <div className=\"error\">\n            {message}\n            <img className={'errorImg'} alt={'error'} src={require('@/assets/error.png')}/>\n\n        </div>\n\n    )\n}\n\nexport default ErrorMessage","<template>\r\n  <MDBContainer>\r\n    <email-success\r\n      :message = emailSuccessMessage\r\n    />\r\n    <email-error\r\n        :message = emailErrorMessage\r\n    />\r\n    <form class=\"forgot\" @submit.prevent=\"handleSubmitForgot\">\r\n\r\n      <MDBInput\r\n          type=\"email\"\r\n          id=\"giveEmail\"\r\n          white\r\n          size=\"lg\"\r\n          label=\"Anna oma sähköpostisi\"\r\n          v-model=\"emailConfirmation\"\r\n          wrapperClass=\"mb-4\"\r\n      />\r\n      <MDBBtn type=\"submit\" block color=\"success\">Lähetä</MDBBtn>\r\n    </form>\r\n  </MDBContainer>\r\n</template>\r\n\r\n<script>\r\nimport authService from '../service/pwAuth'\r\nimport emailSuccess from '../components/notifications/successMessage'\r\nimport emailError from '../components/notifications/errorMessage'\r\nimport {\r\n  MDBContainer,\r\n    MDBInput,\r\n    MDBBtn\r\n} from 'mdb-vue-ui-kit'\r\nimport '@/css/style.css';\r\nimport '@/css/notification.css'\r\nexport default {\r\n  name: \"Forgot\",\r\n  components: {\r\n    emailSuccess,\r\n    emailError,\r\n    MDBContainer,\r\n    MDBInput,\r\n    MDBBtn\r\n  },\r\n  data () {\r\n    return {\r\n      emailConfirmation: \"\",\r\n      emailSuccessMessage: null,\r\n      emailErrorMessage: null,\r\n      giveEmail: \"\"\r\n    }\r\n  },\r\n  methods: {\r\n    async handleSubmitForgot () {\r\n      if (!/^[^@]+@\\w+(\\.\\w+)+\\w$/.test(this.emailConfirmation)) {\r\n        this.emailErrorMessage = \"Anna kelvollinen sähköpostiosoite!\"\r\n        setTimeout(() => {\r\n          this.emailErrorMessage = null;\r\n        }, 2000);\r\n      } else {\r\n        const data = {\r\n          email: this.emailConfirmation\r\n        }\r\n        console.log(\"email for reset \" + data.email)\r\n        // -----\r\n        const resetPw = await authService.forgot({email: this.emailConfirmation});\r\n        this.emailSuccessMessage = resetPw.result;\r\n        setTimeout(() => {\r\n          this.emailSuccessMessage = null;\r\n        }, 3000);\r\n        console.log(\"Reset password result: \" + resetPw.result);\r\n      }\r\n\r\n\r\n      // const response = await axios.post('Forgot', {\r\n      //   email: this.email\r\n      // })\r\n      // console.log(\"Responce \" + response);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./Forgot.vue?vue&type=template&id=532d4754\"\nimport script from \"./Forgot.vue?vue&type=script&lang=js\"\nexport * from \"./Forgot.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["axios","require","baseUrl","forgot","async","result","post","email","data","reset","get","token","resetAuth","pw","auth_data","ErrorMessage","message","_createVNode","_createBlock","_component_MDBContainer","default","_withCtx","_component_email_success","$data","emailSuccessMessage","_component_email_error","emailErrorMessage","_createElementVNode","class","onSubmit","_cache","_withModifiers","args","$options","handleSubmitForgot","_component_MDBInput","type","id","white","size","label","modelValue","emailConfirmation","$event","wrapperClass","_component_MDBBtn","block","color","_createTextVNode","_","name","components","emailSuccess","emailError","MDBContainer","MDBInput","MDBBtn","giveEmail","methods","test","this","console","log","resetPw","authService","setTimeout","__exports__","render"],"sourceRoot":""}