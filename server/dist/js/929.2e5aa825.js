"use strict";(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[929],{5118:function(e,n,t){var o=t(3396);const a=({message:e})=>null===e?null:(0,o.Wm)("div",{className:"error"},[e]);n.Z=a},5081:function(e,n,t){const o=t(7218),a="/api/reset_pw",s=async e=>{const n=await o.post(`${a}/forgot_auth`,e);return n.data},r=async e=>{const n=await o.get(`${a}/reset_auth/${e}`);return n.data},l=async e=>{const n=await o.post(`${a}/reset_auth`,e);return n.data};n.Z={forgot:s,reset:r,resetAuth:l}},9929:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var o=t(3396),a=t(9242),s=t(7139);const r=e=>((0,o.dD)("data-v-483a515b"),e=e(),(0,o.Cn)(),e),l=r((()=>(0,o._)("h3",null," Reset password",-1))),u={class:"form-group"},i=r((()=>(0,o._)("label",null,"Uusi salasana",-1))),c={class:"form-group"},p=r((()=>(0,o._)("label",null,"Toista salasana",-1))),w=r((()=>(0,o._)("button",{type:"submit",class:"btn btn-primary btn-block"},"Submit",-1))),m={style:{color:"white"}};function d(e,n,t,r,d,h){const f=(0,o.up)("MDBBtn"),k=(0,o.up)("error-message"),g=(0,o.up)("MDBContainer");return(0,o.wg)(),(0,o.j4)(g,null,{default:(0,o.w5)((()=>[d.isToken?((0,o.wg)(),(0,o.iD)("form",{key:1,style:{"margin-top":"100px"},onSubmit:n[2]||(n[2]=(0,a.iM)(((...e)=>h.handleSubmitReset&&h.handleSubmitReset(...e)),["prevent"]))},[l,(0,o._)("div",u,[i,(0,o.wy)((0,o._)("input",{type:"password",class:"form-control",placeholder:"Uusi salasana","onUpdate:modelValue":n[0]||(n[0]=e=>d.newPw=e)},null,512),[[a.nr,d.newPw]])]),(0,o._)("div",c,[p,(0,o.wy)((0,o._)("input",{type:"password",class:"form-control",placeholder:"Toista salasana","onUpdate:modelValue":n[1]||(n[1]=e=>d.confirmNewPw=e)},null,512),[[a.nr,d.confirmNewPw]]),w])],32)):((0,o.wg)(),(0,o.j4)(f,{key:0,block:"",outline:"warning",onClick:h.handleOpenForm},{default:(0,o.w5)((()=>[(0,o.Uk)("Vaihtaa salasana")])),_:1},8,["onClick"])),(0,o.Wm)(k,{message:d.errorInfo},null,8,["message"]),(0,o._)("p",m,"Token "+(0,s.zw)(d.token),1)])),_:1})}t(7658);var h=t(5081),f=t(5118),k=t(4313),g={name:"Reset",components:{errorMessage:f.Z,MDBContainer:k.L5,MDBBtn:k.$v},data(){return{newPw:"",confirmNewPw:"",isToken:!1,token:this.$route.params.token,errorInfo:null}},methods:{async handleOpenForm(){const e=await h.Z.reset(this.token);"valid"===e?(console.log("Token "+e),this.isToken=!0):(console.log("Token "+e),this.errorInfo=e,setTimeout((()=>{this.errorInfo=null,this.$router.push("/forgot_auth")}),3e3))},async handleSubmitReset(){const e=await h.Z.resetAuth({token:this.token,password:this.newPw});console.log("Auth--- "+e)}}},_=t(89);const b=(0,_.Z)(g,[["render",d],["__scopeId","data-v-483a515b"]]);var y=b}}]);
//# sourceMappingURL=929.2e5aa825.js.map