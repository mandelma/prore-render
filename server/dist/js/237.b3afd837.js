"use strict";(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[237],{5607:function(e,t,o){var s=o(6768);let a="";const i=()=>{var e=new google.maps.LatLng(60.233093,24.7531362),t=new google.maps.LatLng(60.2767265,24.8575089),o=new google.maps.DistanceMatrixService;o.getDistanceMatrix({origins:[e],destinations:[t],travelMode:"DRIVING",unitSystem:google.maps.UnitSystem.METRIC,durationInTraffic:!0,avoidHighways:!1,avoidTolls:!1},l)},l=(e,t)=>{if(t===google.maps.DistanceMatrixStatus.OK&&"OK"===t)return console.log("Distance "+e.rows[0].elements[0].distance.text),a=e.rows[0].elements[0].distance.text,"aaaaaaaaaaaaa";console.log("Error:",t),alert(t)},n=()=>(console.log("Is it working??"+a),(0,s.bF)("div",null,[(0,s.eW)("Hiiii")])),r=()=>{var e=new google.maps.LatLng(60.233093,24.7531362),t=new google.maps.LatLng(60.2767265,24.8575089);return(google.maps.geometry.spherical.computeDistanceBetween(e,t)/1e3).toFixed(2)};t.A={distance:i,test:n,theDist:r}},3837:function(e,t,o){o(4373)},4237:function(e,t,o){o.r(t),o.d(t,{default:function(){return N}});var s=o(6768),a=o(4232),i=o(5130);const l={style:{display:"flex","justify-content":"right"}},n={id:"panel"},r={style:{"margin-bottom":"20px"}},d={value:"slotProps"},c={key:0},g={key:1},u={style:{},class:"flex align-items-center"},p={key:0,style:{"background-color":"white",margin:"auto",padding:"10px",width:"350px",border:"solid darkgrey"}},m={key:1,class:"map-info-table",style:{"background-color":"white",padding:"10px",width:"90%",margin:"auto",border:"solid darkgrey"}},h={style:{display:"flex","justify-content":"right"}},k={style:{"font-size":"14px",width:"100%","text-align":"left"}},y={key:0},f=["href"],L={key:1},v={colspan:"2"},w={key:2},C={colspan:"2"},D={key:2,class:"order"},P={style:{display:"flex","justify-content":"right",padding:"20px"}},M={style:{color:"#00a6ff","text-align":"left"}},b={style:{color:"#fff"}},S={class:"message-counter"},B={key:3},x={key:0},I={key:4,style:{"background-color":"white"}};function A(e,t,o,A,O,F){const T=(0,s.g2)("MDBIcon"),_=(0,s.g2)("MDBBtnClose"),E=(0,s.g2)("MDBInput"),U=(0,s.g2)("Dropdown"),z=(0,s.g2)("chat-panel"),V=(0,s.g2)("MDBBadge"),j=(0,s.g2)("MDBBtn"),R=(0,s.g2)("VueDatePicker"),X=(0,s.g2)("MDBTextarea"),H=(0,s.g2)("MDBContainer");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)(H,{style:{position:"relative","z-index":"1","margin-top":"80px",opacity:"0.8"}},{default:(0,s.k6)((()=>[(0,s.Lk)("div",{class:(0,a.C4)({hideMainPanel:!O.isMainPanel}),style:{"background-color":"#2b2a2a",padding:"10px"}},[(0,s.Lk)("div",l,[(0,s.bF)(T,{size:"lg",style:{padding:"10px"},onClick:F.closeMainPanel},{default:(0,s.k6)((()=>t[12]||(t[12]=[(0,s.Lk)("i",{class:"fas fa-compress-arrows-alt"},null,-1)]))),_:1},8,["onClick"]),(0,s.Lk)("div",null,[(0,s.bF)(_,{white:"",style:{padding:"10px"},size:"lg",onClick:t[0]||(t[0]=t=>e.$router.go(-1))})])]),(0,s.Lk)("div",n,[(0,s.bF)(E,{white:"",label:"Anna toinen osoitteesi kun ei täsmää",modelValue:O.address,"onUpdate:modelValue":t[1]||(t[1]=e=>O.address=e),id:"autocomplite",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"])]),(0,s.Lk)("div",r,[(0,s.bF)(U,{onChange:F.changedProfession,modelValue:O.prof,"onUpdate:modelValue":t[2]||(t[2]=e=>O.prof=e),options:O.prodata,filter:"",optionLabel:"label",optionGroupLabel:"label",optionGroupChildren:"items",placeholder:"Valitse ammattilainen",class:"w-full md:w-100rem"},{optiongroup:(0,s.k6)((e=>[(0,s.Lk)("div",u,[(0,s.Lk)("div",null,(0,a.v_)(e.option.label),1)])])),default:(0,s.k6)((()=>[(0,s.Lk)("template",d,[e.slotProps.value?((0,s.uX)(),(0,s.CE)("div",c,[(0,s.Lk)("div",null,(0,a.v_)(e.slotProps.value.label),1)])):((0,s.uX)(),(0,s.CE)("span",g,(0,a.v_)(e.slotProps.placeholder),1))])])),_:1},8,["onChange","modelValue","options"])]),(0,s.Lk)("div",{class:(0,a.C4)({hideDistSelectPanel:!O.isDistSelection}),style:{"padding-top":"10px"}},[(0,s.bo)((0,s.Lk)("select",{style:{padding:"12px",width:"100%","background-color":"dimgrey",color:"white"},id:"distance","onUpdate:modelValue":t[3]||(t[3]=e=>O.distBtw=e),onClick:t[4]||(t[4]=(...t)=>e.filterByDistance&&e.filterByDistance(...t))},t[13]||(t[13]=[(0,s.Lk)("option",{disabled:"",value:"1"},"1 kilometriä ympärilläsi",-1),(0,s.Lk)("option",{value:"2"},"2 km ympärilläsi",-1),(0,s.Lk)("option",{value:"3"},"3 km ympärilläsi",-1),(0,s.Lk)("option",{value:"4"},"4 km ympärilläsi",-1),(0,s.Lk)("option",{value:"5"},"5 km ympärilläsi",-1),(0,s.Lk)("option",{value:"6"},"6 km ympärilläsi",-1),(0,s.Lk)("option",{value:"7"},"7 km ympärilläsi",-1),(0,s.Lk)("option",{value:"8"},"8 km ympärilläsi",-1),(0,s.Lk)("option",{value:"9"},"9 km ympärilläsi",-1),(0,s.Lk)("option",{value:"10"},"10 km ympärilläsi",-1),(0,s.Lk)("option",{value:"20"},"20 km ympärilläsi",-1),(0,s.Lk)("option",{value:"30"},"30 km ympärilläsi",-1),(0,s.Lk)("option",{value:"40"},"40 km ympärilläsi",-1),(0,s.Lk)("option",{value:"50"},"50 km ympärilläsi",-1),(0,s.Lk)("option",{value:"60"},"60 km ympärilläsi",-1),(0,s.Lk)("option",{value:"70"},"70 km ympärilläsi",-1),(0,s.Lk)("option",{value:"80"},"80 km ympärilläsi",-1),(0,s.Lk)("option",{value:"90"},"90 km ympärilläsi",-1),(0,s.Lk)("option",{value:"100"},"100 km ympärilläsi",-1),(0,s.Lk)("option",{value:"200"},"200 km ympärilläsi",-1),(0,s.Lk)("option",{value:"300"},"300 km ympärilläsi",-1)]),512),[[i.u1,O.distBtw]])],2),O.prof?((0,s.uX)(),(0,s.CE)("h3",{key:0,class:(0,a.C4)({noClients:O.isActiveProffs})}," Ei ammattilaisia vielä! ",2)):(0,s.Q3)("",!0)],2),O.isMapChat?((0,s.uX)(),(0,s.CE)("div",p,[(0,s.Lk)("p",{style:{float:"right",color:"limegreen"},onClick:t[5]||(t[5]=(...e)=>F.closeMapChat&&F.closeMapChat(...e))},"Valmis"),(0,s.bF)(z,{chatusers:o.chatusers,messages:o.messages,selecteduser:o.selecteduser,"onSelect:user":F.selectUser,onNoSelected:F.noSelectUser,"onOn:message":F.onMessage},null,8,["chatusers","messages","selecteduser","onSelect:user","onNoSelected","onOn:message"])])):O.isTargetSelected&&!O.isMapChat?((0,s.uX)(),(0,s.CE)("div",m,[(0,s.Lk)("div",h,[(0,s.Lk)("p",{style:{"font-size":"15px",padding:"10px",color:"green"},onClick:t[6]||(t[6]=(...e)=>F.outFromMarkerPanel&&F.outFromMarkerPanel(...e))},"Valmis")]),(0,s.Lk)("table",k,[(0,s.Lk)("tbody",null,[(0,s.Lk)("tr",null,[t[14]||(t[14]=(0,s.Lk)("td",null," Yritys: ",-1)),(0,s.Lk)("td",null,(0,a.v_)(this.target.yritys),1)]),(0,s.Lk)("tr",null,[t[15]||(t[15]=(0,s.Lk)("td",null," Y - tunnus: ",-1)),(0,s.Lk)("td",null,(0,a.v_)(this.target.ytunnus),1)]),(0,s.Lk)("tr",null,[t[16]||(t[16]=(0,s.Lk)("td",null," Työalue: ",-1)),(0,s.Lk)("td",null,(0,a.v_)(this.target.range?this.target.range+" km":"Palvelun tarjous vain paikalla!"),1)]),(0,s.Lk)("tr",null,[t[17]||(t[17]=(0,s.Lk)("td",null," Palvelun hinta: ",-1)),(0,s.Lk)("td",null,(0,a.v_)(this.target.priceByHour?this.target.priceByHour+" Euroa / tunti":"Urakkahinta sovittaessa!"),1)]),(0,s.Lk)("tr",null,[t[18]||(t[18]=(0,s.Lk)("td",null," Saatu palaute: ",-1)),(0,s.Lk)("td",null,[(0,s.bF)(T,{style:{padding:"10px",cursor:"pointer"},class:"far fa-smile",size:"lg",onClick:e.negative},null,8,["onClick"]),(0,s.bF)(V,{color:"success",class:"translate-middle p-1",pill:"",notification:""},{default:(0,s.k6)((()=>[(0,s.Lk)("p",null,(0,a.v_)(this.target.rating.positive),1)])),_:1}),(0,s.bF)(T,{style:{padding:"10px",cursor:"pointer"},class:"far fa-frown",size:"lg",onClick:e.negative},null,8,["onClick"]),(0,s.bF)(V,{color:"danger",class:"translate-middle p-1",pill:"",notification:""},{default:(0,s.k6)((()=>[(0,s.Lk)("p",null,(0,a.v_)(this.target.rating.negative),1)])),_:1})])]),this.target.pro_link?((0,s.uX)(),(0,s.CE)("tr",y,[t[19]||(t[19]=(0,s.Lk)("td",null," Kotisivu ",-1)),(0,s.Lk)("td",null,[(0,s.Lk)("a",{href:"//"+this.target.pro_link,target:"_blank"}," Palveluntarjoajan kotisivu ",8,f)])])):(0,s.Q3)("",!0),O.target.user.id!==O.userId?((0,s.uX)(),(0,s.CE)("tr",L,[(0,s.Lk)("td",v,[(0,s.bF)(j,{block:"",color:"secondary",size:"lg",onClick:F.createChatPanel},{default:(0,s.k6)((()=>t[20]||(t[20]=[(0,s.eW)("Chattailemaan")]))),_:1},8,["onClick"])])])):(0,s.Q3)("",!0),O.target.user.id===O.userId||O.isOrder?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("tr",w,[(0,s.Lk)("td",C,[(0,s.bF)(j,{block:"",color:"success",size:"lg",onClick:F.createBooking},{default:(0,s.k6)((()=>t[21]||(t[21]=[(0,s.eW)("Tee tilaus")]))),_:1},8,["onClick"])])]))])])])):(0,s.Q3)("",!0),O.isOrder?((0,s.uX)(),(0,s.CE)("div",D,[(0,s.Lk)("div",P,[(0,s.bF)(_,{white:"",size:"lg",onClick:t[7]||(t[7]=e=>O.isOrder=!1)})]),(0,s.Lk)("form",{onSubmit:t[11]||(t[11]=(0,i.D$)(((...e)=>F.confirmOrder&&F.confirmOrder(...e)),["prevent"]))},[(0,s.Lk)("p",M,"Address: "+(0,a.v_)(O.address),1),(0,s.bF)(E,{white:"",label:"Anna otsiko",modelValue:O.orderHeader,"onUpdate:modelValue":t[8]||(t[8]=e=>O.orderHeader=e),wrapperClass:"mb-4"},null,8,["modelValue"]),t[23]||(t[23]=(0,s.Lk)("p",{style:{"text-align":"left"}},"Missä ajalla haluaisit ammattilaista?",-1)),(0,s.Lk)("div",b,[(0,s.bF)(R,{style:{"margin-bottom":"20px"},modelValue:O.orderDate,"onUpdate:modelValue":t[9]||(t[9]=e=>O.orderDate=e),dark:"","min-date":new Date,"teleport-center":"",onInternalModelChange:e.handleInternalDate,state:!e.isNoDate&&null},null,8,["modelValue","min-date","onInternalModelChange","state"]),(0,s.bF)(X,{maxlength:"70",label:"Tehtävän kuvaus...",white:"",rows:"2",modelValue:O.orderDescription,"onUpdate:modelValue":t[10]||(t[10]=e=>O.orderDescription=e),invalidFeedback:"Ole hyvä ja kirjoita tehtävän kuvaus.",validFeedback:"Ok!",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,s.Lk)("span",S,(0,a.v_)(O.orderDescription.length)+" / 70",1)]),(0,s.bF)(j,{block:"",type:"submit",color:"success"},{default:(0,s.k6)((()=>t[22]||(t[22]=[(0,s.eW)("Tilaa")]))),_:1})],32)])):(0,s.Q3)("",!0),O.isTargetSelected?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",B,[O.isMainPanel?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",x,[(0,s.bF)(T,{size:"2x",style:{float:"right",padding:"10px"},onClick:F.returnToMainPanel},{default:(0,s.k6)((()=>t[24]||(t[24]=[(0,s.Lk)("i",{class:"fas fa-expand-arrows-alt"},null,-1)]))),_:1},8,["onClick"])]))])),!O.isMainPanel&&O.countOfSelectedProfessional>0&&!O.isTargetSelected?((0,s.uX)(),(0,s.CE)("div",I,t[25]||(t[25]=[(0,s.Lk)("p",{style:{color:"red","font-size":"14px","text-align":"left",padding:"15px"}}," Napsauta merkkiä nähdäksesi palveluntarjoajan! ",-1)]))):(0,s.Q3)("",!0)])),_:1}),t[26]||(t[26]=(0,s.Lk)("div",{id:"map"},null,-1))])}o(4114);var O=o(4373),F=o(407),T=o(1769),_=o(5846),E=(o(5607),o(3837),o(3076)),U=o(6510),z=o(8068),V=o(2436),j=o(1690),R={name:"recipient-public",props:{userIsProvider:Object,selecteduser:null,chatusers:Array,messages:Array,isProviderLoggedIn:Boolean},components:{chatPanel:U["default"],MDBContainer:_.Dj,MDBInput:_.gk,MDBBtn:_.al,MDBBtnClose:_.uR,MDBRow:_.gU,MDBCol:_.m6,MDBIcon:_.$u,MDBBadge:_.nf,MDBTextarea:_.QP,Dropdown:V.A,VueDatePicker:z.A},data(){return{obj:null,isOrder:!1,target:{},isTargetSelected:!1,isMainPanel:!0,isCreatingChatPanel:!1,prof:null,username:null,userId:null,providerId:null,address:null,myLat:null,mylng:null,countOfSelectedProfessional:0,isActiveProffs:!1,isDistSelection:!1,professional:"Automaalari",currentProfession:"",distBtw:1,prodata:E.A,room:null,isChatPanel:!0,isMapChat:!1,providers:[],selectedProPosition:null,orderDate:null,orderHeader:"",orderDescription:""}},mounted(){const e=window.localStorage.getItem("loggedAppUser");if(e){const t=JSON.parse(e);this.username=t.username,this.userId=t.id}this.resizeMap();new google.maps.Marker({icon:"http://maps.google.com/mapfiles/ms/icons/green-dot.png"});this.userCurrentLocation();const t=window.localStorage.getItem("mapSearchData");if(t){const e=JSON.parse(t);console.log("Data+++ "+e.profession),this.currentProfession=e.profession,this.distBtw=e.distance,this.showClientLocationOnTheMap(this.currentProfession,this.distBtw)}const o=window.localStorage.getItem("mapSearchProData");if(o){const e=JSON.parse(o);console.log("Pro pos in map ---- "+e),this.isMainPanel=!1,this.openMarker(e)}const s=document.getElementById("distance");s.addEventListener("change",(e=>{this.distBtw=parseFloat(e.target.value);const t={profession:this.currentProfession,distance:parseFloat(e.target.value)};window.localStorage.setItem("mapSearchData",JSON.stringify(t)),this.showClientLocationOnTheMap(this.currentProfession,this.distBtw)}));const a=document.getElementById("autocomplite"),i={lat:50.064192,lng:-130.605469},l={north:i.lat+.1,south:i.lat-.1,east:i.lng+.1,west:i.lng-.1},n={bounds:l,componentRestrictions:{country:"fi"},fields:["address_components","geometry","icon","name","formatted_address"],strictBounds:!1},r=new google.maps.places.Autocomplete(a,n);r.addListener("place_changed",(()=>{let e=r.getPlace();this.myLat=e.geometry.location.lat(),this.myLng=e.geometry.location.lng(),this.getAddressFrom(e.geometry.location.lat(),e.geometry.location.lng()),this.address=e.formatted_address,console.log("Address xxxx "+e.formatted_address),console.log("place-----------"+this.myLat)}))},methods:{puhasta(){console.log("Puhastatud"),window.localStorage.removeItem("mapSearchProData")},changedProfession(){console.log("Changed "+this.prof.label),this.showClientLocationOnTheMap(this.prof.label,this.distBtw),this.currentProfession=this.prof.label,this.isDistSelection=!0},selectUser(e){this.$emit("select:user",e)},noSelectUser(){this.$emit("noSelected")},onMessage(e,t,o){this.$emit("on:message",e,t,o)},resizeMap(){var e=document.getElementById("map");e.style.height="100%",e.style.width="100%"},receive(){this.$router.push("/rf")},userCurrentLocation(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((e=>{const{latitude:t,longitude:o}=e.coords;this.myLat=t,this.myLng=o,this.showUserLocationOnTheMap(t,o)}))},pinSymbol(e){return{path:"M 0,0 C -2,-20 -10,-22 -10,-30 A 10,10 0 1,1 10,-30 C 10,-22 2,-20 0,0 z",fillColor:e,fillOpacity:1,strokeColor:"#000",strokeWeight:2,scale:1}},showUserLocationOnTheMap(e,t){new google.maps.Map(document.getElementById("map"),{zoom:13,center:new google.maps.LatLng(e,t),mapTypeId:google.maps.MapTypeId.ROADMAP,accuracy:50});this.getAddressFrom(e,t)},getAddressFrom(e,t){O.A.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+e+","+t+"&key=AIzaSyDt2YXE5tk0J72JgqnH3DTD7MeoqbbWBmU").then((o=>{if(o.data.error_message)this.error=o.data.error_message,console.log(o.data.error_message);else{new google.maps.Map(document.getElementById("map"),{zoom:13,center:new google.maps.LatLng(e,t),mapTypeId:google.maps.MapTypeId.ROADMAP});this.address=o.data.results[1].formatted_address}})).catch((e=>{this.error=e.message,console.log(e.message)}))},distanceBtw(e,t,o,s){var a=new google.maps.LatLng(e,t),i=new google.maps.LatLng(o,s);return(google.maps.geometry.spherical.computeDistanceBetween(a,i)/1e3).toFixed(2)},otherUserLocations(e,t,o){let s=!1,a=new google.maps.Map(document.getElementById("map"),{zoom:9,center:new google.maps.LatLng(this.myLat,this.myLng),mapTypeId:google.maps.MapTypeId.ROADMAP});console.log("Users count: "+e.length),console.log("Current distance "+o);let i=0;if(e.length>0){this.target={};for(let l=0;l<e.length;l++){console.log("------------ "+e[l].yritys);this.myLat,this.myLng;e[l].profession.forEach((n=>{if(n===t){console.log("Pro "+n.yritys);e[l].latitude,e[l].longitude;if(console.log("Distance btw "+this.distanceBtw(this.myLat,this.myLng,e[l].latitude,e[l].longitude)),this.isActiveProffs=!0,this.distanceBtw(this.myLat,this.myLng,e[l].latitude,e[l].longitude)<=o){let t;i++,t=this.isTargetSelected?new google.maps.Marker({position:new google.maps.LatLng(e[l].latitude,e[l].longitude),accuracy:50,map:a,icon:this.pinSymbol("orange"),label:{color:"#f75959",fontWeight:"bold",fontSize:"14px",text:"TMI "+e[l].yritys}}):new google.maps.Marker({position:new google.maps.LatLng(e[l].latitude,e[l].longitude),accuracy:50,map:a}),window.myGlobalFunction=this.openMarker;const o=new google.maps.InfoWindow({});google.maps.event.addListener(t,"click",(function(){console.log("POOOOS "+l);let i=l;s&&s.close(),s=o,o.open(a,t),o.setContent("<div  class='map-info-window'><p style=\"color: green; \">"+e[l].yritys+'</p><p style="color: red; " onclick="myGlobalFunction('+i+' )">Tiedot</p></div>')})),console.log("Prev infowondow "+s)}}}))}i>0?(this.isActiveProffs=!0,this.isMainPanel=!1):this.isActiveProffs=!1,this.countOfSelectedProfessional=i,console.log("countxx "+i),this.identifyProfText()}},handleInitChat(){if(this.target.user.username!==this.username){this.target.yritys,this.username;console.log("Username in map: "+this.target.user.username),console.log("Room in map "+this.room);const e={room:this.room,pro:this.target.yritys,status:"map",username:this.username,providerUsername:this.target.user.username,providerID:this.target.user.id},t={room:this.room,proID:this.target.user.id,pro:this.target.yritys,userID:this.target.user.id,username:this.target.user.username};this.$emit("initializeChat",{initChatRoom:e,chatData:t})}},createChatPanel(){this.handleInitChat(),this.isMapChat=!0},async openMarker(e){console.log("Pro profession ");const t=[this.currentProfession],o=await T.A.getProvidersMatchingByProfession({result:t});let s=[];o.forEach((e=>{console.log("Results: "+e.user.id);let t=parseInt(this.distanceBtw(this.myLat,this.myLng,e.latitude,e.longitude)).toFixed(0);console.log("Distance to display "+t),s=s.concat({id:e.user.id,dist:t,pro:this.currentProfession})})),j.A.emit("map search report",s);const a=await T.A.getProviders();a&&(a[e].user.username!==this.username&&(this.isCreatingChatPanel=!0),console.log("Room in client map: "+this.room),this.target=a[e],window.localStorage.setItem("mapSearchProData",JSON.stringify(e)),this.username?this.room=this.target.yritys+this.username:this.room="nipitiri",this.isTargetSelected=!0)},createBooking(){console.log("Here you can make an order! "+this.address),this.isOrder=!0},async confirmOrder(){let e;if(console.log("Order"),this.orderDate){let t=this.orderDate.getFullYear(),o=this.orderDate.getMonth(),s=this.orderDate.getDate(),a=this.orderDate.getHours(),i=this.orderDate.getMinutes();const l=new Date(t,o,s,a,i).getTime();e={created:this.orderDate,created_ms:l,header:this.orderHeader,address:this.address,latitude:this.myLat,longitude:this.myLng,professional:this.currentProfession,isIncludeOffers:!1,year:this.orderDate.getFullYear(),month:this.orderDate.getMonth(),day:this.orderDate.getDate(),hours:this.orderDate.getHours(),minutes:this.orderDate.getMinutes(),description:this.orderDescription,status:"notSeen",ordered:this.target.id}}console.log("Address: "+this.address);const t=await F.A.addRecipient(this.userId,e),o=await F.A.getBookingById(t.id);await F.A.addProviderData(t.id,this.target.id);const s=await T.A.addProviderBooking(this.target.id,t.id);if("Recipient is added!"===s){console.log("Iiiiisss "+(this.target.yritys+this.username));const e=this.target.yritys+this.username;this.target.user.id,this.target.user.username;this.handleInitChat()}const a=this.target.user.id;this.$emit("booking_map:update",t),j.A.emit("accept provider",{id:a,booking:o}),this.$router.push("/received")},async outFromMarkerPanel(){this.isTargetSelected=!1,this.noSelectUser(),window.localStorage.removeItem("mapSearchProData");const e=await T.A.getProviders();null!==e&&this.otherUserLocations(e,this.currentProfession,this.distBtw)},closeMapChat(){this.isMapChat=!1},async returnToMainPanel(){this.isMainPanel=!0,window.localStorage.removeItem("mapSearchData"),this.noSelectUser()},closeMainPanel(){this.isMainPanel=!1,this.noSelectUser(),console.log("Close main panel")},async showClientLocationOnTheMap(e,t){console.log("Current distance herexx  "+t);const o=await T.A.getProviders();null!==o&&this.otherUserLocations(o,e,t)},identifyProfText(){this.countOfSelectedProfessional>1?this.professional="ammattilaista":this.professional="ammattilainen"}}},X=o(1241);const H=(0,X.A)(R,[["render",A]]);var N=H}}]);
//# sourceMappingURL=237.b3afd837.js.map