{"version":3,"file":"js/794.63e23cd6.js","mappings":"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","sources":["webpack://prore-mongo/./src/components/notifications/errorMessage.js","webpack://prore-mongo/./src/pages/ProGallery.vue","webpack://prore-mongo/./src/pages/ProGallery.vue?115c"],"sourcesContent":["const ErrorMessage = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n\n        <div className=\"error\">\n            {message}\n            <img className={'errorImg'} alt={'error'} src={require('@/assets/error.png')}/>\n\n        </div>\n\n    )\n}\n\nexport default ErrorMessage","<template>\r\n  <MDBContainer>\r\n    <h2 style=\"margin-bottom: 27px;\">Kuvat omista palveluista!</h2>\r\n\r\n\r\n    <MDBRow>\r\n      <MDBCol lg=\"4\" v-for=\"(item, i) in proImages\" :key=\"i\">\r\n        img.name {{item.name}}<br>\r\n<!--        require(`/server/uploads/${img.image}`)-->\r\n        <div class=\"panel\">\r\n          <img\r\n              class=\"proRefLoading\"\r\n              :src=\"item.blob ? item.blob : item.image\"\r\n              :alt=\"item.name\"\r\n          />\r\n          <button class=\"img_btn\" @click=\"pressEditPanel(i)\">Muokkaa</button>\r\n        </div>\r\n\r\n\r\n<!--        <MDBBtn v-if=\"!isEdit\" block outline=\"success\" @click=\"pressEditPanel(i)\">Muokkaa</MDBBtn>-->\r\n        <div class=\"edit-panel\" v-if=\"isEditPanel && imgIndex === i\">\r\n          <error-message :message = wrongSizeTypeMessage />\r\n          <MDBRow>\r\n            <MDBCol>\r\n              <MDBBtnClose\r\n                  v-if=\"!value\"\r\n                  white\r\n                  class=\"close-btn\"\r\n                  style=\"float: right;\"\r\n                  @click=\"closeEditPanel\"\r\n              />\r\n              <input  id=\"pro-upload\" type=\"file\" @change=\"handleFileChange($event, i)\"/>\r\n              <label  for=\"pro-upload\" class=\"pro-file-upload\">\r\n                  <span v-if=\"value\">\r\n                  Muokka tehtävän kuvausta: {{value.name}}\r\n\r\n                   </span>\r\n                <span v-else>Valitse uusi kuva tehtävästä</span>\r\n              </label>\r\n              <MDBBtn v-if=\"isEdit\" block color=\"success\" @click=\"editRefImage(i)\">Upload edited image</MDBBtn>\r\n              <MDBBtn class=\"btn\" block size=\"lg\" color=\"danger\" @click=\"removeRefImage(i, img._id)\">Poista kuva</MDBBtn>\r\n            </MDBCol>\r\n            <MDBCol v-if=\"value\">\r\n              <MDBBtnClose\r\n                  white\r\n                  class=\"close-btn\"\r\n                  style=\"float: right;\"\r\n                  @click=\"closeEditPanel\"\r\n              />\r\n              <img\r\n                  style=\"width:100px; padding-top: 20px;\"\r\n                  :src=\"this.showImage\"\r\n                  alt=\"addEdit\"\r\n              />\r\n            </MDBCol>\r\n          </MDBRow>\r\n\r\n        </div>\r\n\r\n      </MDBCol>\r\n    </MDBRow>\r\n\r\n\r\n    <MDBBtn v-if=\"!isPressedAdd\" block color=\"warning\" @click=\"pressAddImage\" style=\"margin-top: 13px;\">Lisää uusi kuva tehtävästä</MDBBtn>\r\n    <div class=\"add-panel\" v-if=\"isPressedAdd && isAddPanel\">\r\n\r\n      <error-message :message = wrongSizeTypeMessage />\r\n      <MDBRow>\r\n\r\n        <MDBCol>\r\n          <MDBBtnClose\r\n              v-if=\"!value\"\r\n              white\r\n              class=\"close-btn\"\r\n              @click=\"closeAddPanel\"\r\n          />\r\n          <input   id=\"add-upload\" type=\"file\" @change=\"handleFileChange($event, i)\"/>\r\n          <label  for=\"add-upload\" class=\"pro-file-upload\">\r\n                  <span v-if=\"value\">\r\n                  Muokka tehtävän kuvausta: {{value.name}}\r\n                   </span>\r\n            <span v-else>Valitse lisää kuva tehtävästä</span>\r\n          </label>\r\n          <MDBBtn v-if=\"isAdd\" block outline=\"primary\" @click=\"addRefImage\">Tallenna kuva</MDBBtn>\r\n        </MDBCol>\r\n        <MDBCol v-if=\"value\">\r\n          <MDBBtnClose\r\n              class=\"close-btn\"\r\n              white\r\n              @click=\"closeAddPanel\"\r\n          />\r\n          <img\r\n              style=\"width:100px\"\r\n              :src=\"this.showImage\"\r\n              alt=\"addShow\"\r\n          />\r\n        </MDBCol>\r\n      </MDBRow>\r\n\r\n    </div>\r\n\r\n\r\n<!--    <MDBBtn color=\"success\" @click=\"getUser\">Get provider booking</MDBBtn>-->\r\n\r\n\r\n\r\n<!--    pro images: {{proImages}}<br>-->\r\n<!--    error message {{wrongSizeTypeMessage}}-->\r\n  </MDBContainer>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable */\r\nimport {\r\n  MDBContainer,\r\n    MDBRow,\r\n    MDBCol,\r\n    MDBBtn,\r\n    MDBBtnClose\r\n} from 'mdb-vue-ui-kit'\r\nimport imageService from \"@/service/image\";\r\nimport providerService from \"@/service/providers\";\r\nimport errorMessage from '../components/notifications/errorMessage'\r\nimport socket from \"@/socket\";\r\nimport recipientService from \"@/service/recipients\";\r\n//import socket from \"@/socket\";\r\nexport default {\r\n  name: \"ProGallery\",\r\n  props: {\r\n    provider: null,\r\n    proImages: Array\r\n  },\r\n  components: {\r\n    errorMessage,\r\n    MDBContainer,\r\n    MDBRow,\r\n    MDBCol,\r\n    MDBBtn,\r\n    MDBBtnClose,\r\n\r\n  },\r\n  data () {\r\n    return {\r\n\r\n      IMAGE_SIZE: 1000000,\r\n      value: null,\r\n      showImage: null,\r\n      files: null,\r\n      imgIndex: null,\r\n      isAdd: false,\r\n      isEdit: false,\r\n      isEditPanel: false,\r\n      isPressedAdd: false,\r\n      isAddPanel: false,\r\n      wrongSizeTypeMessage: null\r\n    }\r\n  },\r\n  methods: {\r\n    // getUser () {\r\n    //   this.provider.booking.forEach(b => {\r\n    //     console.log(\"Booking info \" + b.user.username);\r\n    //\r\n    //   })\r\n    // },\r\n    async sendReadableFileToRecipients (imageID, action) {\r\n      let recipients = [];\r\n      this.provider.booking.forEach(b => {\r\n        console.log(\"Booking info \" + b.user.username);\r\n        recipients = [\r\n            ...recipients,\r\n            b.user.id\r\n        ]\r\n      })\r\n      const data = new FormData();\r\n      data.append('file', this.files, this.files.name);\r\n\r\n      const reader = new FileReader();\r\n\r\n      reader.onload = (e) => {\r\n        const bytes = new Uint8Array(e.target.result);\r\n        console.log(\"FILES IN gallery.... \" + this.files)\r\n\r\n        // const imgBytes = {\r\n        //   id: ,\r\n        //   bytes: bytes\r\n        // }\r\n\r\n        socket.emit(\"created file for recipients\", imageID, bytes, this.provider.id, recipients, action);\r\n      };\r\n      reader.readAsArrayBuffer(this.files);\r\n    },\r\n    handleFileChange(e, i) {\r\n      this.imgIndex = i;\r\n      try {\r\n\r\n        const files = e.target.files[0]\r\n        console.log('event target client ', e.target.files[0])\r\n\r\n        if (files) {\r\n          //const tempImage = URL.createObjectURL(files)\r\n          //this.tempImages.push(tempImage);\r\n          this.showImage = URL.createObjectURL(files)\r\n          //this.file = e.target.files[0];\r\n          this.files = e.target.files[0];\r\n\r\n          this.isAdd = true;\r\n          this.isEdit = true;\r\n        }\r\n\r\n      } catch (err) {\r\n        console.log('Error:', err)\r\n      }\r\n\r\n      this.value = e.target.files[0]\r\n\r\n    },\r\n    pressAddImage () {\r\n      this.isAdd = false\r\n      this.isEdit = false;\r\n      this.isEditPanel = false;\r\n      this.isPressedAdd = true;\r\n      this.isAddPanel = true;\r\n    },\r\n    pressEditPanel (index) {\r\n      this.isEdit = false;\r\n      this.value = null;\r\n      this.imgIndex = index;\r\n      this.isPressedAdd = false;\r\n      this.isEditPanel = true;\r\n      this.isAddPanel = false\r\n    },\r\n    closeEditPanel () {\r\n      this.isAddPanel = false\r\n      this.isEditPanel = false\r\n      this.isEdit = false;\r\n      this.value = null;\r\n    },\r\n    closeAddPanel () {\r\n      this.isAddPanel = false\r\n      this.isPressedAdd = false;\r\n      this.value = null;\r\n    },\r\n    async addRefImage () {\r\n      this.value = null;\r\n      this.isAddPanel = false;\r\n      this.isAdd = false;\r\n      this.isPressedAdd = false;\r\n      const data = new FormData();\r\n\r\n      data.append('file', this.files, this.files.name)\r\n      console.log(\"IMG pro size - \" + this.files.size);\r\n\r\n      console.log(\"Image pro type_ \" + this.files.type);\r\n      console.log(\"AAA \" + this.provider.user.id)\r\n      const type = this.files.type;\r\n      if (type ===\"image/jpeg\" || type === \"image/jpg\" || type === \"image/png\" || type === \"image/gif\") {\r\n        console.log(\"Pildi formaat on OK\")\r\n        if (this.files.size <= this.IMAGE_SIZE) {\r\n\r\n          //const reader = new FileReader();\r\n\r\n          const img = await imageService.createProRefImg(this.provider.user.id, data);\r\n\r\n          if (img) {\r\n            //await recipientService.addImage(this.booking.id, img.imgCreated._id)\r\n            await providerService.addProSlide(this.provider.id, {slideID: img.imgCreated._id});\r\n            //\r\n            const _image = {\r\n              _id: img.imgCreated._id,\r\n              blob: this.showImage\r\n            }\r\n\r\n\r\n\r\n\r\n            this.$emit(\"addProImage\", _image);\r\n\r\n            this.sendReadableFileToRecipients(img.imgCreated._id, 'add');\r\n\r\n\r\n            this.isEdit = false;\r\n\r\n\r\n            // console.log(\"ORDRED pikkus \" + this.booking.ordered.length)\r\n            // let ordered = [];\r\n            // this.booking.ordered.forEach(b => {\r\n            //   console.log(\"CVCVCV \" + b.user.username);\r\n            //   ordered = ordered.concat(b.user.id);\r\n            // })\r\n\r\n            // reader.onload = (e) => {\r\n            //   const bytes = new Uint8Array(e.target.result);\r\n            //   console.log(\"FILES IN UPLOAD.... \" + this.files)\r\n            //\r\n            //   const image_bytes = {\r\n            //     id: img.imgCreated._id,\r\n            //     bytes: bytes\r\n            //   }\r\n            //   socket.emit(\"display booking image\", image_bytes, this.booking.id, ordered)\r\n            //\r\n            // };\r\n            // reader.readAsArrayBuffer(this.files);\r\n\r\n          }\r\n        } else {\r\n\r\n          console.log(\"Pildi suurus peab olema väiksem kui 1 MB\");\r\n          this.isAddPanel = true\r\n          this.isPressedAdd = true;\r\n          this.wrongSizeTypeMessage = \"Kuvan maximi koko on 3 MB.\";\r\n\r\n          setTimeout(() => {\r\n            this.wrongSizeTypeMessage = null;\r\n          }, 3000);\r\n        }\r\n      }\r\n      else {\r\n        console.log(\"Pildi formaat on FAKE\")\r\n        this.isAddPanel = true\r\n        this.isPressedAdd = true;\r\n        this.wrongSizeTypeMessage = \"Väärä formaati. Kuva pitäisi olla jpeg, jpg, png tai gif formaatissa!\";\r\n        setTimeout(() => {\r\n          this.wrongSizeTypeMessage = null;\r\n        }, 3000);\r\n      }\r\n\r\n    },\r\n    async editRefImage (index, img) {\r\n\r\n      // imgIndex: null,\r\n      //     isAdd: false,\r\n      //     isEdit: false,\r\n      //     isEditPanel: false,\r\n      //     isPressedAdd: false,\r\n      //     isAddPanel: false,\r\n      //     wrongSizeTypeMessage: null\r\n\r\n      console.log(\"Edited image index is: \" + index);\r\n\r\n      this.isEditPanel = false;\r\n      this.isEdit = false;\r\n\r\n      const data = new FormData();\r\n      data.append('file', this.files, this.files.name)\r\n\r\n      console.log(\"Image id \" + this.proImages[index]._id)\r\n      const imgType = this.files.type;\r\n      if (imgType ===\"image/jpeg\" || imgType === \"image/jpg\" || imgType === \"image/png\" || imgType === \"image/gif\") {\r\n        if (this.files.size <= this.IMAGE_SIZE) {\r\n          // -----------------------------------------------\r\n          //const image = await imageService.updateImage(this.images[index]._id, data);\r\n          console.log(\"Image id to edit \" + this.proImages[index]._id);\r\n          const changeImg = await imageService.editProRefImage(this.proImages[index]._id, data);\r\n\r\n          if (changeImg) {\r\n            this.$emit(\"editProRefImage\", index, changeImg._id,  this.showImage);\r\n\r\n            await this.sendReadableFileToRecipients(changeImg._id, 'edit');\r\n\r\n            // this.images[this.imageIndex] = {_id: this.images[index]._id, blob: this.showImage}\r\n            //\r\n            // this.images.forEach(img => {\r\n            //   console.log(\"Image name \" + img._id)\r\n            // })\r\n\r\n            // console.log(\"ORDRED in EDIT pikkus \" + this.booking.ordered.length)\r\n            // let ordered = [];\r\n            // this.booking.ordered.forEach(b => {\r\n            //   console.log(\"CVCVCV \" + b.user.username);\r\n            //   ordered = ordered.concat(b.user.id);\r\n            // })\r\n            //\r\n            // const reader = new FileReader();\r\n            //\r\n            // if (this.file) {\r\n            //   reader.onload = (e) => {\r\n            //     const bytes = new Uint8Array(e.target.result);\r\n            //     console.log(\"FILES.... \" + this.files)\r\n            //\r\n            //     const image_id = image._id;\r\n            //\r\n            //     socket.emit(\"display edited booking image\", image_id, bytes, this.booking.id, ordered)\r\n            //\r\n            //   };\r\n            //   reader.readAsArrayBuffer(this.files);\r\n            // }\r\n\r\n            // console.log(\"New image id is \" + image._id)\r\n            // this.imgId = image._id;\r\n            this.file = null;\r\n\r\n            this.isEditPanel = false;\r\n\r\n\r\n            this.closeAddPanel();\r\n\r\n          }\r\n        } else {\r\n          this.isEditPanel = true;\r\n          this.closeAddPanel();\r\n          this.wrong_SizeType_Message = \"Väärä formaati. Kuva pitäisi olla jpeg, jpg, png tai gif formaatissa!\";\r\n          setTimeout(() => {\r\n            this.wrong_SizeType_Message = null;\r\n          }, 3000);\r\n        }\r\n\r\n      }else {\r\n        this.isEditPanel = true;\r\n        this.closeAddPanel();\r\n        this.wrong_SizeType_Message = \"Kuvan maximi koko on oltava 3 MB!\";\r\n        setTimeout(() => {\r\n          this.wrong_SizeType_Message = null;\r\n        }, 3000);\r\n      }\r\n\r\n\r\n    },\r\n    async removeRefImage (index, imageID) {\r\n      //this.value = null;\r\n      if (!this.proImages[index].blob) {\r\n        console.log(\"removed image is blob\")\r\n\r\n      }\r\n\r\n      let clients = [];\r\n      this.provider.booking.forEach(pb => {\r\n        console.log(\"Booking info -- removing \" + pb.user.username);\r\n        clients = [\r\n          ...clients,\r\n          pb.user.id\r\n        ]\r\n      })\r\n\r\n      console.log(\"removable image id is \" + this.proImages[index]._id)\r\n\r\n      await imageService.removeProRefImage(this.proImages[index]._id, this.provider.id);\r\n\r\n      // await recipientService.removeImage(this.booking.id, this.images[id]._id);\r\n      // await imageService.remove(this.images[id]._id, this.booking.id);\r\n\r\n\r\n\r\n      //socket.emit(\"stop display booking image\", this.images[id]._id, this.booking, bIDs);\r\n\r\n      this.$emit(\"removeProRefImage\", index);\r\n      socket.emit(\"remove recipient side pro ref image\", imageID, this.provider.id, clients);\r\n\r\n      this.isEditPanel = false;\r\n\r\n    },\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nimg.proRefLoading {\r\n  width: 100%;\r\n  margin: 0 13px 13px 0;\r\n  background: transparent url(https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif) no-repeat scroll center center;\r\n}\r\ninput[type=\"file\"] {\r\n  display: none;\r\n}\r\n.pro-file-upload {\r\n  width: 100%;\r\n\r\n  color: white;\r\n  font-size: 18px;\r\n  background-color: #87958e;\r\n  border: 1px solid #ccc;\r\n  display: inline-block;\r\n  padding: 20px 12px;\r\n  margin-bottom: 0;\r\n  cursor: pointer;\r\n}\r\n.edit-panel {\r\n  border: solid grey;\r\n  padding: 20px;\r\n  margin: 20px 0 20px 0;\r\n}\r\n.add-panel {\r\n  border: solid grey;\r\n  padding: 20px;\r\n  margin: 20px 0 20px 0;\r\n}\r\n.btn {\r\n  padding: 20px;\r\n  margin: 20px 0 20px 0;\r\n}\r\n.close-btn {\r\n  float: right;\r\n  padding: 20px;\r\n}\r\n\r\n\r\n/* Container needed to position the button. Adjust the width as needed */\r\n.panel {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n/* Make the image responsive */\r\n.panel img {\r\n  width: 100%;\r\n  height: auto;\r\n}\r\n\r\n/* Style the button and place it in the middle of the container/image */\r\n.panel .img_btn {\r\n  position: absolute;\r\n  top: 85%;\r\n  left: 85%;\r\n  transform: translate(-50%, -50%);\r\n  -ms-transform: translate(-50%, -50%);\r\n  background-color: #555;\r\n  opacity: 0.5;\r\n  color: white;\r\n  font-size: 16px;\r\n  padding: 12px 24px;\r\n  border: none;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n}\r\n\r\n.panel .btn:hover {\r\n  background-color: black;\r\n}\r\n</style>","import { render } from \"./ProGallery.vue?vue&type=template&id=2ea778eb&scoped=true\"\nimport script from \"./ProGallery.vue?vue&type=script&lang=js\"\nexport * from \"./ProGallery.vue?vue&type=script&lang=js\"\n\nimport \"./ProGallery.vue?vue&type=style&index=0&id=2ea778eb&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2ea778eb\"]])\n\nexport default __exports__"],"names":["ErrorMessage","message","_createVNode","require","class","key","for","_createBlock","_component_MDBContainer","default","_withCtx","_createElementVNode","style","_component_MDBRow","_createElementBlock","_Fragment","_renderList","$props","proImages","item","i","_component_MDBCol","lg","_createTextVNode","_toDisplayString","name","_hoisted_1","src","blob","image","alt","_hoisted_2","onClick","$event","$options","pressEditPanel","_hoisted_3","$data","isEditPanel","imgIndex","_hoisted_4","_component_error_message","wrongSizeTypeMessage","value","_createCommentVNode","_component_MDBBtnClose","white","closeEditPanel","id","type","onChange","handleFileChange","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","isEdit","_component_MDBBtn","block","color","editRefImage","_cache","_","size","removeRefImage","_ctx","img","_id","showImage","_hoisted_9","isPressedAdd","pressAddImage","isAddPanel","_hoisted_10","closeAddPanel","_hoisted_11","_hoisted_12","_hoisted_13","isAdd","outline","addRefImage","_hoisted_14","props","provider","Array","components","errorMessage","MDBContainer","MDBRow","MDBCol","MDBBtn","MDBBtnClose","data","IMAGE_SIZE","files","methods","sendReadableFileToRecipients","imageID","action","recipients","this","booking","forEach","b","console","log","user","username","FormData","append","reader","FileReader","onload","e","bytes","Uint8Array","target","result","socket","emit","readAsArrayBuffer","URL","createObjectURL","err","index","imageService","createProRefImg","providerService","addProSlide","slideID","imgCreated","_image","$emit","setTimeout","imgType","changeImg","editProRefImage","file","wrong_SizeType_Message","clients","pb","removeProRefImage","__exports__","render"],"sourceRoot":""}