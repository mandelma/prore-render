"use strict";(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[113],{5113:function(e,s,t){t.r(s),t.d(s,{default:function(){return d}});var r=t(3396),o=t(7139);const a={style:{"margin-top":"200px"}};function n(e,s,t,n,u,l){const i=(0,r.up)("User"),m=(0,r.up)("MessagePanel");return(0,r.wg)(),(0,r.iD)("div",a,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.chatusers,((e,s)=>((0,r.wg)(),(0,r.iD)("div",{key:s},[(0,r.Wm)(i,{user:e,selected:u.selectedUser===e,onSelect:s=>l.selectUser(e)},null,8,["user","selected","onSelect"])])))),128)),(0,r.Uk)(" messages "+(0,o.zw)(t.messages)+" ",1),u.selectedUser?((0,r.wg)(),(0,r.j4)(m,{key:0,user:u.selectedUser,messages:t.messages,"onNew:message":l.onMessage},null,8,["user","messages","onNew:message"])):(0,r.kq)("",!0)])}var u=t(7137),l=t(7245),i=t(4058),m={name:"live-chat",props:{test:String,chatusers:Array,messages:Array,loggedInUser:Object,bookings:Array,bookingsHistory:Array,un:String,ri:String},components:{User:u.Z,MessagePanel:l.Z},data(){return{user:{},selectedUser:null,users:[],msg:"",userId:null,username:"",room:"",count:0}},methods:{listen:function(){},sendMessage:function(){""!==this.msg&&(i.Z.emit("msg",this.msg),this.msg="")},startChat(){let e="userdialog",s="eka";i.Z.emit("credentials",{userID:this.loggedUser.id,username:s,room:e})},submit(){},selectUser(e){this.$emit("select:user",e),this.selectedUser=e},onMessage(e,s){this.$emit("on:message",e,s)},renderChat(){this.count++},newChat(){console.log("Aaaaaaaa");let e="alla",s="tuba";this.usernameAlreadySelected=!0,i.Z.auth={username:e,room:s},i.Z.connect()},onUsernameSelection(e,s){console.log("Aaaaaaaa"),this.username=e,this.room=s,this.usernameAlreadySelected=!0,i.Z.auth={username:e,room:s},i.Z.connect()},updateRoom(){i.Z.emit("updateRoom","uus-tuba"),i.Z.on("get room users",(e=>{this.users=e})),this.socketResetTest()},removeChatUser(){console.log("Remove chat user"),i.Z.emit("unsubscribe"),window.localStorage.removeItem("sessionID"),i.Z.on("get room users",(e=>{this.users=e})),location.reload()}},computed:{isValid(){return this.msg.length>0}},mounted(){},unmounted(){}},c=t(89);const g=(0,c.Z)(m,[["render",n],["__scopeId","data-v-6dd53ca8"]]);var d=g}}]);
//# sourceMappingURL=113.ac435af3.js.map