{"version":3,"file":"js/974.2e36e32f.js","mappings":"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","sources":["webpack://prore-mongo/./server/config/keys.js","webpack://prore-mongo/./src/pages/UserLocation.vue","webpack://prore-mongo/./src/pages/UserLocation.vue?3192"],"sourcesContent":["module.exports = {\n    //  mongoDB: 'mongodb://localhost:27017/finder'\n    //mongoDB: 'mongodb://127.0.0.1/finder',\n    // 'mongodb+srv://mama:a13ma23x@cluster0.w0z1j.mongodb.net/tiler?retryWrites=true&w=majority'\n    //mongoDB: 'mongodb+srv://mandlimarko:llFFCsW6CG6qnXTN@cluster0.el43xlc.mongodb.net/?retryWrites=true&w=majority',\n\n\n    //mongoDB: 'mongodb+srv://mandlimarko:llFFCsW6CG6qnXTN@cluster0.el43xlc.mongodb.net/prore?retryWrites=true&w=majority',\n    // llFFCsW6CG6qnXTN\n    //googleMap: 'AIzaSyBDA2EBoGezJx51wQtxoW3Ecq5Ql8CCAiE',\n\n    //google: process.env.GOOGLE_MAP\n}","<template>\n  <div>\n    <h1>User location page</h1>\n    <section class=\"ui two column centered grid\" style=\"position: relative; z-index:1;\">\n      <div class=\"column\">\n        <form class=\"ui segment large form\">\n          <div class=\"ui message red\" v-show=\"error\">{{error}}</div>\n          <div class=\"ui segment\">\n            <div class=\"field\">\n              <div class=\"ui right icon input large\" :class=\"{loading:spinner}\">\n                <input\n                    type=\"text\"\n                    placeholder=\"Enter your address:\"\n                    v-model=\"address\"\n                    id=\"autocomplete\"\n                />\n                <i class=\"dot circle link icon\" @click=\"locatorButtonPressed\"></i>\n              </div>\n            </div>\n            <button class=\"ui button\" @click=\"testPlace\">Go</button>\n          </div>\n        </form>\n      </div>\n\n    </section>\n    <section id=\"map\"></section>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\n/*global google*/\nimport axios from 'axios'\n//import key from '@/config/keys'\nconst key = require('../../server/config/keys')\nexport default {\n  name: \"user-location\",\n  data () {\n    return {\n      address: \"\",\n      error: \"\",\n      spinner: false,\n      lat: \"\",\n      lng: \"\"\n    }\n  },\n  mounted () {\n    // &callback=Function.prototype\n    //document.getElementById(\"autocomplete\")\n\n    const center = { lat: 50.064192, lng: -130.605469 };\n// Create a bounding box with sides ~10km away from the center point\n    const defaultBounds = {\n      north: center.lat + 0.1,\n      south: center.lat - 0.1,\n      east: center.lng + 0.1,\n      west: center.lng - 0.1,\n    };\n    const input = document.getElementById(\"autocomplete\");\n    const options = {\n      bounds: defaultBounds,\n      componentRestrictions: { country: \"fi\" },\n      fields: [\"address_components\", \"geometry\", \"icon\", \"name\"],\n      strictBounds: false,\n      //types: [\"establishment\"],\n    };\n    const autocomplete = new google.maps.places.Autocomplete(input, options);\n\n    autocomplete.addListener(\"place_changed\", () => {\n      let place = autocomplete.getPlace()\n      this.lat = place.geometry.location.lat()\n      this.lng = place.geometry.location.lng()\n\n      console.log(place)\n      this.showUserLocationOnTheMap(place.geometry.location.lat(), place.geometry.location.lng())\n    })\n\n\n    // let autocomplete =  new google.maps.places.Autocomplete (\n    //   document.getElementById(\"autocomplete\"),\n    //   {\n    //     bounds: new google.maps.LatLngBounds(\n    //         new google.maps.LatLng(61.92411, 25.748151)\n    //     )})\n    // autocomplete.addListener(\"place_changed\", () => {\n    //   let place = autocomplete.getPlace();\n    //   console.log(place)\n    //   this.showUserLocationOnTheMap(place.geometry.location.lat(), place.geometry.location.lng())\n    // })\n  },\n  methods: {\n    test () {\n      console.log(\"Key is: \" + key.googleMap)\n    },\n    locatorButtonPressed () {\n      this.spinner = true\n      console.log(\"Google maps test\")\n      if(navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(\n            position => {\n          this.getAddressFrom(position.coords.latitude, position.coords.longitude)\n          console.log(\"pos latitude: \" + position.coords.latitude)\n          console.log(\"Pos longitude: \" + position.coords.longitude)\n              this.showUserLocationOnTheMap (\n                  position.coords.latitude,\n                  position.coords.longitude\n              );\n        },\n\n\n            error => {\n              this.error = \"Locator is unable to find your address. Please type your address!\"\n              console.log(\"Error\" + error)\n              this.spinner = false;\n          //console.log(\"Error: \" + error.message)\n            }\n        )\n      } else {\n        //this.error = error.message\n        console.log(\"Your Browser does not support geolocation API\")\n      }\n    },\n    getAddressFrom (lat, long) {\n      axios.get('https://maps.googleapis.com/maps/api/geocode/json?latlng=' + lat +\n          \",\" + long\n          + \"&key=\" + key.googleMap)\n          .then(response => {\n            if (response.data.error_message) {\n              this.error = response.data.error_message;\n              this.spinner = false;\n              console.log(response.data.error_message)\n            } else {\n              this.address = response.data.results[0].formatted_address\n              console.log(response.data.results.results[0].formatted_address)\n            }\n\n      })\n      .catch(error => {\n        this.error = error.message\n        this.spinner = false;\n        console.log(error.message)\n      })\n    },\n    showUserLocationOnTheMap (latitude, longitude) {\n      let map = new google.maps.Map(document.getElementById(\"map\"), {\n        zoom: 15,\n        center: new google.maps.LatLng(latitude, longitude),\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      });\n      new google.maps.Marker({\n        position: new google.maps.LatLng(latitude, longitude),\n        map: map\n      })\n    },\n    testPlace () {\n      console.log(\"Lat: \" + this.lat)\n      console.log(\"Lng: \" + this.lng)\n    }\n  }\n}\n</script>\n\n<style>\n.ui.button,\n.dot.circle {\n  background-color: #ff5a5f;\n  color: white;\n}\n\n.pac-icon {\n  display: none;\n}\n.pac-item {\n  padding: 10px;\n  font-size: 16px;\n  cursor: pointer;\n}\n.pac-item:hover {\n  background-color: #ececec;\n}\n.pac-item-query {\n  font-size: 16px;\n}#map {\n   position: absolute;\n   top: 50px;\n   right: 0;\n   bottom: 0;\n   left: 0;\n }\n\n\n</style>","import { render } from \"./UserLocation.vue?vue&type=template&id=690221ec\"\nimport script from \"./UserLocation.vue?vue&type=script&lang=js\"\nexport * from \"./UserLocation.vue?vue&type=script&lang=js\"\n\nimport \"./UserLocation.vue?vue&type=style&index=0&id=690221ec&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["module","exports","class","style","_createElementBlock","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","$data","error","_hoisted_4","_hoisted_5","_normalizeClass","loading","spinner","type","placeholder","_cache","$event","address","id","onClick","args","$options","locatorButtonPressed","testPlace","key","require","name","data","lat","lng","mounted","center","defaultBounds","north","south","east","west","input","document","getElementById","options","bounds","componentRestrictions","country","fields","strictBounds","autocomplete","google","maps","places","Autocomplete","addListener","place","getPlace","this","geometry","location","console","log","showUserLocationOnTheMap","methods","test","googleMap","navigator","geolocation","getCurrentPosition","position","getAddressFrom","coords","latitude","longitude","long","axios","get","then","response","error_message","results","formatted_address","catch","message","map","Map","zoom","LatLng","mapTypeId","MapTypeId","ROADMAP","Marker","__exports__","render"],"sourceRoot":""}