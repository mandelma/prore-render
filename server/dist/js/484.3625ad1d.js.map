{"version":3,"file":"js/484.3625ad1d.js","mappings":"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","sources":["webpack://prore-mongo/./src/service/recipients.js","webpack://prore-mongo/./src/pages/RecipientForm.vue","webpack://prore-mongo/./src/pages/RecipientForm.vue?59c8"],"sourcesContent":["const axios = require('axios');\r\n\r\nconst baseUrl = '/api/recipients';\r\n\r\nconst getRecipients = async () => {\r\n    const results = await axios.get(baseUrl);\r\n    return results.data;\r\n}\r\n\r\nconst addRecipient = async (id, newRecipient) => {\r\n    const recipient = await axios.post(`${baseUrl}/${id}`, newRecipient);\r\n    return recipient.data;\r\n}\r\n\r\nexport default { getRecipients, addRecipient }","<template>\r\n\r\n  <div>\r\n    <h2 style=\"margin-top: 50px;\">Client</h2>\r\n    <MDBContainer>\r\n      <form>\r\n        <MDBInput\r\n            label=\"Anna osoitteesi\"\r\n            v-model=\"address\"\r\n            id=\"osoite\"\r\n            size=\"lg\" wrapperClass=\"mb-4\"/>\r\n\r\n        <VueDatePicker\r\n            placeholder=\"Missä aikavälillä haluat ammattilaista?\"\r\n            style=\"margin-bottom: 20px;\"\r\n            :min-date=\"new Date()\"\r\n            v-model=\"date\"\r\n            :state=\"false\"\r\n            :markers=\"markers\"\r\n\r\n        >\r\n\r\n\r\n        </VueDatePicker>\r\n\r\n        <h2>{{dateTest}}</h2>\r\n\r\n\r\n        <div>Selected: {{ professional }}</div>\r\n\r\n        <div class=\"ui form\">\r\n          <div class=\"field\">\r\n            <select v-model=\"professional\">\r\n              <option disabled value=\"\">Valitse ammattilainen</option>\r\n              <option>Putkimies</option>\r\n              <option>Sähkömies</option>\r\n              <option>Siivooja</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </form>\r\n\r\n      <h1>{{result}}</h1>\r\n      <MDBBtn outline=\"success\" size=\"lg\" block @click=\"this.$router.push('/received')\">Asiakkaan paneeli</MDBBtn>\r\n      <!--\r\n      <MDBBtn outline=\"success\" size=\"lg\" block @click=\"addRecipient\">Add</MDBBtn>\r\n      <MDBBtn outline=\"success\" size=\"lg\" block @click=\"getDate\">Get date</MDBBtn>\r\n      -->\r\n      <MDBBtn outline=\"danger\" size=\"lg\" block @click=\"this.$router.push('/')\" style=\"margin-bottom: 50px;\"> Poistu </MDBBtn>\r\n\r\n    </MDBContainer>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n/*global google*/\r\nimport VueDatePicker from '@vuepic/vue-datepicker';\r\nimport {\r\n  MDBBtn,\r\n  MDBContainer,\r\n  MDBInput\r\n} from \"mdb-vue-ui-kit\";\r\nimport recipientService from '../service/recipients'\r\n//import {ref} from \"vue\";\r\n\r\n\r\n\r\n//import mapService from '../service/map'\r\n\r\n\r\nexport default {\r\n  name: \"recipient-form\",\r\n  components: {\r\n    MDBBtn,\r\n    MDBContainer,\r\n    MDBInput,\r\n    VueDatePicker\r\n  },\r\n  data () {\r\n\r\n    return {\r\n      recipientId: null,\r\n      address: null,\r\n      lat: null,\r\n      lng: null,\r\n      professional: \"\",\r\n      date: null,\r\n      dateTest: null,\r\n      calendarTooltips: []\r\n\r\n    }\r\n  },\r\n\r\n  setup () {\r\n\r\n\r\n    return {\r\n\r\n\r\n    }\r\n  },\r\n\r\n  onMounted () {\r\n    this.date.value = \"Thu Apr 20 2023 10:27:00 GMT+0300\"\r\n  },\r\n  async mounted () {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedAppUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      this.recipientId = user.id\r\n      //console.log(\"User token: \" + this.loggedUser.token)\r\n      console.log(\"User id in recipient: \" + user.id)\r\n    }\r\n\r\n\r\n\r\n    //console.log(\"Google key test: \" + await mapService.getLocation())\r\n\r\n    const center = { lat: 50.064192, lng: -130.605469 };\r\n    // Create a bounding box with sides ~10km away from the center point\r\n    const defaultBounds = {\r\n      north: center.lat + 0.1,\r\n      south: center.lat - 0.1,\r\n      east: center.lng + 0.1,\r\n      west: center.lng - 0.1,\r\n    };\r\n    const input = document.getElementById(\"osoite\");\r\n    const options = {\r\n      bounds: defaultBounds,\r\n      componentRestrictions: { country: \"est\" },\r\n      fields: [\"address_components\", \"geometry\", \"icon\", \"name\", \"formatted_address\"],\r\n      strictBounds: false,\r\n      //types: [\"establishment\"],\r\n    };\r\n    const autocomplete = new google.maps.places.Autocomplete(input, options);\r\n\r\n    autocomplete.addListener(\"place_changed\", () => {\r\n      let place = autocomplete.getPlace()\r\n      this.lat = place.geometry.location.lat()\r\n      this.lng = place.geometry.location.lng()\r\n\r\n      this.address = place.formatted_address\r\n      console.log(place)\r\n    })\r\n  },\r\n\r\n  methods: {\r\n\r\n\r\n    backToDashboard () {\r\n\r\n    },\r\n    getDate () {\r\n      // date Thu Apr 20 2023 10:27:00 GMT+0300\r\n      console.log(\"selected date: \" + this.date.getDate())\r\n    },\r\n    // New client to database\r\n    async addRecipient () {\r\n      const recipient = {\r\n        address: this.address,\r\n        latitude: this.lat,\r\n        longitude: this.lng,\r\n        professional: this.professional,\r\n        month: this.date.getMonth(),\r\n        day: this.date.getDate(),\r\n        hours: this.date.getHours(),\r\n        minutes: this.date.getMinutes()\r\n      }\r\n\r\n      await recipientService.addRecipient(this.recipientId, recipient)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./RecipientForm.vue?vue&type=template&id=4329a8bc\"\nimport script from \"./RecipientForm.vue?vue&type=script&lang=js\"\nexport * from \"./RecipientForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\majaa\\\\WebstormProjects\\\\prore-mongo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["axios","require","baseUrl","getRecipients","async","results","get","data","addRecipient","id","newRecipient","recipient","post","_createElementVNode","style","class","disabled","value","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createElementBlock","_hoisted_1","_createVNode","_component_MDBContainer","_component_MDBInput","label","$data","address","$event","size","wrapperClass","_component_VueDatePicker","placeholder","Date","date","state","markers","_ctx","_toDisplayString","dateTest","professional","_hoisted_2","_hoisted_3","result","_component_MDBBtn","outline","block","onClick","_cache","$router","push","name","components","MDBBtn","MDBContainer","MDBInput","VueDatePicker","recipientId","lat","lng","calendarTooltips","setup","onMounted","this","loggedUserJSON","window","localStorage","getItem","user","JSON","parse","console","log","center","defaultBounds","north","south","east","west","input","document","getElementById","options","bounds","componentRestrictions","country","fields","strictBounds","autocomplete","google","maps","places","Autocomplete","addListener","place","getPlace","geometry","location","formatted_address","methods","backToDashboard","getDate","latitude","longitude","month","getMonth","day","hours","getHours","minutes","getMinutes","recipientService","__exports__","render"],"sourceRoot":""}