"use strict";(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[450],{4450:function(e,s,t){t.r(s),t.d(s,{default:function(){return g}});var r=t(3396);const o={style:{"margin-top":"200px"}};function n(e,s,t,n,a,u){const l=(0,r.up)("User"),i=(0,r.up)("MessagePanel");return(0,r.wg)(),(0,r.iD)("div",o,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.chatusers,((e,s)=>((0,r.wg)(),(0,r.iD)("div",{key:s},[(0,r.Wm)(l,{user:e,selected:a.selectedUser===e,onSelect:s=>u.selectUser(e)},null,8,["user","selected","onSelect"])])))),128)),a.selectedUser?((0,r.wg)(),(0,r.j4)(i,{key:0,user:a.selectedUser,"onNew:message":u.onMessage},null,8,["user","onNew:message"])):(0,r.kq)("",!0)])}var a=t(8626),u=t(401),l=t(4058),i={name:"live-chat",props:{test:String,chatusers:Array,loggedInUser:Object,bookings:Array,bookingsHistory:Array,un:String,ri:String},components:{User:a.Z,MessagePanel:u.Z},data(){return{user:{},selectedUser:null,users:[],msg:"",messages:[],userId:null,username:"",room:"",count:0}},methods:{listen:function(){},sendMessage:function(){""!==this.msg&&(l.Z.emit("msg",this.msg),this.msg="")},startChat(){let e="userdialog",s="eka";l.Z.emit("credentials",{userID:this.loggedUser.id,username:s,room:e})},submit(){},selectUser(e){this.$emit("select:user",e),this.selectedUser=e},onMessage(e,s){this.$emit("on:message",e,s)},renderChat(){this.count++},newChat(){console.log("Aaaaaaaa");let e="alla",s="tuba";this.usernameAlreadySelected=!0,l.Z.auth={username:e,room:s},l.Z.connect()},onUsernameSelection(e,s){console.log("Aaaaaaaa"),this.username=e,this.room=s,this.usernameAlreadySelected=!0,l.Z.auth={username:e,room:s},l.Z.connect()},updateRoom(){l.Z.emit("updateRoom","uus-tuba"),l.Z.on("get room users",(e=>{this.users=e})),this.socketResetTest()},removeChatUser(){console.log("Remove chat user"),l.Z.emit("unsubscribe"),window.localStorage.removeItem("sessionID"),l.Z.on("get room users",(e=>{this.users=e})),location.reload()}},computed:{isValid(){return this.msg.length>0}},mounted(){},unmounted(){}},c=t(89);const m=(0,c.Z)(i,[["render",n],["__scopeId","data-v-9644ed3e"]]);var g=m}}]);
//# sourceMappingURL=450.715b1bfa.js.map