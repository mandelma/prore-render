{"version":3,"file":"js/978.d438d5b4.js","mappings":"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","sources":["webpack://prore-mongo/./src/components/Info.vue","webpack://prore-mongo/./src/components/Info.vue?5bb4","webpack://prore-mongo/./src/pages/RecipientPanel.vue","webpack://prore-mongo/./src/components/controllers/distance.js","webpack://prore-mongo/./src/pages/RecipientPanel.vue?32f9"],"sourcesContent":["<template>\r\n  <div v-if=\"status === 'for-recipient-test'\">\r\n    <div class = \"waiting-info\">\r\n      <b>{{msg.provider}}</b> -\r\n      {{msg.header}}\r\n      <monthConverter :num=\" msg.onTime[0].month\" />, {{msg.onTime[0].day}}, {{msg.onTime[0].year}}\r\n      kello\r\n      {{msg.onTime[0].hours}} : {{msg.onTime[0].minutes}}\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div v-else>\r\n    <div  class=\"info\">\r\n      <MDBBtnClose\r\n          class=\"closeConfirmedBooking\"\r\n          @click=\"handleCloseInfo\"\r\n      />\r\n      <div v-if=\"status === 'for-provider'\">\r\n        <h2><b>{{msg.header}}</b></h2> {{msg.address}}\r\n        <monthConverter :num=\" msg.onTime[0].month\" />, {{msg.onTime[0].day}}, {{msg.onTime[0].year}}\r\n        kello\r\n        {{msg.onTime[0].hours}} : {{msg.onTime[0].minutes}}\r\n      </div>\r\n      <div v-else-if=\"status === 'recipient'\">\r\n        <b>{{msg.provider}}</b> -\r\n        {{msg.header}}\r\n        <monthConverter :num=\" msg.onTime[0].month\" />, {{msg.onTime[0].day}}, {{msg.onTime[0].year}}\r\n        kello\r\n        {{msg.onTime[0].hours}} : {{msg.onTime[0].minutes}}\r\n      </div>\r\n  </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {MDBBtnClose} from 'mdb-vue-ui-kit'\r\nimport monthConverter from './controllers/month-converter'\r\nexport default {\r\n  name: \"Info\",\r\n  props: {\r\n    status: String,\r\n    msg: String\r\n  },\r\n  components: {\r\n    MDBBtnClose,\r\n    monthConverter\r\n  },\r\n  methods: {\r\n    handleCloseInfo () {\r\n      this.$emit('close:info')\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.info {\r\n  color: white;\r\n  background: lightblue;\r\n  font-size: 20px;\r\n  border: solid #acbbbc;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n\r\n}\r\n.waiting-info {\r\n  width: 100%;\r\n  color: grey;\r\n  background: #f5f532;\r\n  font-size: 20px;\r\n  border: solid #acbbbc;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n.closeConfirmedBooking {\r\n  float: right;\r\n}\r\n</style>","import { render } from \"./Info.vue?vue&type=template&id=0a2a8d86&scoped=true\"\nimport script from \"./Info.vue?vue&type=script&lang=js\"\nexport * from \"./Info.vue?vue&type=script&lang=js\"\n\nimport \"./Info.vue?vue&type=style&index=0&id=0a2a8d86&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0a2a8d86\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <!--\r\n    <div v-if=\"isAvailable\">\r\n      <RecipientSuccess\r\n        :provider = provider\r\n      />\r\n    </div>\r\n    -->\r\n\r\n<!--    <h1 style=\"margin-top: 200px; margin-bottom: 50px\">Asiakkaan hallintapaneeli...</h1>-->\r\n\r\n    <MDBContainer style=\"margin-top: 200px\">\r\n<!--      {{confirmedBookings}}-->\r\n\r\n      <div v-if=\"isBooking\">\r\n        <recipientResult\r\n            :booking = booking\r\n            :bookingTime = recipientDateTime\r\n            :providers = providerMatchByProfession\r\n            :confirmedBookings = confirmedBookings\r\n            :line = line\r\n            @set:order:to:send = handleOrderToSend\r\n            @remove:confirmed:provider = handleConfirmedProvider\r\n            @cansel:result = handleCanselResult\r\n\r\n            @finalinfo = finalinfo\r\n            :chatusers = chatusers\r\n            @select = selectUser\r\n            @chatCredentials = chatCredentials\r\n        />\r\n      </div>\r\n      <div v-else>\r\n\r\n        <div v-if=\"!bookings\" class=\"spinner-border\" role=\"status\">\r\n          <span class=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n        <div v-else>\r\n\r\n          <MDBRow>\r\n            <MDBCol md=\"6\">\r\n\r\n            </MDBCol>\r\n            <MDBCol md=\"6\" >\r\n              <aside v-if=\"confirmedBookings.length > 0\" id=\"info-block\" >\r\n                <section class=\"file-marker\">\r\n                  <div>\r\n                    <div class=\"box-title\">\r\n                      Kinnitatud broneeringud\r\n                    </div>\r\n                    <div class=\"box-contents\">\r\n                      <bookingInfo\r\n                          v-for=\"item in confirmedBookings\" :key=\"item.id\"\r\n                          status = \"recipient\"\r\n                          :msg = item\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </section>\r\n              </aside>\r\n            </MDBCol>\r\n          </MDBRow>\r\n\r\n\r\n\r\n\r\n\r\n\r\n          <h3>Sinulla on hetkellä - {{bookings.length}} - avointa tilausta:</h3>\r\n\r\n          <MDBRow v-for=\"booking in bookings\" :key=\"booking.id\" class=\"bookings\">\r\n            <aside v-if=\"clientConfirmedBookings.some(ccb => ccb.id === booking.id)\" id=\"info-block-confirmed\" >\r\n              <section class=\"file-marker\">\r\n                <div>\r\n                  <div class=\"box-title-confirmed\">\r\n                    Broneering on ootel kui firma kinnitab\r\n                  </div>\r\n                  <div class=\"box-contents-confirmed\">\r\n                    <MDBRow>\r\n                      <MDBCol>\r\n                        {{booking.date}}\r\n                      </MDBCol>\r\n                      <MDBCol>\r\n                        {{booking.header}}\r\n                      </MDBCol>\r\n                      <MDBCol>\r\n                        <MDBBtn outline=\"info\" block size=\"lg\" @click=\"handleRecipientResult(booking.id)\" disabled>Tiedot</MDBBtn>\r\n                      </MDBCol>\r\n                    </MDBRow>\r\n\r\n                  </div>\r\n                </div>\r\n              </section>\r\n            </aside>\r\n\r\n\r\n            <aside v-else>\r\n              <MDBRow>\r\n                <MDBCol>\r\n                  {{booking.date}}\r\n                </MDBCol>\r\n                <MDBCol>\r\n                  {{booking.header}}\r\n                </MDBCol>\r\n                <MDBCol>\r\n                  <MDBBtn outline=\"info\" block size=\"lg\" @click=\"handleRecipientResult(booking.id)\">Tiedot</MDBBtn>\r\n                </MDBCol>\r\n              </MDBRow>\r\n\r\n            </aside>\r\n\r\n\r\n\r\n          </MDBRow>\r\n\r\n\r\n\r\n          -----------------------------------------------------------------\r\n\r\n<!--          <MDBTable borderless style=\"font-size: 16px; text-align: left;\" >-->\r\n<!--            <tbody>-->\r\n<!--            <tr v-for=\"(booking) in bookings\" :key=\"booking.id\">-->\r\n\r\n<!--              <td>-->\r\n\r\n<!--                {{booking.date}}-->\r\n\r\n<!--              </td>-->\r\n<!--              <td>-->\r\n<!--                {{booking.header}}-->\r\n<!--              </td>-->\r\n<!--              <td>-->\r\n<!--                <MDBBtn outline=\"info\" block size=\"lg\" @click=\"handleRecipientResult(booking.id)\">Tiedot</MDBBtn>-->\r\n<!--              </td>-->\r\n\r\n<!--            </tr>-->\r\n<!--            </tbody>-->\r\n<!--          </MDBTable>-->\r\n          <MDBBtn outline=\"info\" block size=\"lg\" @click=\"newBooking\">Teen uuden tilauksen</MDBBtn>\r\n          <MDBBtn outline=\"black\" block size=\"lg\" @click=\"openMap\">Asiantuntijoita ympärilläsi</MDBBtn>\r\n          <!--\r\n          <MDBBtn outline=\"info\" block size=\"lg\" @click=\"getDistance\">Distance</MDBBtn>\r\n          <MDBBtn outline=\"info\" block size=\"lg\" @click=\"compareTime\">Compare time</MDBBtn>\r\n          -->\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n    </MDBContainer>\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {\r\n  //MDBTable,\r\n  MDBBtn,\r\n  MDBContainer,\r\n  MDBRow,\r\n  MDBCol\r\n}from \"mdb-vue-ui-kit\";\r\nimport {ref} from \"vue\";\r\n//import validateToken from \"@/components/validateToken\";\r\n//import Fieldset from 'primevue/fieldset';\r\n\r\n//import RecipientSuccess from '../components/RecipientSuccess'\r\nimport recipientResult from '../pages/RecipientPanelResult'\r\nimport providerService from '../service/providers'\r\nimport recipientService from '../service/recipients'\r\nimport bookingInfo from '../components/Info'\r\n//import axios from \"axios\";\r\nimport driving from '../components/controllers/distance'\r\n\r\nimport monthConverter from '../components/controllers/month-converter'\r\nexport default {\r\n  name: \"recipient-panel\",\r\n  props: {\r\n    chatusers: Array,\r\n    recipientBookings: Array, // bookings from app (not active)\r\n\r\n  },\r\n  data () {\r\n    return {\r\n      bookings: [],\r\n      provider: {},\r\n      booking: null,\r\n      confirmedBookings: [],\r\n      clientConfirmedBookings: [],\r\n      isBooking: false,\r\n      //providerMatchByProfession: null,\r\n      providerMatchByProfession: [],\r\n      providerMatchingRequirements: null,\r\n      line: \"\",\r\n      recipientDateTime: null,\r\n\r\n    }\r\n  },\r\n  setup () {\r\n    const isAvailable = ref(false)\r\n    return {\r\n      isAvailable\r\n    }\r\n  },\r\n  components: {\r\n    //RecipientSuccess,\r\n    //Fieldset,\r\n    //validateToken,\r\n    bookingInfo,\r\n    recipientResult,\r\n    //MDBTable,\r\n    MDBBtn,\r\n    MDBContainer,\r\n    MDBRow,\r\n    MDBCol\r\n    //MDBBadge\r\n  },\r\n  async mounted () {\r\n\r\n    /*const validated = await validateToken()\r\n    if (!validated) {\r\n      //console.log(\"user is no validated\")\r\n      this.$router.push('/login');\r\n    } else {\r\n      //console.log(\"User is validated\")\r\n      this.userId = validated.id\r\n      this.provider = await providerService.getProvider(validated.id);\r\n\r\n      this.handleRecipientBookings();\r\n    }*/\r\n\r\n    const loggedUserJSON = window.localStorage.getItem('loggedAppUser')\r\n    if (!loggedUserJSON) {\r\n      this.$router.push('/')\r\n    } else {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      this.userId = user.id\r\n      this.provider = await providerService.getProvider(user.id);\r\n\r\n      this.handleRecipientBookings();\r\n\r\n    }\r\n\r\n  },\r\n  methods: {\r\n    selectUser (user) {\r\n      this.$emit('select:user', user);\r\n    },\r\n    finalinfo (data) {\r\n      console.log(\"Data in recipient panel \" + data)\r\n      this.$emit(\"finalinfo\", data)\r\n    },\r\n    chatCredentials (data) {\r\n      this.$emit(\"chatCredentials\", data);\r\n    },\r\n    async handleRecipientBookings () {\r\n      let bookings = await recipientService.getOwnBookings(this.userId);\r\n      this.confirmedBookings = bookings.filter(booking => booking.status === \"confirmed\");\r\n      this.clientConfirmedBookings = bookings.filter(cb => cb.status === \"notSeen\" || cb.status === \"seen\");\r\n      this.bookings = bookings.filter(b => b.status !== \"confirmed\");\r\n      //this.bookings = bookings.filter(booking => booking.status === \"waiting\")\r\n\r\n    },\r\n    async handleRecipientResult (id) {\r\n      //this.isAvailable = true\r\n      console.log(\"Provider id is: \" + id)\r\n\r\n      this.booking = await recipientService.getBookingById(id);\r\n\r\n      console.log(\"Profession: \" + this.booking.map(b => b.professional))\r\n      let temp = []\r\n      //const profession = this.booking.map(b => b.professional)\r\n      temp = this.booking[0].professional;\r\n      this.booking.map(b => {\r\n        //temp = b.professional\r\n        //temp.push(b.professional);\r\n        this.recipientDateTime = new Date(2023, b.onTime[0].month, b.onTime[0].day, b.onTime[0].hours, b.onTime[0].minutes)\r\n        console.log(\"Recipient datetime: \" + b.onTime[0].day)\r\n      })\r\n\r\n      console.log(\"xxx \" + this.recipientDateTime.getTime())\r\n      // TODO siia veel mitmuse form elukutse sobivuse kohalt otsingus\r\n      this.line = temp[0]\r\n      //this.line = profession;\r\n      // maybe lot of recipients by professional tag\r\n\r\n\r\n\r\n      this.providerMatchByProfession = await providerService.getProvidersMatchingByProfession(\r\n          {result: temp}\r\n      )\r\n\r\n      console.log(\"xxxxxx \" + this.providerMatchByProfession.length)\r\n\r\n      this.isBooking = true;\r\n      //console.log(\"Booking: \" + this.booking.address)\r\n    },\r\n    handleOrderToSend (id) {\r\n      console.log(\"Order is sended \" + id)\r\n      this.clientConfirmedBookings = this.clientConfirmedBookings.concat(this.booking);\r\n      //this.bookings = this.bookings.filter(booking => booking.id !== id)\r\n    },\r\n    newBooking () {\r\n      // if(this.$route.query.redirect) {\r\n      //   this.$router.push(this.$route.query.redirect)\r\n      // }else{\r\n      //   this.$router.push('/rf')\r\n      // }\r\n      this.$router.push('/rf')\r\n\r\n\r\n    },\r\n    handleConfirmedProvider (provId) {\r\n      this.providerMatchByProfession = this.providerMatchByProfession.filter(prov => prov.id !== provId);\r\n    },\r\n    openMap () {\r\n      this.$router.push('/recipient-public');\r\n    },\r\n    getDistance () {\r\n      driving.distance();\r\n      // var origin = new google.maps.LatLng(60.233093,24.7531362);\r\n      // var destination = new google.maps.LatLng(60.2767265,24.8575089);\r\n      // var service = new google.maps.DistanceMatrixService();\r\n      // service.getDistanceMatrix(\r\n      //     {\r\n      //       origins: [origin],\r\n      //       destinations: [destination],\r\n      //       travelMode: 'DRIVING',\r\n      //       unitSystem: google.maps.UnitSystem.METRIC,\r\n      //       durationInTraffic: true,\r\n      //       avoidHighways: false,\r\n      //       avoidTolls: false\r\n      //     }, this.response_data);\r\n\r\n    },\r\n\r\n    // response_data(responseDis, status) {\r\n    //   if (status !== google.maps.DistanceMatrixStatus.OK || status !== \"OK\"){\r\n    //     console.log('Error:', status);\r\n    //     // OR\r\n    //     alert(status);\r\n    //   }else{\r\n    //   alert(responseDis.rows[0].elements[0].distance.value);\r\n    //   }\r\n    // },\r\n    compareTime () {\r\n      console.log(\"Month is: \" + monthConverter.month(4))\r\n\r\n      // console.log(\"Time comparison: \" + (new Date(2023,3, 20, 10, 20).getTime()\r\n      //     < new Date(2023, 3, 20, 11, 11).getTime()))\r\n    },\r\n\r\n    handleCanselResult (back) {\r\n      console.log(\"Canseled: \" + back)\r\n      this.isBooking = back;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.bookings {\r\n  font-size: 16px;\r\n  text-align: left;\r\n  padding: 20px;\r\n}\r\n\r\n\r\n#info-block section {\r\n  border: 1px solid #a0dde0;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n#info-block-confirmed section {\r\n  border: 2px solid #d5b13c;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.file-marker > div {\r\n  padding: 0 3px;\r\n  /*height: 130px;*/\r\n  /*margin-top: -0.8em;*/\r\n  margin-top: -1em;\r\n}\r\n\r\n.box-title {\r\n  background: white none repeat scroll 0 0;\r\n  display: inline-block;\r\n  /*padding: 0 2px;*/\r\n  font-size: 16px;\r\n  padding: 0 10px;\r\n\r\n  margin-left: 8em;\r\n}\r\n.box-title-confirmed {\r\n  background: white none repeat scroll 0 0;\r\n  display: inline-block;\r\n  color: red;\r\n  /*padding: 0 2px;*/\r\n  font-size: 16px;\r\n  padding: 0 10px;\r\n\r\n  margin-left: 8em;\r\n}\r\n.box-contents {\r\n  border: solid red;\r\n  padding: 10px;\r\n  overflow-y: auto;\r\n}\r\n.box-contents-confirmed {\r\n\r\n  padding: 10px;\r\n}\r\n</style>","/*global google*/\r\n\r\nconst distance = () => {\r\n    //let text = \"\";\r\n    //let value = 0;\r\n    var origin = new google.maps.LatLng(60.233093,24.7531362);\r\n    var destination = new google.maps.LatLng(60.2767265,24.8575089);\r\n    var service = new google.maps.DistanceMatrixService();\r\n    service.getDistanceMatrix(\r\n        {\r\n            origins: [origin],\r\n            destinations: [destination],\r\n            travelMode: 'DRIVING',\r\n            unitSystem: google.maps.UnitSystem.METRIC,\r\n            durationInTraffic: true,\r\n            avoidHighways: false,\r\n            avoidTolls: false\r\n        }, response_data);\r\n}\r\n\r\nconst response_data = (responseDis, status) => {\r\n    if (status !== google.maps.DistanceMatrixStatus.OK || status !== \"OK\"){\r\n        console.log('Error:', status);\r\n        // OR\r\n        alert(status);\r\n    }else{\r\n        alert(responseDis.rows[0].elements[0].distance.text);\r\n    }\r\n}\r\n\r\nconst test = () => {\r\n    console.log(\"Is it working??\")\r\n}\r\n\r\nexport default { distance, test }","import { render } from \"./RecipientPanel.vue?vue&type=template&id=bd0c7af6&scoped=true\"\nimport script from \"./RecipientPanel.vue?vue&type=script&lang=js\"\nexport * from \"./RecipientPanel.vue?vue&type=script&lang=js\"\n\nimport \"./RecipientPanel.vue?vue&type=style&index=0&id=bd0c7af6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bd0c7af6\"]])\n\nexport default __exports__"],"names":["class","$props","status","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","msg","provider","header","_createVNode","_component_monthConverter","num","onTime","month","day","year","hours","minutes","_hoisted_3","_hoisted_4","_component_MDBBtnClose","onClick","$options","handleCloseInfo","_hoisted_5","address","_hoisted_6","name","props","String","components","MDBBtnClose","monthConverter","methods","this","$emit","__exports__","render","role","id","_component_MDBContainer","style","$data","isBooking","_component_recipientResult","booking","bookingTime","recipientDateTime","providers","providerMatchByProfession","confirmedBookings","line","handleOrderToSend","handleConfirmedProvider","handleCanselResult","onFinalinfo","finalinfo","chatusers","onSelect","selectUser","onChatCredentials","chatCredentials","bookings","_component_MDBRow","_component_MDBCol","md","length","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_Fragment","_renderList","item","_createBlock","_component_bookingInfo","key","clientConfirmedBookings","some","ccb","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","date","_component_MDBBtn","outline","block","size","$event","handleRecipientResult","disabled","_hoisted_15","newBooking","openMap","distance","origin","google","maps","LatLng","destination","service","DistanceMatrixService","getDistanceMatrix","origins","destinations","travelMode","unitSystem","UnitSystem","METRIC","durationInTraffic","avoidHighways","avoidTolls","response_data","responseDis","DistanceMatrixStatus","OK","console","log","alert","rows","elements","text","test","Array","recipientBookings","data","providerMatchingRequirements","setup","isAvailable","ref","bookingInfo","recipientResult","MDBBtn","MDBContainer","MDBRow","MDBCol","async","loggedUserJSON","window","localStorage","getItem","user","JSON","parse","userId","providerService","getProvider","handleRecipientBookings","$router","push","recipientService","getOwnBookings","filter","cb","b","getBookingById","map","professional","temp","Date","getTime","getProvidersMatchingByProfession","result","concat","provId","prov","getDistance","driving","compareTime","back"],"sourceRoot":""}