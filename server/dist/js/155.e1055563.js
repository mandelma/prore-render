(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[155],{4729:function(e){e.exports={}},5118:function(e,t,a){"use strict";var o=a(3396);const s=({message:e})=>null===e?null:(0,o.Wm)("div",{className:"error"},[e]);t.Z=s},3998:function(e,t){"use strict";const a=[{label:"Hitsaaja"},{label:"Putkimies"},{label:"Sähkömies"}],o=[{label:"Siivooja",value:"4"}],s=[{label:"Kirurgi",value:"5"},{label:"Psykiatri",value:"6"}],l=[{label:"Kampaaja",value:"7"},{label:"Parturi",value:"8"}],r=[{group:"Rakennus",options:a},{group:"Kiinteistöala",options:o},{group:"Terveydenala",options:s},{group:"Kauneusala",options:l}];t.Z=r},4155:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});a(7658);var o=a(3396),s=a(7139),l=a(9242);const r=(0,o._)("h2",{style:{"margin-top":"50px","margin-bottom":"50px"}},"-TMI panel-",-1),i=(0,o._)("p",{style:{"text-align":"left",color:"deepskyblue","font-size":"18px"}},"jos sädettä ei ole merkitty, se tarkoittaa, että tarjoat palvelua vain määritetyssä osoitteessa",-1),n={class:"ui large form"},u=(0,o._)("option",{value:""},"Valitse oma ammattisi",-1),d=["label"],p=["value"],m=["value"],g={style:{margin:"20px 0 20px 0"}};function c(e,t,a,c,y,h){const b=(0,o.up)("ErrorNotification"),v=(0,o.up)("MDBInput"),f=(0,o.up)("MDBCheckbox"),k=(0,o.up)("MDBBtn"),w=(0,o.up)("MDBContainer");return(0,o.wg)(),(0,o.iD)("div",null,[r,(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Wm)(b,{message:y.errorFormMessage},null,8,["message"]),(0,o._)("form",null,[(0,o.Wm)(v,{label:"Anna yrityksen nimi",modelValue:c.yritys,"onUpdate:modelValue":t[0]||(t[0]=e=>c.yritys=e),white:"",id:"yritys",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,o.Wm)(v,{label:"Anna yrityksen y-tunnus",modelValue:c.ytunnus,"onUpdate:modelValue":t[1]||(t[1]=e=>c.ytunnus=e),white:"",id:"ytunnus",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,o.Wm)(v,{label:"Anna osoitteesi",white:"",id:"osoite",size:"lg",wrapperClass:"mb-4"}),i,(0,o.Wm)(v,{wrapperClass:"mb-4",label:"Anna toiminta-alueen säde - km",white:"",modelValue:c.range,"onUpdate:modelValue":t[2]||(t[2]=e=>c.range=e),size:"lg",type:"number"},null,8,["modelValue"]),(0,o._)("div",n,[(0,o.wy)((0,o._)("select",{class:"pro_form_select",style:{"background-color":"#141414",color:"#ddd",border:"1px solid dimgrey"},"onUpdate:modelValue":t[3]||(t[3]=e=>y.profession=e)},[u,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(y.prodata,(e=>((0,o.wg)(),(0,o.iD)(o.HY,null,[e.group?((0,o.wg)(),(0,o.iD)("optgroup",{label:e.group,key:e.group},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.options,(e=>((0,o.wg)(),(0,o.iD)("option",{value:e.label,key:e.label},(0,s.zw)(e.label),9,p)))),128))],8,d)):((0,o.wg)(),(0,o.iD)("option",{value:e,key:e.value},(0,s.zw)(e.label),9,m))],64)))),256))],512),[[l.bM,y.profession]])]),(0,o.Wm)(v,{label:"Anna tuntihinta",modelValue:c.price,"onUpdate:modelValue":t[4]||(t[4]=e=>c.price=e),white:"",id:"hinta",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,o._)("div",g,[(0,o.Wm)(f,{label:"Saatavilla 24/7",white:"",modelValue:c.isAvailable24_7,"onUpdate:modelValue":t[5]||(t[5]=e=>c.isAvailable24_7=e)},null,8,["modelValue"])])]),(0,o.Wm)(k,{outline:"success",size:"lg",block:"",onClick:h.addProvider},{default:(0,o.w5)((()=>[(0,o.Uk)("Add provider profile")])),_:1},8,["onClick"]),(0,o.Wm)(k,{outline:"danger",size:"lg",block:"",onClick:t[6]||(t[6]=e=>this.$router.push("/")),style:{"margin-bottom":"50px"}},{default:(0,o.w5)((()=>[(0,o.Uk)(" Poistu ")])),_:1})])),_:1})])}var y=a(4870),h=a(3998),b=a(5118),v=a(4313),f=a(4161);const k=a(7218),w="/api/map",_=async()=>{const e=await k.get(w);return e.data};var V={getLocation:_},M=a(9398);const A=a(4729),D=a(4729);var C={name:"provider-form",data(){return{result:"",errorFormMessage:null,latitude:0,longitude:0,address:"",profession:"",userId:"",prodata:h.Z}},setup(){const e=(0,y.iH)(""),t=(0,y.iH)(""),a=(0,y.iH)(""),o=(0,y.iH)(null),s=(0,y.iH)(null),l=(0,y.iH)(!1);return{yritys:e,ytunnus:t,date:a,price:o,range:s,isAvailable24_7:l}},components:{MDBContainer:v.L5,MDBBtn:v.$v,MDBInput:v.u2,MDBCheckbox:v.IH,errorNotification:b.Z},mounted(){const e=window.localStorage.getItem("loggedAppUser");if(e){const t=JSON.parse(e);this.userId=t.id,console.log("User id in Provider: "+t.id)}console.log("Google key is: "+D.google);const t={lat:50.064192,lng:-130.605469},a={north:t.lat+.1,south:t.lat-.1,east:t.lng+.1,west:t.lng-.1},o=document.getElementById("osoite"),s={bounds:a,componentRestrictions:{country:"fi"},fields:["address_components","geometry","icon","name","formatted_address"],strictBounds:!1},l=new google.maps.places.Autocomplete(o,s);l.addListener("place_changed",(()=>{let e=l.getPlace();this.latitude=e.geometry.location.lat(),this.longitude=e.geometry.location.lng(),console.log(e),console.log("Latitude: "+e.geometry.location.lat()),console.log("Full address: "+e.formatted_address),this.address=e.formatted_address}))},methods:{canselSession(){this.$emit("cansel:provider","Test")},getAddress(){f.Z.get("https://maps.googleapis.com/maps/api/geocode/json?address=01620+Raikukuja,+Vantaa&key="+A.googleMap).then((e=>{e.data.error_message?(this.error=e.data.error_message,console.log(e.data.error_message)):(this.address=e.data.results[0].formatted_address,console.log(e.data.results[0].formatted_address),console.log(e.data.results[0].address_components[0].long_name),this.result=e.data.results[0].formatted_address)})).catch((e=>{this.error=e.message,this.spinner=!1,console.log(e.message)}))},async addProvider(){const e={yritys:this.yritys,ytunnus:this.ytunnus,address:this.address,latitude:this.latitude,longitude:this.longitude,profession:this.profession,priceByHour:this.price,range:null===this.range?0:this.range,isAvailable24_7:this.isAvailable24_7},t=await M.Z.addProvider(this.userId,e);console.log("Added provider::: "+t),t?this.$router.push("/provider-panel"):(this.errorFormMessage="Tarkista kentat ja yritä uuddelleen!",setTimeout((()=>{this.errorFormMessage=null}),2e3))},testMonth(){},async getTest(){const e=await V.getLocation();console.log("result "+e)}}},B=a(89);const H=(0,B.Z)(C,[["render",c]]);var x=H}}]);
//# sourceMappingURL=155.e1055563.js.map