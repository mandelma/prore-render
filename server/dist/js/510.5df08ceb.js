"use strict";(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[510],{5118:function(e,n,o){var a=o(3396);const t=({message:e})=>null===e?null:(0,a.Wm)("div",{className:"error"},[e]);n.Z=t},5081:function(e,n,o){const a=o(7218),t="/api/reset_pw",s=async e=>{const n=await a.post(`${t}/forgot_auth`,e);return n.data},r=async e=>{const n=await a.get(`${t}/reset_auth/${e}`);return n.data};n.Z={forgot:s,reset:r}},2510:function(e,n,o){o.r(n),o.d(n,{default:function(){return v}});var a=o(3396),t=o(9242),s=o(7139);const r=e=>((0,a.dD)("data-v-fd5585a6"),e=e(),(0,a.Cn)(),e),l=r((()=>(0,a._)("h3",null," Reset password",-1))),i={class:"form-group"},u=r((()=>(0,a._)("label",null,"Uusi salasana",-1))),c={class:"form-group"},p=r((()=>(0,a._)("label",null,"Toista salasana",-1))),d=r((()=>(0,a._)("button",{class:"btn btn-primary btn-block"},"Submit",-1))),m={style:{color:"white"}};function w(e,n,o,r,w,f){const h=(0,a.up)("MDBBtn"),k=(0,a.up)("error-message"),g=(0,a.up)("MDBContainer");return(0,a.wg)(),(0,a.j4)(g,null,{default:(0,a.w5)((()=>[w.isToken?((0,a.wg)(),(0,a.iD)("form",{key:1,style:{"margin-top":"100px"},onSubmit:n[2]||(n[2]=(0,t.iM)(((...n)=>e.handleSubmitReset&&e.handleSubmitReset(...n)),["prevent"]))},[l,(0,a._)("div",i,[u,(0,a.wy)((0,a._)("input",{type:"password",class:"form-control",placeholder:"Uusi salasana","onUpdate:modelValue":n[0]||(n[0]=e=>w.newPw=e)},null,512),[[t.nr,w.newPw]])]),(0,a._)("div",c,[p,(0,a.wy)((0,a._)("input",{type:"password",class:"form-control",placeholder:"Toista salasana","onUpdate:modelValue":n[1]||(n[1]=e=>w.confirmNewPw=e)},null,512),[[t.nr,w.confirmNewPw]]),d])],32)):((0,a.wg)(),(0,a.j4)(h,{key:0,block:"",outline:"warning",onClick:f.handleOpenForm},{default:(0,a.w5)((()=>[(0,a.Uk)("Vaihtaa salasana")])),_:1},8,["onClick"])),(0,a.Wm)(k,{message:w.errorInfo},null,8,["message"]),(0,a._)("p",m,"Token "+(0,s.zw)(w.token),1)])),_:1})}o(7658);var f=o(5081),h=o(5118),k=o(4313),g={name:"Reset",components:{errorMessage:h.Z,MDBContainer:k.L5,MDBBtn:k.$v},data(){return{newPw:"",confirmNewPw:"",isToken:!1,token:this.$route.params.token,errorInfo:null}},methods:{async handleOpenForm(){const e=await f.Z.reset(this.token);"valid"===e?(console.log("Token expired "+e),this.isToken=!0):(console.log("Token is not expired "+e),this.errorInfo=e,setTimeout((()=>{this.errorInfo=null}),3e3),this.$router.push("/forgot_auth"))},habdleSubmitReset(){}}},_=o(89);const b=(0,_.Z)(g,[["render",w],["__scopeId","data-v-fd5585a6"]]);var v=b}}]);
//# sourceMappingURL=510.5df08ceb.js.map