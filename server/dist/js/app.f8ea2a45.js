(function(){var e={5253:function(e,t){"use strict";const s=({num:e})=>{let t="";switch(5===e&&(t="Mis siis"),e){case 0:t="Tammikuu";break;case 1:t="Helmikuu";break;case 2:t="Maaliskuu";break;case 3:t="Huhtikuu";break;case 4:t="Toukokuu";break;case 5:t="Kesäkuu";break;case 6:t="Heinäkuu";break;case 7:t="Elokuu";break;case 8:t="Syyskuu";break;case 9:t="Lokakuu";break;case 10:t="Maaliskuu";break;case 11:t="Joulukuu";break}return t};t.Z=s},547:function(e,t,s){"use strict";var o=s(3396);const n=({message:e})=>(0,o.Wm)("div",{className:"info"},[e]);t.Z=n},8033:function(e,t,s){"use strict";var o=s(3396);const n=({message:e})=>null===e?null:(0,o.Wm)("div",{className:"success"},[e]);t.Z=n},8709:function(e,t,s){"use strict";var o=s(9242),n=s(3396),i=s(7139);const a=["src"],r={style:{"font-size":"12px",padding:"5px"}},l=["src"],c={style:{"font-size":"12px",padding:"5px"}},d=["src"],u={class:"pill"},g=["src"],m=(0,n._)("p",{class:"user"},"Log out",-1),h={id:"container"},p={class:"box"},f=(0,n._)("div",{class:"text-center p-3",style:{"background-color":"rgba(0, 0, 0, 0.2)"}}," © 2024 Copyright: DUVA OY ",-1);function v(e,t,o,v,k,w){const b=(0,n.up)("MDBNavbarBrand"),y=(0,n.up)("router-link"),I=(0,n.up)("MDBNavbarNav"),B=(0,n.up)("MDBNavbarItem"),D=(0,n.up)("MDBBadge"),C=(0,n.up)("MDBDropdownToggle"),x=(0,n.up)("MDBBtnClose"),U=(0,n.up)("MDBDropdownItem"),S=(0,n.up)("MDBDropdownMenu"),M=(0,n.up)("MDBDropdown"),A=(0,n.up)("month-converter"),P=(0,n.up)("MDBNavbar"),_=(0,n.up)("Notifications"),R=(0,n.up)("success-message"),$=(0,n.up)("MDBContainer"),Z=(0,n.up)("MDBFooter"),O=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(P,{dark:"",size:"large",position:"top",bg:"warning",container:"",expand:"xl","bg-secondary":"","bg-gradient":"","text-white":"",class:"d-flex justify-content-between"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{to:"/",onClick:w.onPressedLogoBtn},{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" PROKEIKKATORI ")])),_:1})])),_:1},8,["onClick"]),void 0!==k.loggedUser.token&&k.userIsProvider?((0,n.wg)(),(0,n.j4)(I,{key:0,left:"",class:"mb-2 mb-lg-0"})):(0,n.kq)("",!0),void 0===k.loggedUser.token?((0,n.wg)(),(0,n.j4)(I,{key:1,right:"",class:"mb-2 mb-lg-0 d-flex flex-row"},{default:(0,n.w5)((()=>[(0,n.Wm)(B,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{to:"/login",onClick:t[0]||(t[0]=e=>v.collapse7=!1),style:{color:"greenyellow"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Kirjaudu")])),_:1})])),_:1})])),_:1})):((0,n.wg)(),(0,n.j4)(I,{key:2,right:"",class:"mb-2 mb-lg-0 d-flex flex-row"},{default:(0,n.w5)((()=>[k.chatParticipants.length>0?((0,n.wg)(),(0,n.j4)(M,{key:0,modelValue:v.dropDownChat,"onUpdate:modelValue":t[2]||(t[2]=e=>v.dropDownChat=e),style:{padding:"3px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{tag:"a",class:"nav-link",style:{padding:"20px"},onClick:t[1]||(t[1]=e=>v.dropDownChat=!v.dropDownChat)},{default:(0,n.w5)((()=>[(0,n._)("img",{style:{width:"45px"},src:s(4881),alt:"Chat"},null,8,a),k.newMessageList.length>0?((0,n.wg)(),(0,n.j4)(D,{key:0,class:"translate-middle p-1",pill:"",notification:"",color:"danger"},{default:(0,n.w5)((()=>[(0,n._)("span",r,(0,i.zw)(k.newMessageList.length),1)])),_:1})):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(S,null,{default:(0,n.w5)((()=>[(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(k.chatParticipants,((e,t)=>((0,n.wg)(),(0,n.j4)(U,{key:t},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{to:"/chat",onClick:t=>w.updateRoom(e),style:{"font-size":"17px",padding:"10px"},class:(0,i.C_)({"new-message":k.newMessageList.some((t=>t.userID===e.userID))})},{default:(0,n.w5)((()=>[(0,n.Uk)((0,i.zw)(k.newMessageList.some((t=>t.userID===e.userID))?e.name+"":e.name),1)])),_:2},1032,["onClick","class"]),(0,n.Wm)(x,{style:{"margin-left":"20px"},onClick:t=>w.removeChatnavUser(e)},null,8,["onClick"])])),_:2},1024)))),128))])])),_:1})])),_:1},8,["modelValue"])):(0,n.kq)("",!0),k.recipientCompletedBookings.length>0?((0,n.wg)(),(0,n.j4)(M,{key:1,modelValue:v.dropDownfeedback,"onUpdate:modelValue":t[4]||(t[4]=e=>v.dropDownfeedback=e),style:{padding:"5px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{tag:"a",class:"nav-link",style:{padding:"20px"},onClick:t[3]||(t[3]=e=>v.dropDownfeedback=!v.dropDownfeedback)},{default:(0,n.w5)((()=>[(0,n._)("img",{style:{width:"45px"},src:s(5840),alt:"palaute"},null,8,l),(0,n.Wm)(D,{class:"translate-middle p-1",pill:"",notification:"",color:"danger"},{default:(0,n.w5)((()=>[(0,n._)("span",c,(0,i.zw)(k.recipientCompletedBookings.length),1)])),_:1})])),_:1}),(0,n.Wm)(S,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(k.recipientCompletedBookings,((e,t)=>((0,n.wg)(),(0,n.j4)(U,{href:"#",key:t},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{to:"/feedback",onClick:t=>w.handleFeedbackClient(e)},{default:(0,n.w5)((()=>[(0,n.Wm)(A,{num:e.onTime[0].month},null,8,["num"]),(0,n.Uk)(" /"+(0,i.zw)(e.onTime[0].day)+" -"+(0,i.zw)(e.ordered[0].yritys)+" : "+(0,i.zw)(e.header),1)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["modelValue"])):(0,n.kq)("",!0),k.providerBookings.length>0?((0,n.wg)(),(0,n.j4)(B,{key:2,to:"/notification",class:"me-3 me-lg-0",linkClass:"link-secondary",style:{padding:"10px"}},{default:(0,n.w5)((()=>[(0,n._)("span",{class:(0,i.C_)({"gentle-hover-shake":k.isRingBell})},[(0,n._)("img",{style:{width:"30px","margin-top":"15px"},src:s(1378),onClick:t[5]||(t[5]=(...e)=>w.handleNotifications&&w.handleNotifications(...e)),alt:"Notifications"},null,8,d)],2),k.notSeenClientBookings.length>0?((0,n.wg)(),(0,n.j4)(D,{key:0,notification:"",color:"danger",style:{"margin-top":"10px"},class:"translate-middle p-1",onClick:w.handleNotifications,pill:""},{default:(0,n.w5)((()=>[(0,n._)("span",u,(0,i.zw)(k.notSeenClientBookings.length),1)])),_:1},8,["onClick"])):((0,n.wg)(),(0,n.j4)(D,{key:1,notification:"",color:"danger",class:"translate-middle p-2",pill:""}))])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(M,{modelValue:v.dropdownUser,"onUpdate:modelValue":t[7]||(t[7]=e=>v.dropdownUser=e),style:{padding:"10px"},onClick:w.onPressedUserIcon},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{tag:"a",class:"nav-link",onClick:t[6]||(t[6]=e=>v.dropdownUser=!v.dropdownUser)},{default:(0,n.w5)((()=>[(0,n._)("img",{style:{width:"50px",height:"50px",border:"solid grey","border-radius":"50%"},src:k.showAvatar?k.showAvatar:s(2519)(`./${k.avatar.name}`),alt:"user_avatar"},null,8,g)])),_:1}),(0,n.Wm)(S,null,{default:(0,n.w5)((()=>[(0,n.Wm)(U,{href:"#"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{to:"/profile",class:"user"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Omat tiedot ")])),_:1})])),_:1}),k.userIsProvider?((0,n.wg)(),(0,n.j4)(U,{key:0,href:"#"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{to:"/gallery",class:"user"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Galleria ")])),_:1})])),_:1})):(0,n.kq)("",!0),k.recipientCompletedBookingsHistory.length>0?((0,n.wg)(),(0,n.j4)(U,{key:1},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{to:"/history",class:"user"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Historia ")])),_:1})])),_:1})):(0,n.kq)("",!0),k.userIsProvider?((0,n.wg)(),(0,n.j4)(U,{key:2,href:"#"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{to:"/pay-plan",class:"user"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Laskutus ")])),_:1})])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(U,{href:"#"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{to:"/rules",class:"user"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Säännöt ")])),_:1})])),_:1}),(0,n.Wm)(U,{href:"#",onClick:w.handleLogOut},{default:(0,n.w5)((()=>[m])),_:1},8,["onClick"])])),_:1})])),_:1},8,["modelValue","onClick"])])),_:1}))])),_:1}),k.isNotification?((0,n.wg)(),(0,n.j4)(_,{key:0,"onExit:notifications":w.handleExitNotifications,"onUpdate:status":w.handleStatusUpdate,bookings:k.providerBookings},null,8,["onExit:notifications","onUpdate:status","bookings"])):(0,n.kq)("",!0),(0,n.Wm)(R,{style:{padding:"20px"},message:k.ratingResult},null,8,["message"]),(0,n.Wm)(Z,{bg:"dark",text:["center","white"],class:"fixed-bottom"},{default:(0,n.w5)((()=>[k.clientMapSearchData.length>0?((0,n.wg)(),(0,n.j4)($,{key:0},{default:(0,n.w5)((()=>[(0,n._)("div",h,[(0,n._)("div",null,[(0,n._)("div",p,(0,i.zw)(k.sentence),1)])])])),_:1})):(0,n.kq)("",!0),f])),_:1}),(0,n.Wm)(O,{test:w.test,"onLogin:data":w.handleLogin,"onRegister:data":w.createUser,userIsProvider:k.userIsProvider,proImages:k.proImages,isPro:k.isProOpenGallery,"onAdd:slide":w.handleAddSlide,"onRemove:slide":w.handleRemoveSlide,"onUpdate:gallery":w.handleUpdateGallery,onUpdateGalleryRemove:w.handleUpdateGalleryRemove,loggedInUser:k.loggedUser,recipientBookings:k.recipientBookings,onAddImageToRecipientBookings:w.handleAddImageRecipientBookings,confirmedBookingsByClient:k.clientAcceptedBookings,confirmedBookingsByProvider:k.providerAcceptedBookings,"onBooking:update":w.handleRecipientBookingsUpdate,"onExit:notifications":w.handleExitNotifications,"onUpdate:status":w.handleStatusUpdate,"onUpdate:booking":w.handleUpdateClientConfirmedBooking,"onRemove:booking":w.handleRemoveBooking,onRemoveRecipient:w.handleRemoveRecipient,"onActivate:bell":w.handleActivateBell,"onDeactivate:bell":w.handleDeActivateBell,bookings:k.providerBookings,bookingsConfirmed:k.providerBookingsHistory,recipientConfirmedBookings:k.recipientCompletedBookingsHistory,onRemoveProBookingConfirmed:w.handleRemoveProBookingConfirmed,customer:k.rateCustomer,onIsRated:w.handleRated,onBackFromFeedback:e.handleBackFromFeedbackClient,"onTo:app":w.fromFinal,onFinalinfo:w.fromFinal,onChatCredentials:w.handleChat,chatusers:k.users,activeUser:k.activeUser,messages:k.conversation,newMessageRoom:k.newMessageRoom,provider:k.userIsProvider,recipient:k.recipientBookings,creditLeft:k.proTimeCreditLeft,onUpdateProTimeCredit:w.handleUpdateProTimeCredit,isAccessDenied:k.isAccessTerminated,"onSelect:user":w.onSelectUser,onNoSelected:w.noSelectUser,selecteduser:k.selectedUser,"onOn:message":w.handleMessage,onOtherUser:e.otherUser,onBookingWaitingProBack:w.handleBookingWaitingProBackBtn,onUpdateAvatar:w.handleUpdateAvatar,onRemoveAvatar:w.handleRemoveAvatar,"recipient-test":k.recipientTest,onSetNavbarChatUser:w.handleSetNavbarChatUser,onSetNavbarFeedbackNotification:w.handleSetNavbarFeedback,onResetMapSearch:w.mapSearchReset,wentOut:w.wentOut},null,8,["test","onLogin:data","onRegister:data","userIsProvider","proImages","isPro","onAdd:slide","onRemove:slide","onUpdate:gallery","onUpdateGalleryRemove","loggedInUser","recipientBookings","onAddImageToRecipientBookings","confirmedBookingsByClient","confirmedBookingsByProvider","onBooking:update","onExit:notifications","onUpdate:status","onUpdate:booking","onRemove:booking","onRemoveRecipient","onActivate:bell","onDeactivate:bell","bookings","bookingsConfirmed","recipientConfirmedBookings","onRemoveProBookingConfirmed","customer","onIsRated","onBackFromFeedback","onTo:app","onFinalinfo","onChatCredentials","chatusers","activeUser","messages","newMessageRoom","provider","recipient","creditLeft","onUpdateProTimeCredit","isAccessDenied","onSelect:user","onNoSelected","selecteduser","onOn:message","onOtherUser","onBookingWaitingProBack","onUpdateAvatar","onRemoveAvatar","recipient-test","onSetNavbarChatUser","onSetNavbarFeedbackNotification","onResetMapSearch","wentOut"])],64)}s(7658);var k=s(8579),w=s(2052),b=s(1478),y=s(9398),I=s(5800),B=s(6823);const D=s(7218),C="/api/chatmessages",x=()=>{const e=D.get(C);return e.data},U=async e=>{await D.delete(`${C}/${e}`)};var S={getMessages:x,deleteRoomMessages:U};const M=s(7218),A="/api/chatusers",P=async()=>{const e=await M.get(A);return e.data},_=async e=>{const t=await M.get(`${A}/${e}`);return t.data},R=async e=>{await M.delete(`${A}/${e}`)};var $={getAll:P,getChatUser:_,removeChatMembersRoom:R},Z=s(5253),O=s(8033),N=s(547);const j=async()=>{const e=window.localStorage.getItem("loggedAppUser");if(e){console.log("Tooooken 0 "+e);const t=JSON.parse(e).token,s=await B.Z.verifyToken(t);return!s}};var T={validation:j},L=s(716),H=s(8744),E=s(4313),W=s(4870),F=s(4058);s(7218);const z=e=>{e.hasNewMessages=!1,e.messages=[]};var q={name:"App",props:{},components:{MDBFooter:E.XO,MDBRow:E.uZ,MDBCol:E.TK,MDBContainer:E.L5,MDBBtnClose:E.Ok,User:L.Z,MessagePanel:H.Z,Notifications:w["default"],monthConverter:Z.Z,successMessage:O.Z,infoMessage:N.Z,MDBNavbar:E.A0,MDBCollapse:E.Eq,MDBNavbarItem:E.V$,MDBNavbarBrand:E.JI,MDBNavbarNav:E.T2,MDBNavbarToggler:E.$Y,MDBBadge:E.m_,MDBIcon:E.vm,MDBBtn:E.$v,MDBDropdown:E.H6,MDBDropdownToggle:E.CU,MDBDropdownMenu:E.Ed,MDBDropdownItem:E.i2},data(){return{sentence:null,i:0,chatParticipants:[],test:!1,recipientTest:null,credit:0,testDialog:["eka","toka","pipi"],counter:null,user:null,isNewMessage:!0,messageInfo:"",newMessageList:[],rateCustomer:{},ratingResult:null,newMessageRoom:"",tu:[],roomroom:"",userSocketID:"",info:"",users:[],currentRoom:"",messages:[],conversation:[],selectedUser:null,activeUser:null,msg:"",isBell:!1,loggedUser:{},isAccessTerminated:!1,messageAboutAccess:"Access denied!",recipientBookings:[],clientAcceptedBookings:[],providerAcceptedBookings:[],recipientImages:[],userIsProvider:null,proTimeCreditLeft:null,proImages:[],isProOpenGallery:!0,providerBookings:[],providerBookingsHistory:[],recipientCompletedBookings:[],recipientCompletedBookingsHistory:[],isNotification:!1,notSeenClientBookings:[],avatar:{name:"avatar.png"},showAvatar:null,newMessage:"",otheruser:{},isMapSearchData:!1,isMapSearchActive:!1,clientMapSearchData:[],isRingBell:!1}},created(){},async mounted(){this.validateToken();const e=window.localStorage.getItem("loggedAppUser");if(e){const t=JSON.parse(e);this.user=t;const s=t.username,o=t.id;this.currentRoom=t.username+t.id,this.joinServer(s,o)}const t=window.localStorage.getItem("customerFeedback");if(t){const e=JSON.parse(t);this.rateCustomer=e}setInterval(this.runEveryMinite,1e4)},setup(){const e=(0,W.iH)(!1),t=(0,W.iH)(!1),s=(0,W.iH)(!1),o=(0,W.iH)(!1),n=(0,W.iH)(!1),i=(0,W.iH)(!1);return{collapse7:e,dropDownDialog:t,dropDownChat:s,dropdownUser:o,dropdownBell:n,dropDownfeedback:i}},methods:{removeChatnavUser(e){!0===confirm("Oletko varmaa, että haluat poistaa chat käyttäjän?")?(console.log("You pressed OK!"),this.chatParticipants=this.chatParticipants.filter((t=>t.name!==e.name))):console.log("You canceled!")},removeExpiredRecipientBookings(){console.log("Aaaaaaaaaaaaaaaaa"),this.recipientBookings.forEach((e=>{console.log("Recipient bookings time "+(e.created_ms-(new Date).getTime())),e.created_ms-(new Date).getTime()>0?console.log("It is valid!"):console.log("It is not valid anymore!")}))},mapSearchReset(){this.mapSearchData=null},handleUpdateProTimeCredit(e){this.proTimeCreditLeft=e},handleAddSlide(e,t){this.proImages=[...this.proImages,e]},handleRemoveSlide(e,t){this.proImages=this.proImages.filter(((e,s)=>s!==t))},handleAddImageRecipientBookings(e,t){},async handleRemoveRecipient(e){this.recipientBookings=this.recipientBookings.filter((t=>t.id!==e)),await I.Z.removeBooking(e)},async load(e){await k.Z.createProRefImg(this.userIsProvider.id,e)},async handleUpdateGallery(e){console.log("Will be updated!!"),await k.Z.createProRefImg(this.userIsProvider.id,e)},handleUpdateGalleryRemove(e){e.length>0&&e.forEach((async e=>{await k.Z.removeProRefImage(e,this.userIsProvider.id)}))},wentOut(){console.log("Went................")},isSameId(e,t){return e.value===t.value},comp(){console.log("Comparing"),console.log("xxx--xxx "+this.chatParticipants.map((e=>e.name))),console.log("yyyy---yyyy "+this.newMessageList.map((e=>e.userID)));const e=[{value:"4a55eff3-1e0d-4a81-9105-3ddd7521d642",display:"Jamsheer"},{value:"644838b3-604d-4899-8b78-09e4799f586f",display:"Muhammed"},{value:"b6ee537a-375c-45bd-b9d4-4dd84a75041d",display:"Ravi"},{value:"e97339e1-939d-47ab-974c-1b68c9cfb536",display:"Ajmal"},{value:"a63a6f77-c637-454e-abf2-dfb9b543af6c",display:"Ryan"}],t=[{value:"4a55eff3-1e0d-4a81-9105-3ddd7521d642",display:"Jamsheer",$$hashKey:"008"},{value:"644838b3-604d-4899-8b78-09e4799f586f",display:"Muhammed",$$hashKey:"009"},{value:"b6ee537a-375c-45bd-b9d4-4dd84a75041d",display:"Ravi",$$hashKey:"00A"},{value:"e97339e1-939d-47ab-974c-1b68c9cfb536",display:"Ajmal",$$hashKey:"00B"}],s=e.filter((({value:e})=>t.some((({value:t})=>t===e))));console.log("results "+s.length),e.forEach(((e,t)=>{}))},startChat(){F.Z.emit("join all rooms")},chat(){console.log("Clicked to chat")},handleUpdateAvatar(e){console.log("Avatar in app is------------- "+e),this.showAvatar=e},handleRemoveAvatar(){this.avatar={name:"avatar.png"},this.showAvatar=null},handleChat(e){console.log("Chat data: "+e.room+" "+e.userID+" "+e.username),this.roomroom=e.room,this.currentRoom=e.room,console.log("Tuba "+this.roomroom),this.chatParticipants.some((t=>t.room===e.room))||(this.chatParticipants=this.chatParticipants.concat({status:"",userID:e.userID,name:e.username,room:e.room})),F.Z.emit("update room",e.room)},fromFinal(e){this.info=e,console.log("Data from final in app: "+e)},submit(e,t,s){console.log("What===");let o={userID:e,username:t,room:s};F.Z.emit("new chat user",o)},joinServer:function(e,t){console.log("Joining server: "+e+" ja id: "+t),F.Z.on("get socketID",(e=>{console.log("user socket id "+e),this.userSocketID=e})),F.Z.on("get current credentials",(()=>{F.Z.emit("current credentials",{room:this.currentRoom,userID:t,username:e})})),F.Z.on("connect user",(e=>{})),F.Z.on("loggedIn",(e=>{this.users=[],e.users.forEach((e=>{for(let t=0;t<this.users.length;t++){const s=this.users[t];if(s.userID===e.userID)return void(s.connected=e.connected)}e.self=e.userID===this.loggedUser.id,e.self||(this.activeUser=e),z(e),e.messages=[],this.users.push(e)})),this.users.sort(((e,t)=>e.self?-1:t.self?1:e.username<t.username?-1:e.username>t.username?1:0)),console.log("Room users: "+e.users.map((e=>e.username)))})),this.listen()},listen:function(){F.Z.on("user info",(e=>{})),F.Z.on("init new messages",(e=>{e.forEach((e=>{if("unsent"===e.status){console.log("You got a new message "+e.content);const t={status:"",userID:e.userID,name:e.username,room:e.room};this.chatParticipants.some((t=>t.userID===e.userID))||this.chatParticipants.push(t),this.newMessageList.push(e)}}))})),F.Z.on("userOnline",(e=>{this.users=[],F.Z.on("get socketID",(e=>{console.log("user socket id "+e),this.userSocketId=e})),e.users.forEach((e=>{for(let t=0;t<this.users.length;t++){const s=this.users[t];if(s.userID===e.userID)return s.connected=e.connected,void console.log("xxxxxxxxxxxxxxxxxxxxxxxxxxxx")}e.self=e.userID===this.loggedUser.id,e.self||(this.selectedUser=e),this.initReactiveProperties(e),e.messages=[],this.users.push(e)})),this.users.sort(((e,t)=>e.self?-1:t.self?1:e.username<t.username?-1:e.username>t.username?1:0))})),F.Z.on("userLeft",((e,t,s)=>{console.log("User left "+e,t,s);for(let o=0;o<this.users.length;o++){const t=this.users[o];if(t.userID===e){t.connected=!1;break}}})),F.Z.on("new message",(e=>{if(this.newMessageRoom=e.room,console.log("Current room "+this.currentRoom),console.log("Data room "+e.room),(null===this.selectedUser||this.selectedUser.room!==e.room)&&!this.newMessageList.some((t=>t.username===e.username))){const t={status:"",userID:e.userID,name:e.username,room:e.room};this.chatParticipants.some((t=>t.userID===e.userID))||this.chatParticipants.push(t),this.newMessageList.push(e)}})),F.Z.on("accept provider",(({id:e,booking:t})=>{this.providerBookings.push(t),this.notSeenClientBookings.push(t),this.isRingBell=!0,setTimeout((()=>{this.isRingBell=!1}),3e3)})),F.Z.on("map pro search",(e=>{this.clientMapSearchData=[...this.clientMapSearchData,e],this.isMapSearchData})),F.Z.on("accept recipient",(async({id:e,booking:t})=>{let s=await I.Z.getBookingById(t.id);const o=this.recipientBookings.find((e=>e.id===t.id));console.log("FoundbOject status = "+o.header+" "+o.status),o.status="confirmed",this.recipientBookings=this.recipientBookings.map((e=>e.id!==t.id?e:o)),console.log("FoundObject status after = "+o.header+" "+o.status),this.recipientBookings=this.recipientBookings.filter((e=>e.id!==t.id)),this.providerAcceptedBookings.push(s),this.clientAcceptedBookings=this.clientAcceptedBookings.filter((e=>e.id!==t.id))})),F.Z.emit("online",this.currentRoom),F.Z.on("messages",(e=>{this.conversation=e.msg})),F.Z.on("private message",(({content:e,username:t,date:s,from:o,to:n})=>{this.test=!0,F.Z.on("messages",(e=>{this.conversation=e.msg}));for(let i=0;i<this.users.length;i++){const a=this.users[i],r=this.userSocketId===o;if(a.userID===(r?n:o)){this.conversation.push({content:e,username:t,date:s,userID:a.userID,fromSelf:r}),a.messages.push({content:e,date:s,fromSelf:r}),a!==this.selectedUser&&(a.hasNewMessages=!0,this.messageSeen=!0);break}}}))},initReactiveProperties(e){e.hasNewMessages=!1,e.messages=[]},onSelectUser(e){e.self||(this.selectedUser=e),console.log("----------Tuleb läbi--------"+e.username),this.isNewMessage=!1,e.hasNewMessages=!1,this.messageInfo=""},noSelectUser(){this.selectedUser=null},handleMessage(e,t){this.conversation.push({content:e,username:this.loggedUser.username,date:t,user:this.loggedUser.username,userID:this.loggedUser.id}),F.Z.emit("private message",{content:e,date:t,to:this.selectedUser.userID})},handleProviderActionConfirm(){},async updateUserRoom(e){console.log("Message is "+e.id);for(let t=0;t<this.users.length;t++){let e=this.users[t];e.self||(this.selectedUser=e)}e.inline||await S.editStatus(e.id,{status:"sent"}),this.newMessageList=this.newMessageList.filter((t=>t.id!==e.id)),F.Z.emit("update room",e.room)},async handleFeedbackClient(e){console.log("Feedback client is "+e.id),this.rateCustomer=e,window.localStorage.setItem("customerFeedback",JSON.stringify(e))},async handleRated(e,t,s){this.recipientCompletedBookings=this.recipientCompletedBookings.filter((t=>t.id!==e));const o={isFeedbackGiven:!0};await I.Z.feedbackClient(this.rateCustomer.id,o);console.log("Feedback customer is selected!"),window.localStorage.removeItem("customerFeedback"),this.ratingResult=`Olet antanut ${t} palautetta yritykselle - ${s}`,setTimeout((()=>{this.ratingResult=null}),3e3)},onPressedLogoBtn(){this.selectedUser=null},onPressedUserIcon(){this.selectedUser=null},updateRoom(e){this.newMessageList.forEach((async t=>{t.inline||await S.editStatus(t.id,{status:"sent"}),this.newMessageList=this.newMessageList.filter((t=>t.userID!==e.userID))})),F.Z.emit("update room",e.room)},handleNewMessageNotification(){F.Z.emit("update room",this.newMessageRoom)},handleActivateBell(e){console.log("Bell bell bell "+e)},handleDeActivateBell(){},profile(){this.$router.push("/profile"),console.log("Pressed profile")},history(){this.$router.push("/history")},renderPage(){this.$router.push({path:"/chat"}).then((()=>{this.$router.go()}))},renderDialogPage(){this.$router.push({path:"/dialog"}).then((()=>{this.$router.go()}))},reload:()=>{(void 0).isRouterAlive=!1,setTimeout((()=>{(void 0).isRouterAlive=!0}),0)},async getUsers(){this.users=await b.Z.getAll()},async createUser(e){console.log("User name is here: "+e.username),this.submit(e.id,e.username,e.username+e.id),window.localStorage.setItem("loggedAppUser",JSON.stringify(e)),this.loggedUser=e,window.location.replace("/")},async handleLogin(e){console.log("userdata: "+e.username),window.localStorage.setItem("loggedAppUser",JSON.stringify(e)),this.loggedUser=e;let t=e.username,s=e.id;this.joinServer(t,s),this.$route.query.redirect?this.$router.push(this.$route.query.redirect):window.location.replace("/")},handleLogOut(){window.localStorage.removeItem("loggedAppUser"),this.loginUser="",this.loggedUser="",this.selectedUser=null,F.Z.emit("user leave"),this.$router.push("/")},handleUpdateClientConfirmedBooking(e){console.log("___________________id----------- "+e)},handleRemoveProBookingConfirmed(e){this.chatParticipants=this.chatParticipants.filter((t=>t.userID!==e.user.id))},handleSetNavbarChatUser(e,t){console.log("Navbar chat user username "+t.name),this.clientAcceptedBookings=this.clientAcceptedBookings.concat(e),this.selectedUser=null},async handleSetNavbarFeedback(e){console.log("Feedback booking user id "+e.ordered[0].user.id),this.providerAcceptedBookings=this.providerAcceptedBookings.filter((t=>t.id!==e.id)),this.recipientBookings=this.recipientBookings.filter((e=>"confirmed"!==e.status&&"completed"!==e.status)),this.recipientCompletedBookings=this.recipientCompletedBookings.filter((t=>t.id!==e.id)),this.recipientCompletedBookings.push(e),console.log("second id ---- "+e.ordered[0].id+" "+e.header);const t=e.ordered[0].yritys+e.user.username;console.log("Room to remove "+t);const s=this.chatParticipants.find((e=>e.room===t));console.log("Removed room id "+s.id),await $.removeChatMembersRoom(t),await S.deleteRoomMessages(t),this.chatParticipants=this.chatParticipants.filter((t=>t.userID!==e.ordered[0].user.id)),await y.Z.removeRoom(e.ordered[0].id,e.user.id)},async calculateImageSize(e){let t=new Image;t.src=s(7736)(`./${e}`),await t.decode();let o=t.width,n=t.height;return{width:o,height:n}},async initNavChatters(){const e=await $.getChatUser(this.user.id);e.forEach((e=>{let t=e.member.find((e=>e.userID!==this.user.id));this.chatParticipants.some((e=>e.userID===t.userID))||(this.chatParticipants=[...this.chatParticipants,{id:e.id,status:"",userID:t.userID,name:t.username,room:e.room}]),console.log("Member: "+t.username)}))},async handleProvider(){const e=await y.Z.getProvider(this.loggedUser.id);e&&(this.proTimeCreditLeft=((e.proTime-(new Date).getTime())/864e5).toFixed()<0?0:((e.proTime-(new Date).getTime())/864e5).toFixed(),0===this.proTimeCreditLeft&&(this.isAccessTerminated=!0),this.userIsProvider=e,this.proImages=[],this.userIsProvider.reference.forEach(((e,t)=>{this.calculateImageSize(e.name).then((t=>{console.log("Image size::: "+t.width+" "+t.height),this.proImages=[...this.proImages,{id:e._id,size:t.width+"-"+t.height,src:s(7736)(`./${e.name}`),thumb:s(7736)(`./${e.name}`),subHtml:'<div class="lightGallery-captions">\n                <h2>Terve</h2>\n\n            </div>"'}]}))})),this.userIsProvider.user.avatar?(console.log("provider user avatar is "+this.userIsProvider.user.avatar.name),this.avatar=this.userIsProvider.user.avatar):console.log("No avatar is included"),console.log("User credit "+this.userIsProvider.credit),this.credit=this.userIsProvider.credit,this.providerBookings=this.userIsProvider.booking.filter((e=>"confirmed"!==e.status&&"waiting"!==e.status&&"completed"!==e.status)),this.providerBookingsHistory=this.userIsProvider.booking.filter((e=>"confirmed"===e.status))),this.notSeenClientBookings=this.providerBookings.filter((e=>"notSeen"===e.status)),this.providerBookings.forEach((e=>{e.status}))},async handleRecipientBookings(){let e=await I.Z.getOwnBookings(this.loggedUser.id);if(e.length>0){e[0].user.avatar&&(this.avatar=e[0].user.avatar),this.providerAcceptedBookings=e.filter((e=>"confirmed"===e.status)),this.clientAcceptedBookings=e.filter((e=>"notSeen"===e.status||"seen"===e.status)),this.recipientCompletedBookings=e.filter((e=>"completed"===e.status&&!e.isFeedbackGiven)),this.recipientCompletedBookingsHistory=e.filter((e=>"completed"===e.status&&e.isFeedbackGiven));let t=e.filter((e=>"completed"!==e.status));this.recipientBookings=e.filter((e=>"confirmed"!==e.status&&"completed"!==e.status)),this.removeExpiredRecipientBookings(),t.forEach((e=>{if(e.ordered.length>0){let t=e.ordered[0].user.username;console.log("Pro "+t);e.ordered[0].room.findIndex((e=>e.userID===this.loggedUser.id))}}))}},handleRecipientBookingsUpdate(e){this.recipientBookings=this.recipientBookings.concat(e)},handleNotifications(){this.$router.push("/notification")},handleBookingWaitingProBackBtn(){this.selectedUser=null},handleExitNotifications(e){console.log("State is: "+e),this.isNotification=e},handleStatusUpdate(e){this.notSeenClientBookings=this.notSeenClientBookings.filter((t=>t.id!==e?t:null)),this.handleProvider()},handleRemoveBooking(e){console.log("Handling remove booking..."+e),this.providerBookings=this.providerBookings.filter((t=>t.id!==e))},test(){console.log("xxxx "+T)},async validateToken(){const e=window.localStorage.getItem("loggedAppUser");if(e){const t=JSON.parse(e),s=await B.Z.verifyToken(t.token);"token expired"===s.result?(window.localStorage.removeItem("loggedAppUser"),this.loggedUser="",this.selectedUser=null,F.Z.emit("user leave")):(this.loggedUser=t,console.log("Loged, logged user "+this.loggedUser.username),this.chatParticipants=[],this.initNavChatters(),this.handleRecipientBookings(),this.handleProvider())}},runEveryMinite(){let e;this.clientMapSearchData.length>0&&(this.i>=this.clientMapSearchData.length?(e=this.clientMapSearchData[this.clientMapSearchData.length-1],this.sentence="Otsitakse tegijat"+e.pro+" kaugus "+e.dist):(e=this.clientMapSearchData[this.i],this.sentence="Otsitakse tegijat- "+e.pro+" kaugus "+e.dist,this.i+=1),console.log("Index length "+this.i))}},beforeUnmount(){F.Z.emit("user leave"),this.selectedUser=null},unmounted(){},computed:{isValid(){return this.msg.length>0}}},G=s(89);const V=(0,G.Z)(q,[["render",v]]);var Y=V,K=s(2483);const J=[{path:"/admin",name:"admin-panel",component:()=>s.e(373).then(s.bind(s,7373))},{path:"/",name:"dash-board",component:()=>s.e(70).then(s.bind(s,3169))},{path:"/register",name:"app-register",component:()=>s.e(283).then(s.bind(s,1283))},{path:"/login",name:"login-register",component:()=>s.e(878).then(s.bind(s,4878))},{path:"/profile",name:"user-profile",component:()=>s.e(742).then(s.bind(s,7742))},{path:"/pay-plan",name:"pay-plan",component:()=>s.e(828).then(s.bind(s,5828))},{path:"/rules",name:"rules",component:()=>s.e(837).then(s.bind(s,7837))},{path:"/recipient-public",name:"recipient-public",component:()=>Promise.all([s.e(161),s.e(526)]).then(s.bind(s,526))},{path:"/recipient-form",name:"recipient-form",component:()=>s.e(811).then(s.bind(s,811)),props:!0,beforeEnter:async(e,t,s)=>{const o=window.localStorage.getItem("loggedAppUser"),n=JSON.parse(o),i=await I.Z.getOwnBookings(n.id);if(i.length>0)return s("/received");s()},meta:{requiresAuth:!0}},{path:"/received",name:"recipient-panel",component:()=>Promise.all([s.e(594),s.e(603),s.e(972)]).then(s.bind(s,8485))},{path:"/recipient-result",name:"recipient-result",component:()=>Promise.all([s.e(594),s.e(603),s.e(45)]).then(s.bind(s,6603))},{path:"/received-final/:data",name:"recipient-final",component:()=>s.e(594).then(s.bind(s,4594)),props:!0},{path:"/rf",name:"r-form",component:()=>s.e(811).then(s.bind(s,811))},{path:"/provider-public",name:"provider-public",component:()=>Promise.all([s.e(161),s.e(378)]).then(s.bind(s,3378)),beforeEnter:async(e,t,s)=>{const o=window.localStorage.getItem("loggedAppUser");if(!o)return s();{const e=JSON.parse(o),t=await y.Z.getProvider(e.id);if(t)return s("/provider-panel");s()}}},{path:"/pro-public-search",name:"provider-public-search",component:()=>Promise.all([s.e(161),s.e(378)]).then(s.bind(s,3378))},{path:"/provider-form",name:"provider-form",component:()=>Promise.all([s.e(161),s.e(155)]).then(s.bind(s,4155)),beforeEnter:async(e,t,s)=>{const o=window.localStorage.getItem("loggedAppUser"),n=JSON.parse(o),i=await y.Z.getProvider(n.id);if(i)return s("/provider-panel");s()}},{path:"/provider-panel",name:"provider-panel",component:()=>s.e(641).then(s.bind(s,3811)),props:!0},{path:"/location",name:"user-location",component:()=>Promise.all([s.e(161),s.e(320)]).then(s.bind(s,6320))},{path:"/notification",name:"client-notifications",component:()=>Promise.resolve().then(s.bind(s,2052))},{path:"/chat",name:"live-chat",component:()=>Promise.resolve().then(s.bind(s,1176))},{path:"/history",name:"user-history",component:()=>s.e(158).then(s.bind(s,4158))},{path:"/feedback",name:"Feedback",component:()=>s.e(94).then(s.bind(s,8094))},{path:"/gallery",name:"Gallery",component:()=>Promise.resolve().then(s.bind(s,9482))},{path:"/forgot_auth",name:"Forgot",component:()=>s.e(171).then(s.bind(s,9171))},{path:"/reset_auth/:token",name:"Reset",props:!0,component:()=>s.e(313).then(s.bind(s,3313))}],X=["recipient-form","provider-form"],Q=(0,K.p7)({history:(0,K.r5)(),routes:J});Q.beforeEach((async(e,t,s)=>{const o=window.localStorage.getItem("loggedAppUser");if(o){JSON.parse(o)}const n=X.includes(e.name);n&&!o?s({path:"/login",query:{redirect:e.fullPath}}):s()}));var ee=Q,te=s(4912),se=s(3852);(0,o.ri)(Y).component("VueDatePicker",te.Z),(0,o.ri)(Y).use(ee).use(se.ZP).mount("#app")},8579:function(e,t,s){"use strict";const o=s(7218),n="/api/upload",i=async()=>{const e=await o.get(n);return e.data},a=async(e,t)=>{const s=await o.post(`${n}/${e}/pro-ref-img`,t);return s.data},r=async(e,t)=>{await o.delete(`${n}/${e}/del-pro-ref-image/${t}`)},l=async e=>{const t=await o.post(n,e,{});return t.data},c=async(e,t)=>{const s=await o.post(`${n}/${e}/avatar`,t);return s.data},d=async(e,t)=>{const s=await o.post(`${n}/${e}/update_avatar`,t);return s.data},u=async(e,t)=>{const s=await o.put(`${n}/${e}`,t);return s.data},g=async(e,t)=>{await o.delete(`${n}/${e}/delClientImg/${t}`)},m=async e=>{await o.delete(`${n}/${e}/delAllClientBookingImages`)};t.Z={getAll:i,createProRefImg:a,removeProRefImage:r,create:l,createProfileImage:c,newAvatar:d,updateImage:u,remove:g,cleanAllRecipientImages:m}},6823:function(e,t,s){"use strict";const o=s(7218),n="/api/login",i=async e=>{const t=await o.post(n,e);return t.data},a=async e=>{const t=await o.post(`${n}/${e}`);return t.data};t.Z={login:i,verifyToken:a}},9398:function(e,t,s){"use strict";const o=s(7218),n="/api/providers",i=async()=>{const e=await o.get(n);return e.data},a=async e=>{const t=await o.get(`${n}/${e}`);return t.data},r=async e=>{const t=await o.get(`${n}/${e}/by-provider-id`);return t.data},l=async e=>{const t=await o.post(`${n}/profession`,e);return t.data},c=async(e,t)=>{const s=await o.post(`${n}/${e}`,t);return s.data},d=async(e,t)=>{const s=await o.post(`${n}/${e}/addRoom`,t);return s.data},u=async(e,t)=>{const s=await o.delete(`${n}/${e}/remove-room`,t);return s.data},g=async(e,t)=>{const s=await o.put(`${n}/${e}/editAddress`,t);return s.data},m=async(e,t)=>{const s=await o.put(`${n}/${e}/editProfession`,t);return s.data},h=async(e,t)=>{const s=await o.post(`${n}/${e}/addProfession`,t);return s.data},p=async(e,t)=>{const s=await o.put(`${n}/${e}/removeProfession`,t);return s.data},f=async(e,t)=>{const s=await o.post(`${n}/${e}/addRecipient/${t}`);return s.data},v=async(e,t)=>{const s=await o.put(`${n}/${e}`,t);return s.data},k=async(e,t)=>{const s=await o.put(`${n}/${e}/renewCredit`,t);return s.data},w=async(e,t)=>{const s=await o.delete(`${n}/${e}/recipient/${t}`);return s.data},b=async e=>{const t=await o.put(`${n}/${e}/rating-plus`);return t.data},y=async e=>{const t=await o.put(`${n}/${e}/rating-minus`);return t.data},I=async(e,t)=>{const s=await o.put(`${n}/${e}/rating-pos`,t);return s.data},B=async(e,t)=>{const s=await o.put(`${n}/${e}/rating-neg`,t);return s.data},D=async(e,t)=>{const s=await o.post(`${n}/${e}/addSlide`,t);return s.data};t.Z={getProviders:i,getProvider:a,getProvByProvId:r,getProvidersMatchingByProfession:l,addProvider:c,updateProvider:v,updateTimeCredit:k,addRoom:d,removeRoom:u,editAddress:g,editProfession:m,additionalProfession:h,removeProfession:p,addProviderBooking:f,removeProviderBooking:w,setPositiveRating:b,setNegativeRating:y,addPositiveFeedback:I,addNegativeFeedback:B,addProSlide:D}},5800:function(e,t,s){"use strict";const o=s(7218),n="/api/recipients",i=async()=>{const e=await o.get(n);return e.data},a=async e=>{const t=await o.get(`${n}/user/${e}`);return t.data},r=async e=>{const t=await o.get(`${n}/booking/${e}`);return t.data},l=async(e,t)=>{const s=await o.post(`${n}/${e}`,t);return s.data},c=async(e,t)=>{const s=await o.put(`${n}/${e}`,t);return s.data},d=async(e,t)=>{const s=await o.put(`${n}/${e}/editBookingAddress`,t);return s.data},u=async(e,t)=>{const s=await o.put(`${n}/${e}/description`,t);return s.data},g=async(e,t)=>{const s=await o.post(`${n}/${e}/addOrdered/${t}`);return s.data},m=async(e,t)=>{const s=await o.put(`${n}/${e}/pro/${t}`);return s.data},h=async(e,t)=>{const s=await o.put(`${n}/${e}/updateDate`,t);return s.data},p=async(e,t)=>{const s=await o.post(`${n}/${e}/addImage/${t}`);return s.data},f=async(e,t)=>{const s=await o.delete(`${n}/${e}/image/${t}`);return s.data},v=async(e,t)=>{const s=await o.put(`${n}/client/${e}`,t);return s.data},k=async e=>{await o.delete(`${n}/${e}`)};t.Z={getRecipients:i,getOwnBookings:a,getBookingById:r,addRecipient:l,updateRecipient:c,editBookingAddress:d,editDescription:u,addProviderData:g,removeProviderData:m,newDate:h,addImage:p,removeImage:f,feedbackClient:v,removeBooking:k}},1478:function(e,t,s){"use strict";const o=s(7218),n="/api/users",i=async()=>{const e=await o.get(n);return e.data},a=async e=>{const t=await o.post(`${n}`,e);return t.data},r=async(e,t)=>{const s=await o.put(`${n}/${e}/updateEmail`,t);return s.data},l=async e=>{const t=await o.put(`${n}/${e}/removeAvatar`,{avatar:{}});return t.data};t.Z={getAll:i,addUser:a,editEmail:r,removeAvatar:l}},4058:function(e,t,s){"use strict";var o=s(2066);const n="https://line-app-pro.onrender.com/",i={"force new connection":!0,reconnectionAttempts:"Infinity",timeout:1e4,transports:["websocket"]},a=o.io.connect(n,i);a.onAny(((e,...t)=>{console.log(e,t)})),t.Z=a},8744:function(e,t,s){"use strict";s.d(t,{Z:function(){return A}});var o=s(3396),n=s(7139),i=s(9242);const a=e=>((0,o.dD)("data-v-02d8ef83"),e=e(),(0,o.Cn)(),e),r={key:0,class:"panel"},l={style:{"overflow-y":"auto"},class:"messages",ref:"chatArea"},c={class:"inner",ref:"refscrollHeight"},d={class:"messagesBody"},u={key:0,class:"messageRow"},g={class:"displayName"},m=a((()=>(0,o._)("i",{class:"fas fa-user-circle"},null,-1))),h={class:"messageBlue"},p={class:"messageContent"},f={class:"messageTimeStampRight"},v={key:1,class:"messageRowRight"},k={class:"messageOrange"},w={class:"messageContent"},b={class:"messageTimeStampRight"},y=["disabled"],I=["src"];function B(e,t,a,B,D,C){const x=(0,o.up)("MDBIcon");return(0,o.wg)(),(0,o.iD)(o.HY,null,[D.userIn?((0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",l,[(0,o._)("div",c,[(0,o._)("div",null,[(0,o._)("div",null,[(0,o._)("div",d,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.messages,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[e.userID!==D.userIn.id?((0,o.wg)(),(0,o.iD)("div",u,[(0,o._)("div",null,[(0,o._)("div",g,[(0,o.Wm)(x,{size:"2x"},{default:(0,o.w5)((()=>[m])),_:1}),(0,o.Uk)(" "+(0,n.zw)(e.username),1)]),(0,o._)("div",h,[(0,o._)("div",null,[(0,o._)("p",p,(0,n.zw)(e.content),1)]),(0,o._)("div",f,(0,n.zw)(e.date),1)])])])):((0,o.wg)(),(0,o.iD)("div",v,[(0,o._)("div",k,[(0,o._)("p",w,(0,n.zw)(e.content),1),(0,o._)("div",b,(0,n.zw)(e.date),1)])]))])))),128))])])])],512)],512)])):(0,o.kq)("",!0),(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,i.iM)(((...e)=>C.onSubmit&&C.onSubmit(...e)),["prevent"]))},[(0,o.wy)((0,o._)("textarea",{style:{padding:"20px","background-color":"#292424",color:"ghostwhite"},id:"myInput","onUpdate:modelValue":t[0]||(t[0]=e=>D.msg=e),onKeypress:t[1]||(t[1]=(...e)=>C.handleInput&&C.handleInput(...e)),ref:"textarea",placeholder:"Kirjoita viesti..."},null,544),[[i.nr,D.msg]]),(0,o._)("button",{disabled:!C.isValid,class:"sender"},[(0,o._)("img",{alt:"send",src:s(1037)},null,8,I)],8,y)],32)],64)}var D=s(4313),C=s(4045),x=s(4870),U={name:"MessagePanel",components:{MDBIcon:D.vm},props:{test:Boolean,user:Object,messages:Array,initMessages:Array},data(){return{userIn:null,msg:"",expand_message:!0}},setup(){let e=(0,x.iH)(null),t=(0,x.iH)(null);const s=()=>{(0,o.Y3)((()=>{e.value.scrollTo({behavior:"smooth",top:t.value.clientHeight})}))};return(0,o.ic)(s),{update:s,chatArea:e,refscrollHeight:t}},watch:{messages:async function(){console.log("Watching...")}},mounted(){const e=window.localStorage.getItem("loggedAppUser");if(e){const t=JSON.parse(e);this.userIn=t,document.getElementById("myInput").style.height="40px"}},methods:{resize(){let e=this.$refs["textarea"];e.style.height="20px",e.style.height=e.scrollHeight+"px"},btnClick(){this.expand_message=!this.expand_message},handleInput(e){if(console.log("E "+e.key),console.log("xxx "+e.target.style.height),"Enter"===e.key)console.log("Offset"),e.preventDefault(),this.onSubmit(),document.getElementById("myInput").value="";else{let e=this.$refs["textarea"];e.style.height="20px",e.style.height=e.scrollHeight+"px"}},async onSubmit(){const e=new Date;this.$emit("new:message",this.msg,(0,C.ZP)(e,"dd-mm-yyyy,  HH:MM")),this.msg=""},displaySender(e,t){return 0===t||this.user.messages[t-1].fromSelf!==this.user.messages[t].fromSelf},async scrollToEnd(){try{if(this.messages&&this.messages.length>0){console.log(" Is in end ------------ "+this.messages.length);const e=await this.messages[this.messages.length-1].id;document.getElementById(e).scrollIntoView({block:"start"})}}catch(e){console.log(e)}}},computed:{isValid(){return this.msg.length>0}}},S=s(89);const M=(0,S.Z)(U,[["render",B],["__scopeId","data-v-02d8ef83"]]);var A=M},716:function(e,t,s){"use strict";s.d(t,{Z:function(){return I}});var o=s(3396),n=s(7139);const i={class:"description"},a={key:0,class:"name"},r={key:0,class:"new-messages"},l={key:1,class:"status"};function c(e,t,s,c,d,u){const g=(0,o.up)("status-icon"),m=(0,o.up)("MDBBtnClose");return(0,o.wg)(),(0,o.iD)(o.HY,null,[s.user.self?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,n.C_)(["user",{selected:s.selected}]),onClick:t[0]||(t[0]=(...e)=>u.onClick&&u.onClick(...e))},[(0,o._)("div",i,[s.user.self?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",a,[s.user.hasNewMessages?((0,o.wg)(),(0,o.iD)("div",r,"!")):(0,o.kq)("",!0)])),s.user.self?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(g,{user:s.user,connected:s.user.connected},null,8,["user","connected"])]))])],2)),!s.user.self&&s.selected?((0,o.wg)(),(0,o.j4)(m,{key:1,onClick:u.setUserNotSelected,style:{float:"right"}},null,8,["onClick"])):(0,o.kq)("",!0)],64)}var d=s(4313);const u=e=>((0,o.dD)("data-v-0d43e917"),e=e(),(0,o.Cn)(),e),g=u((()=>(0,o._)("div",null,null,-1))),m={style:{"font-size":"18px",color:"#9ba2a4"}},h=u((()=>(0,o._)("i",{class:"fas fa-user-circle"},null,-1)));function p(e,t,s,i,a,r){const l=(0,o.up)("MDBIcon");return(0,o.wg)(),(0,o.iD)(o.HY,null,[g,(0,o._)("p",m,[(0,o.Wm)(l,{size:"2x"},{default:(0,o.w5)((()=>[h])),_:1}),(0,o.Uk)(" "+(0,n.zw)(s.user.username)+" ",1),(0,o._)("i",{class:(0,n.C_)(["icon",{connected:s.connected}]),style:{padding:"10px","margin-left":"10px"}},null,2)])],64)}var f={name:"StatusIcon",components:{MDBIcon:d.vm},props:{connected:Boolean,user:Object},data(){return{avatar:null,chatavatar:null}},methods:{},async mounted(){}},v=s(89);const k=(0,v.Z)(f,[["render",p],["__scopeId","data-v-0d43e917"]]);var w=k,b={name:"chat-user",components:{MDBBtnClose:d.Ok,StatusIcon:w},props:{user:Object,firstUser:String,selected:Boolean},data(){return{isChatOpen:!1}},methods:{onClick(){this.$emit("select")},setUserNotSelected(){this.$emit("noSelected")}},computed:{status(){return this.user.connected?"Aloita chattailu":"Olen offline-tilassa Jätä viesti"}}};const y=(0,v.Z)(b,[["render",c],["__scopeId","data-v-19da5062"]]);var I=y},9482:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return I}});var o=s(3396);const n=e=>((0,o.dD)("data-v-1e189e23"),e=e(),(0,o.Cn)(),e),i={key:0,style:{"text-align":"center"}},a={key:1},r={key:2},l=n((()=>(0,o._)("label",{for:"pro-file-upload",class:"pro-file-upload"},[(0,o._)("span",null,"Lataa uusi kuva tehtävästä")],-1))),c=["data-lg-size","data-src"],d=["src"];function u(e,t,s,n,u,g){const m=(0,o.up)("lightgallery"),h=(0,o.up)("MDBBtn"),p=(0,o.up)("MDBContainer");return(0,o.wg)(),(0,o.j4)(p,{style:{"padding-top":"150px"}},{default:(0,o.w5)((()=>[s.inspectingBooking?((0,o.wg)(),(0,o.iD)("h2",a,"Kuvat tehtävästä")):((0,o.wg)(),(0,o.iD)("h2",i,"Kuvia tehtyistä työistä")),s.isPro?((0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("input",{id:"pro-file-upload",type:"file",onChange:t[0]||(t[0]=t=>g.handleFileChange(t,e.i))},null,32),l])):(0,o.kq)("",!0),(0,o.Wm)(m,{style:{"text-align":"left"},id:"update",settings:{speed:500,plugins:u.plugins},onInit:g.onInit,onBeforeSlide:g.onBeforeSlide},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.proImages,((e,t)=>((0,o.wg)(),(0,o.iD)("a",{key:t,"data-lg-size":e.size,class:"gallery-item","data-src":e.src},[(0,o._)("img",{style:{"margin-bottom":"10px",width:"140px","margin-left":"0"},class:"img-responsive",alt:"Image",src:e.thumb},null,8,d)],8,c)))),128))])),_:1},8,["settings","onInit","onBeforeSlide"]),u.isImageEdited||u.removedImages.length>0?((0,o.wg)(),(0,o.j4)(h,{key:3,block:"",color:"success",size:"lg",onClick:g.uploadProSlides},{default:(0,o.w5)((()=>[(0,o.Uk)("Vahvista tehtyt muokkaukset ja sulje")])),_:1},8,["onClick"])):(0,o.kq)("",!0)])),_:1})}s(2062);var g=s(9398),m=s(272),h=s.n(m),p=s(8453),f=s(8579),v=s(4313);let k=null;var w={name:"Gallery",props:{isPro:Boolean,inspectingBooking:Boolean,userIsProvider:Object,proImages:Array},components:{Lightgallery:h(),MDBContainer:v.L5,MDBBtn:v.$v},watch:{proImages(e,t){this.$nextTick((()=>{k.refresh()}))}},data(){return{pro:null,showImage:null,file:null,value:null,plugins:[p.Z],height:" 100px",id:null,index:1,isImageEdited:!1,images:[],addedSlides:[],removedImages:[],items:[{id:"1",size:"1400-933",src:"https://images.unsplash.com/photo-1542103749-8ef59b94f47e?ixid=MXwxMjA3fDB8MH,xwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1400&q=80",thumb:"https://images.unsplash.com/photo-1542103749-8ef59b94f47e?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=240&q=80",subHtml:'<div class="lightGallery-captions">\n                <h4>Photo by <a href="https://unsplash.com/@dann">Dan</a></h4>\n                <p>Published on November 13, 2018</p>\n            </div>'},{id:"2",size:"1400-933",src:"https://images.unsplash.com/photo-1473876988266-ca0860a443b8?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1400&q=80",thumb:"https://images.unsplash.com/photo-1473876988266-ca0860a443b8?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=240&q=80",subHtml:'<div class="lightGallery-captions">\n                <h4>Photo by <a href="https://unsplash.com/@kylepyt">Kyle Peyton</a></h4>\n                <p>Published on September 14, 2016</p>\n            </div>'},{id:"3",size:"1400-932",src:"https://images.unsplash.com/photo-1588953936179-d2a4734c5490?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1400&q=80",thumb:"https://images.unsplash.com/photo-1588953936179-d2a4734c5490?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=240&q=80",subHtml:'<div class="lightGallery-captions">\n                <h4>Photo by <a href="https://unsplash.com/@jxnsartstudio">Garrett Jackson</a></h4>\n                <p>Published on May 8, 2020</p>\n            </div>'},{id:"4",size:"1000-400",src:s(4527),thumb:s(4527),subHtml:'<div class="lightGallery-captions">\n\n\n            </div>"'}]}},beforeMount(){const e=window.localStorage.getItem("loggedAppUser");if(e){const t=JSON.parse(e);this.pro=t}},methods:{async handleProvider(e){},async getImageDimensions(e){let t=new Image;t.src=URL.createObjectURL(e),await t.decode();let s=t.width,o=t.height;return{width:s,height:o}},handleFileChange(e,t){console.log("i in file change "+t);try{const t=e.target.files[0];console.log("event target client ",e.target.files[0]);const s=new FormData;if(t){URL.createObjectURL(t);this.showImage=URL.createObjectURL(t);const o=URL.createObjectURL(t);this.file=e.target.files[0];const n=e.target.files[0];s.append("file",n,n.name),this.getImageDimensions(n).then((e=>{const t={width:e.width,height:e.height},n={id:null,size:e.width+"-"+e.height,data:s,src:o,thumb:o,subHtml:'<div class="lightGallery-captions">\n\n\n            </div>"'};this.$emit("add:slide",n,t)})),this.isImageEdited=!0}}catch(s){console.log("Error:",s)}this.value=e.target.files[0]},async updateSlides(e){let t=await f.Z.createProRefImg(this.userIsProvider.id,e.data);await g.Z.addProSlide(this.userIsProvider.id,{slideID:t.imgCreated._id}),console.log("lkdfanvoöinaeäofvnaespvns ")},uploadProSlides(){this.$router.go(-1),this.$emit("updateGalleryRemove",this.removedImages);for(let e=0;e<this.proImages.length;e++)null===this.proImages[e].id&&this.updateSlides(this.proImages[e])},onInit(e){if(console.log("Details "+e.instance.index),k=e.instance,this.isPro){const e='<button style="margin-left: 100px; color: #ddd; background-color: red;" type="button" aria-label="View source" id="lg-delete">Poista kuva</button>';k.outer.find(".lg-toolbar").append(e),document.getElementById("lg-delete").addEventListener("click",(()=>{console.log("custom button click "+this.index);const e=this.proImages[this.index].id;e&&(this.removedImages=[...this.removedImages,e]),console.log("Image id "+e),this.$emit("remove:slide",e,this.index),console.log("prov id... "+this.userIsProvider.id);const t=k;t.closeGallery(),t.refresh()}))}},onBeforeSlide(e){console.log("calling before slide "+typeof e.index);let t=e.index;console.log("Tasku "+t+typeof t),this.index=t}}},b=s(89);const y=(0,b.Z)(w,[["render",u],["__scopeId","data-v-1e189e23"]]);var I=y},1176:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var o=s(3396);const n=e=>((0,o.dD)("data-v-6f873086"),e=e(),(0,o.Cn)(),e),i={key:0},a={key:1,style:{"margin-top":"100px"}},r=n((()=>(0,o._)("h2",null,"Valitse käyttäjä Ylhältä chat merkista!",-1))),l=[r];function c(e,t,s,n,r,c){const d=(0,o.up)("User"),u=(0,o.up)("MessagePanel"),g=(0,o.up)("MDBContainer");return(0,o.wg)(),(0,o.j4)(g,{style:{"padding-top":"25px"}},{default:(0,o.w5)((()=>[(0,o._)("div",null,[s.chatusers.length>0?((0,o.wg)(),(0,o.iD)("div",i,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.chatusers,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o.Wm)(d,{user:e,selected:s.selecteduser===e,onNoSelected:c.noSelected,onSelect:t=>c.selectUser(e)},null,8,["user","selected","onNoSelected","onSelect"])])))),128)),s.selecteduser?((0,o.wg)(),(0,o.j4)(u,{key:0,test:s.test,user:r.selectedUser,messages:s.messages,"onNew:message":c.onMessage},null,8,["test","user","messages","onNew:message"])):(0,o.kq)("",!0)])):((0,o.wg)(),(0,o.iD)("div",a,l))])])),_:1})}s(7658);var d=s(4313),u=s(716),g=s(8744),m=s(4058),h=s(547),p={name:"live-chat",props:{test:Boolean,selecteduser:null,chatusers:Array,isAccessDenied:Boolean,messages:Array,newMessageRoom:String,loggedInUser:Object,bookings:Array,bookingsHistory:Array,un:String,ri:String},components:{User:u.Z,MessagePanel:g.Z,infoMessage:h.Z,MDBContainer:d.L5},data(){return{tabFocus:!1,user:{},selectedUser:null,users:[],msg:"",messageAboutCredit:"Lataa lisää aikaa!",userId:null,username:"",room:"",count:0}},created(){},watch:{tabFocus(e){console.log("New value:",e)}},methods:{lataa(){this.$router.push("/pay-plan")},detectFocusOut(){let e=!1;const t=t=>{if({focus:1,pageshow:1}[t.type]){if(e)return;this.tabFocus=!0,e=!0,this.$emit("wentOut")}else e&&(this.tabFocus=!this.tabFocus,e=!1)};window.addEventListener("focus",t),window.addEventListener("blur",t),window.addEventListener("pageshow",t),window.addEventListener("pagehide",t)},sendMessage:function(){""!==this.msg&&(m.Z.emit("msg",this.msg),this.msg="")},startChat(){let e="userdialog",t="eka";m.Z.emit("credentials",{userID:this.loggedUser.id,username:t,room:e})},submit(){},selectUser(e){this.$emit("select:user",e),this.selectedUser=e},noSelected(){this.$emit("noSelected")},onMessage(e,t){this.$emit("on:message",e,t)},renderChat(){this.count++},newChat(){console.log("Aaaaaaaa");let e="alla",t="tuba";this.usernameAlreadySelected=!0,m.Z.auth={username:e,room:t},m.Z.connect()},onUsernameSelection(e,t){this.username=e,this.room=t,this.usernameAlreadySelected=!0,m.Z.auth={username:e,room:t},m.Z.connect()},updateRoom(){m.Z.emit("updateRoom","uus-tuba"),m.Z.on("get room users",(e=>{this.users=e})),this.socketResetTest()},removeChatUser(){console.log("Remove chat user"),m.Z.emit("unsubscribe"),window.localStorage.removeItem("sessionID"),m.Z.on("get room users",(e=>{this.users=e})),location.reload()}},computed:{isValid(){return this.msg.length>0}},mounted(){},unmounted(){"/chat"!==this.currentRouteName&&(this.noSelected(),console.log("Ei ole see router"))}},f=s(89);const v=(0,f.Z)(p,[["render",c],["__scopeId","data-v-6f873086"]]);var k=v},2052:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return z}});s(7658);var o=s(3396),n=s(7139);const i=e=>((0,o.dD)("data-v-21a6a862"),e=e(),(0,o.Cn)(),e),a={key:0,class:"spinner-border",role:"status"},r=i((()=>(0,o._)("span",{class:"visually-hidden"},"Loading...",-1))),l=[r],c={key:1},d=["onClick"],u=["onClick"],g={key:2},m=i((()=>(0,o._)("h2",null,"Rajoitettu pääsy!",-1)));function h(e,t,s,i,r,h){const p=(0,o.up)("MDBBtnClose"),f=(0,o.up)("monthConverter"),v=(0,o.up)("MDBCol"),k=(0,o.up)("Booking"),w=(0,o.up)("MDBRow"),b=(0,o.up)("MDBContainer");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(b,{style:{"margin-top":"100px",position:"relative"}},{default:(0,o.w5)((()=>[0===r.bookings.length?((0,o.wg)(),(0,o.iD)("div",a,l)):((0,o.wg)(),(0,o.iD)("div",c,[(0,o.Wm)(p,{white:"",class:"close_btn",onClick:t[0]||(t[0]=t=>e.$router.go(-1))}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.bookings,((i,a)=>((0,o.wg)(),(0,o.j4)(w,{key:a,style:{"margin-bottom":"10px",padding:"20px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{style:{border:"1px solid #ddd",padding:"30px","font-size":"18px"},sm:"4",class:(0,n.C_)([{activeHeader:a===r.bookingIndex&&r.isBooking}])},{default:(0,o.w5)((()=>["notSeen"===i.status?((0,o.wg)(),(0,o.iD)("span",{key:0,class:(0,n.C_)({"strong-tilt-move-shake":r.isNoLimit&&a===r.bookingIndex})},[(0,o._)("span",{class:"new_notification",onClick:e=>h.messageSeen(i,a)},[(0,o.Uk)(" ( "),(0,o._)("b",null,(0,n.zw)(i.user.username),1),(0,o.Uk)(" ) "),(0,o.Wm)(f,{num:i.onTime[0].month},null,8,["num"]),(0,o.Uk)(" "+(0,n.zw)(i.onTime[0].day)+" "+(0,n.zw)(i.onTime[0].year)+" - "+(0,n.zw)(i.header)+" ",1)],8,d)],2)):((0,o.wg)(),(0,o.iD)("span",{key:1,class:(0,n.C_)({"strong-tilt-move-shake":r.isNoLimit&&a===r.bookingIndex})},[(0,o._)("span",{class:"seen_notification",onClick:e=>h.messageSeen(i,a)},[(0,o.Uk)(" ( "),(0,o._)("b",null,(0,n.zw)(i.user.username),1),(0,o.Uk)(" ) "),(0,o.Wm)(f,{num:i.onTime[0].month},null,8,["num"]),(0,o.Uk)(" "+(0,n.zw)(i.onTime[0].day)+" "+(0,n.zw)(i.onTime[0].year)+" - "+(0,n.zw)(i.header),1)],8,u)],2))])),_:2},1032,["class"]),(0,o.Wm)(v,{sm:"8"},{default:(0,o.w5)((()=>[r.isNoLimitText&&a===r.bookingIndex?((0,o.wg)(),(0,o.iD)("h4",{key:0,style:{color:"palevioletred","text-underline":"cornflowerblue",cursor:"pointer","margin-top":"10px"},onClick:t[1]||(t[1]=t=>e.$router.push("/pay-plan"))}," Lattaa lisää aikaa täältä ")):(0,o.kq)("",!0),r.isBooking&&a===r.bookingIndex?((0,o.wg)(),(0,o.j4)(k,{key:1,booking:i,bookingImages:r.bookingImages,chatusers:s.chatusers,messages:s.messages,"onSelect:user":h.selectUser,onNoSelected:h.noSelected,selecteduser:s.selecteduser,"onOn:message":h.onMessage,"onClose:booking":h.handleCloseBooking,"onConfirm:booking":h.handleConfirmBooking},null,8,["booking","bookingImages","chatusers","messages","onSelect:user","onNoSelected","selecteduser","onOn:message","onClose:booking","onConfirm:booking"])):s.creditLeft<0&&a===r.bookingIndex?((0,o.wg)(),(0,o.iD)("div",g,[m,(0,o._)("p",{style:{color:"orangered",cursor:"pointer"},onClick:t[2]||(t[2]=t=>e.$router.push("/pay-plan"))}," Lattaa lisää aikaa ")])):(0,o.kq)("",!0)])),_:2},1024)])),_:2},1024)))),128))]))])),_:1})])}var p=s(4313),f=s(4870),v=s(2043),k=s(5253),w=s(5800),b=s(9398),y=s(716),I=s(8744);function B(e,t,s,n,i,a){const r=(0,o.up)("user"),l=(0,o.up)("message-panel");return(0,o.wg)(),(0,o.iD)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.users,(t=>((0,o.wg)(),(0,o.iD)("div",{key:t.id,style:{width:"300px",margin:"auto","margin-bottom":"5px","border-radius":"5px"}},[(0,o._)("p",null,[t.self?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(r,{key:0,user:t,firstUser:e.userFirst,selected:i.selectedUser===t,onSelect:e=>a.onSelectUser(t)},null,8,["user","firstUser","selected","onSelect"]))])])))),128)),i.selectedUser?((0,o.wg)(),(0,o.j4)(l,{key:0,user:i.selectedUser,initMessages:i.initMessages,"onNew:message":a.onMessage},null,8,["user","initMessages","onNew:message"])):(0,o.kq)("",!0)])}var D=s(4058),C={name:"chat-io",props:{me:Object,uname:String,rm:String,isUserRemoved:Boolean},components:{User:y.Z,MessagePanel:I.Z},data(){return{selectedUser:null,users:[],room:"",firstUser:"",user:!0,initMessages:{}}},methods:{onMessage(e,t){this.selectedUser&&(console.log("Selected user: "+this.selectedUser.username),D.Z.emit("private message",{content:e,date:t,to:this.selectedUser.userID}),this.selectedUser.messages.push({content:e,date:t,fromSelf:!0}))},onSelectUser(e){e.self||(this.selectedUser=e),e.hasNewMessages=!1}},mounted(){D.Z.on("init messages",(e=>{this.initMessages=e.messages}))},beforeMount(){},created(){D.Z.on("init messages",(e=>{this.initMessages=e.messages})),D.Z.on("connect",(()=>{this.users.forEach((e=>{e.self&&(e.connected=!0)}))})),D.Z.on("disconnect",(()=>{this.users.forEach((e=>{e.self&&(e.connected=!1)}))}));const e=e=>{this.initMessages.length>0&&(console.log("Room vvvvvv"+this.initMessages[0].room),this.room=this.initMessages[0].room),e.room===this.room?e.messages=this.initMessages:e.messages=[],e.hasNewMessages=!1};D.Z.on("get room users",(t=>{console.log("Room users: "+t.users.map((e=>e.username))),t.users.forEach((t=>{for(let e=0;e<this.users.length;e++){const s=this.users[e];if(s.userID===t.userID)return void(s.connected=t.connected)}t.self=t.userID===D.Z.userID,e(t),this.users.push(t)})),this.users.sort(((e,t)=>e.self?-1:t.self?1:e.username<t.username?-1:e.username>t.username?1:0))})),D.Z.on("get updated room users",(t=>{this.users=[],t.users.forEach((t=>{for(let e=0;e<this.users.length;e++){const s=this.users[e];if(s.userID===t.userID)return void(s.connected=t.connected)}t.self=t.userID===D.Z.userID,t.self||(this.selectedUser=t),e(t),this.users.push(t)})),this.users.sort(((e,t)=>e.self?-1:t.self?1:e.username<t.username?-1:e.username>t.username?1:0))})),D.Z.on("user connected",(t=>{for(let e=0;e<this.users.length;e++){const s=this.users[e];if(s.userID===t.userID)return void(s.connected=!0)}e(t),this.users.push(t)})),D.Z.on("user disconnected",(e=>{for(let t=0;t<this.users.length;t++){const s=this.users[t];if(s.userID===e){s.connected=!1;break}}})),D.Z.on("private message",(({content:e,date:t,from:s,to:o})=>{for(let n=0;n<this.users.length;n++){const i=this.users[n],a=D.Z.userID===s;if(i.userID===(a?o:s)){i.messages.push({content:e,date:t,fromSelf:a}),i!==this.selectedUser&&(i.hasNewMessages=!0);break}}}))},unmounted(){D.Z.off("connect"),D.Z.off("disconnect"),D.Z.off("users"),D.Z.off("user connected"),D.Z.off("user disconnected"),D.Z.off("private message")}},x=s(89);const U=(0,x.Z)(C,[["render",B],["__scopeId","data-v-4a92ac8e"]]);var S=U,M=s(1176);const A=e=>((0,o.dD)("data-v-09e1b062"),e=e(),(0,o.Cn)(),e),P={style:{border:"solid blue"}},_=A((()=>(0,o._)("tr",null,null,-1))),R={key:0},$=A((()=>(0,o._)("tr",null,[(0,o._)("td")],-1))),Z=A((()=>(0,o._)("tr",null,[(0,o._)("td")],-1)));function O(e,t,s,i,a,r){const l=(0,o.up)("MDBBtnClose"),c=(0,o.up)("MDBBtn"),d=(0,o.up)("live-chat"),u=(0,o.up)("MDBTable");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(u,{borderless:"",style:{"font-size":"18px","text-align":"center"}},{default:(0,o.w5)((()=>[(0,o._)("tbody",null,[(0,o._)("tr",null,[(0,o._)("td",null,[(0,o.Uk)((0,n.zw)(s.booking.address)+" ",1),(0,o.Wm)(l,{class:"closeData",onClick:r.closeBooking},null,8,["onClick"])])]),(0,o._)("tr",null,[(0,o._)("td",P,(0,n.zw)(s.booking.description),1)]),_,(0,o._)("tr",null,[s.booking.image?((0,o.wg)(),(0,o.iD)("td",R,[a.isImageOpen?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(c,{key:0,outline:"success",onClick:t[0]||(t[0]=e=>r.openImagePanel(s.booking.image))},{default:(0,o.w5)((()=>[(0,o.Uk)(" Open image ")])),_:1})),(0,o._)("div",null,[a.isImageOpen?((0,o.wg)(),(0,o.j4)(c,{key:0,outline:"secondary",onClick:r.closeImagePanel},{default:(0,o.w5)((()=>[(0,o.Uk)(" Close image ")])),_:1},8,["onClick"])):(0,o.kq)("",!0)])])):(0,o.kq)("",!0)]),$,Z,(0,o._)("tr",null,[(0,o._)("td",null,[(0,o.Wm)(d,{chatusers:s.chatusers,messages:s.messages,"onSelect:user":r.selectUser,onNoSelected:r.noSelected,selecteduser:s.selecteduser,"onOn:message":r.onMessage},null,8,["chatusers","messages","onSelect:user","onNoSelected","selecteduser","onOn:message"])])])])])),_:1}),(0,o.Wm)(c,{block:"",outline:"success",onClick:t[1]||(t[1]=e=>r.confirmBooking(s.booking))},{default:(0,o.w5)((()=>[(0,o.Uk)(" Kinnita tellimus ")])),_:1})],64)}var N=s(9482),j={name:"Booking",props:{booking:Object,bookingImages:Array,selecteduser:null,chatusers:Array,messages:Array},components:{LiveChat:M["default"],Gallery:N["default"],MDBTable:p.re,MDBBtn:p.$v,MDBBtnClose:p.Ok},data(){return{isOpenImage:!1,isImageOpen:!1,srcImg:""}},mounted(){},methods:{getBooking(e){console.log("Booking user "+e.booking.id)},selectUser(e){this.$emit("select:user",e)},noSelected(){this.$emit("noSelected")},onMessage(e,t){this.$emit("on:message",e,t)},openImagePanel(e){this.isOpenImage=!0,this.srcImg=s(7752)(`./${e.map((e=>e.name))}`),""!==this.srcImg&&(this.isImageOpen=!0)},closeImagePanel(){this.isOpenImage=!1,this.isImageOpen=!1},confirmBooking(e){this.$emit("confirm:booking",e)},closeBooking(){this.$emit("close:booking"),this.noSelected()}}};const T=(0,x.Z)(j,[["render",O],["__scopeId","data-v-09e1b062"]]);var L=T,H=s(376),E=s(6849),W={name:"client-notifications",props:{chatusers:Array,activeUser:null,selecteduser:null,creditLeft:null,messages:Array,loggedInUser:Object,userIsProvider:Object,room:String},components:{User:y.Z,MessagePanel:I.Z,PulseLoader:v.Z,monthConverter:k.Z,TabView:H.Z,TabPanel:E.Z,chatContent:S,liveChat:M["default"],Booking:L,MDBContainer:p.L5,MDBRow:p.uZ,MDBCol:p.TK,MDBListGroup:p.d8,MDBListGroupItem:p.FQ,MDBTabs:p.zk,MDBTabNav:p.JH,MDBTabItem:p.kX,MDBTabContent:p.oJ,MDBTabPane:p._I,MDBTable:p.re,MDBBtnClose:p.Ok,MDBBtn:p.$v},setup(){const e=(0,f.iH)("null");return{activeTabId4:e}},data(){return{selectedUser:null,userIn:null,bookings:[],isBooking:!1,bookingID:null,pressed:!1,bookingIndex:null,booking:{},bookingImages:[],currentRoom:"",isAccessTerminated:!1,bookingDate:null,isSeen:!1,isOpenImage:!1,isImageOpen:!1,srcImg:"",isChatOpen:!1,isRenderData:!1,loading:!1,id:null,un:"sanna",ri:"",room:"",isChat:!1,isPressedOpenChat:!1,isPressedContactToUser:!1,isConnection:!1,isPressedFinal:!1,count:0,isNoLimit:!1,isNoLimitText:!1}},mounted(){const e=window.localStorage.getItem("loggedAppUser");if(e){const t=JSON.parse(e);this.userIn=t,this.handleBookings()}else this.$router.push("/")},methods:{avajauuenda(){this.isChat=!0,this.count++},selectUser(e){this.$emit("select:user",e)},noSelected(){this.$emit("noSelected")},onMessage(e,t){this.$emit("on:message",e,t)},renderComponent(){this.isChat=!0,D.Z.on("get updated room users",(e=>{console.log("xx-notification "+e.users.length),e.users.length>1&&(this.isTwoUsersOnline=!0)}))},async handleBookings(){const e=await b.Z.getProvider(this.userIn.id);e&&(this.bookings=e.booking.filter((e=>"confirmed"!==e.status&&"waiting"!==e.status&&"completed"!==e.status)))},createBookingDate(){this.bookingDate=22},async getImageSize(e){let t=new Image;t.src=s(7752)(`./${e}`),await t.decode();let o=t.width,n=t.height;return{width:o,height:n}},handleOpenBooking(e,t){},handleCloseBooking(){this.isBooking=!1},messageSeen(e,t){if(this.bookingIndex=t,((this.userIsProvider.proTime-(new Date).getTime())/864e5).toFixed()>0){this.bookingImages=[],this.isBooking=!0,e.image?e.image.forEach((e=>{this.getImageSize(e.name).then((t=>{this.bookingImages=[...this.bookingImages,{id:e._id,size:t.width+"-"+t.height,src:s(7752)(`./${e.name}`),thumb:s(7752)(`./${e.name}`),subHtml:'<div class="lightGallery-captions">\n                <h2>Terve</h2>\n\n            </div>"'}]}))})):this.isAccessTerminated=!0,this.isSeen=!0,this.booking=e,this.ri=this.userIsProvider.yritys+e.user.username,console.log("Ri means: "+this.ri);const t=this.userIsProvider.user.username+e.user.username;console.log("Room in notifications "+this.room);this.userIn.username;D.Z.emit("update room",t),this.id=e.id,this.editStatus(e.id,"seen")}else this.isNoLimitText=!0,this.isNoLimit=!0,setTimeout((()=>{this.isNoLimit=!1}),500)},async editStatus(e,t){const s={status:t},o=await w.Z.updateRecipient(e,s);console.log("Is status updated: "+o.status),this.$emit("update:status",e)},openImagePanel(e){this.isOpenImage=!0,this.srcImg=s(3866)(`./${e.map((e=>e.name))}`),""!==this.srcImg&&(this.isImageOpen=!0)},async handleConfirmBooking(e){console.log("Booking header "+e.header),console.log("confirmed booking id "+e.id),console.log("Confirmed booking user id "+e.user.id),this.editStatus(e.id,"confirmed");const t=await w.Z.getBookingById(e.id),s=t.user.id;console.log("Confirmed booking user id 2 "+t.user.id),this.$emit("remove:booking",e.id),this.isBooking=!1,D.Z.emit("accept recipient",{id:s,booking:e}),this.bookings=this.bookings.filter((t=>t.id!==e.id)),this.bookings.length<1&&this.$router.go(-1)},closeImagePanel(){this.isOpenImage=!1,this.isImageOpen=!1},exitFromNotificationData(){location.reload()}}};const F=(0,x.Z)(W,[["render",h],["__scopeId","data-v-21a6a862"]]);var z=F},2519:function(e,t,s){var o={"./avatar.png":1900,"./jane_doe.png":9197};function n(e){var t=i(e);return s(t)}function i(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id=2519},7736:function(e,t,s){var o={"./file-1711876364418-nauhakengat.jpg":2128,"./file-1711972263287-lavuaari.jpg":3379,"./file-1711972518620-natalia ja marika.png":7514};function n(e){var t=i(e);return s(t)}function i(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id=7736},7752:function(e,t,s){var o={"./avatar/avatar.png":1900,"./avatar/jane_doe.png":9197,"./pro/file-1711876364418-nauhakengat.jpg":2128,"./pro/file-1711972263287-lavuaari.jpg":3379,"./pro/file-1711972518620-natalia ja marika.png":7514};function n(e){var t=i(e);return s(t)}function i(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id=7752},3866:function(e,t,s){var o={"./file-1701851803193-jul.jpg":3718,"./file-1701861866893-jul-1.jpg":4923,"./file-1701862621258-jul-2.jpg":3659,"./file-1704111100142-jul.jpg":1818};function n(e){var t=i(e);return s(t)}function i(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=i,e.exports=n,n.id=3866},1900:function(e,t,s){"use strict";e.exports=s.p+"img/avatar.4388e4e4.png"},9197:function(e,t,s){"use strict";e.exports=s.p+"img/jane_doe.f446515f.png"},2128:function(e,t,s){"use strict";e.exports=s.p+"img/file-1711876364418-nauhakengat.d265a942.jpg"},3379:function(e,t,s){"use strict";e.exports=s.p+"img/file-1711972263287-lavuaari.936b84f9.jpg"},7514:function(e,t,s){"use strict";e.exports=s.p+"img/file-1711972518620-natalia ja marika.e392ddbd.png"},4527:function(e,t,s){"use strict";e.exports=s.p+"img/avatar.db2f8c83.png"},3718:function(e,t,s){"use strict";e.exports=s.p+"img/file-1701851803193-jul.ca147627.jpg"},4923:function(e,t,s){"use strict";e.exports=s.p+"img/file-1701861866893-jul-1.a1cfb29d.jpg"},3659:function(e,t,s){"use strict";e.exports=s.p+"img/file-1701862621258-jul-2.4f493041.jpg"},1818:function(e,t,s){"use strict";e.exports=s.p+"img/file-1704111100142-jul.ca147627.jpg"},1378:function(e,t,s){"use strict";e.exports=s.p+"img/bell.4f72008f.png"},4881:function(e,t,s){"use strict";e.exports=s.p+"img/chat.4b6268e4.png"},5840:function(e,t,s){"use strict";e.exports=s.p+"img/palaute.ef0be53c.png"},1037:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA4QAAAOEBcBgcLgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAUkSURBVFiF7ZddbBRVFMd/987szHaXFkr5ahf5lFq+VlAWKFYBQYn6JBoTH3zQBBMfTCmi8QFs0AdN/AA0EgW/HozRhIQgyEdCiUEDiEi0Fiylgm2B0o/FtaXL7szce30oJSAtNEStD/4f55w55zfn3DP3XmGMYSAlBzT7/wD/BQD7305492vkOy4JoXlES4rFPzkFS94gqgUzFSRyHMqA0oxPYY9dQPPfVoFZGwnldRIXkoRjMc+WlGmLsfkR0lOLEJ4y0cO/dacVAuNIY/xAvH5TFVizBvnNIEqQJCxJqWtx90Wf4qiLVzIKHY8RnThMi7FDA35qgk37bX5Pdy+3XNcwf4LPjlonkIpYvyqwcB3jpCZhSebmhJifGcLUsAW3DsePjyZaPMLI8QWKaEjZnqfwA0VNs81be1zauyTiUpyZsYDHZmTZUu1iS/btrKD1GoDF6xmJIoEgEXVY4AXMdAThCSO5GB9NpGQU9sQCxdCIwvNUOOtrlNIYDy54cLzV4sPvorR0SvIjxji2QWkhnpqdoWyCz4+nbWpbrS5P8R6AvXAts6RmcTTM/ECTkIYhsaGkp8dwpxThFI8wjMpV+L4Keb7C8xUmgFTH1eAnk5IPDuZw5g/J8KjR8UIla1os8nO0WH1fmvyIJuMLTiUlXb4QbogvAWxXssE3JOIxeGIujMnXaKVys77C8xSB0pxP9d2eppRk4/4wjSmLoTlGPzTZkzXNNtXNFmXjfbGsNHPZt6VTUJ+0Awxf7HiWLICdV0RpspEnq0/zxro9Ku+x27Ni0nB1w3XR3CF5/0CYU0mLwWGjHyjxZCSE3PFLSPtayIr5F5kRC65651yH5ES75WvBpp5nl6fgwXdwXamfD4xcNWm4ch6NZ8SYfH1N4rYLko0HwtS1WeS6RpeO9eXowZqaczbfN9kU5mlW3Z8m6lw9XR0ZwbYah72/hs7uLhexawB6tHADg4bA6qyiYmaRH1oa9xiZq0mlJe8dcKltsYk4Rs8Z48tx+RqtYVedo1s6pVxS4vH4HdleK3aizeLTw26mIWW9uqeCl/sE6NHidynIlbyS9c3ThYONbEhKEQ4ZPfuWQE4s6G5RW5dk93FHC2HkygUZikcEvcYyBvbVh/jkh7CvFZOqnqPhhgA9WrSWmAVHpxUGg++8oqc/nLGpPmszvkDx4uI0rtV3jPYuyZZqh0ONocM7y0lcabvhblhVwRlp8W0k1A2qDWz+2dXVZ22W3p6lcsn1kwO0dgiOt9oXPM2Gv9r6tR37ioPtXdIDOHLGpiMjZMQxxAt7L/mVCjQ0nLdIpoWT9dl8UwDGUJ1MywxAw3mpCyIax0JX7ory/v4w12tiW6ekrt3SlmTbty/QeXMAkupURuQYAx1ZIaeMVDw8LSvnjfU52Bgyy74YxLkLvYdq6ZTUtloXfc3G3uz9Avh6OQ0Yo35qtkEIc+uw7ilIpiVaG+Er0bZqezTYftRBX1GOjC+ob7fwFN49Hey5aQADxpbUHWuxyHONOZ+WfPZjWNW1WcogyqtWMMKHOVtrnPpVX0WDppS89PWCE21W1iA+rqzk2r9afwEAlBGHMoFAgNx6zDHZgFpLU7R3BW8DVC3nSCYlJjd3yjWVuyL+50dcTv8uqU9KAsNHfcXt94Hk3jdZIwQvCYEyhpVVK1jXp+96bnPgMymYro05uatclPTl2/8jmc1+FPWW4q7dK2m9nuveco4LmLVoLc8YJWqv5/uPHkr7owG/F/wPMOAAfwKhwkcodKKz1gAAAABJRU5ErkJggg=="}},t={};function s(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,s),i.exports}s.m=e,function(){var e=[];s.O=function(t,o,n,i){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],n=e[d][1],i=e[d][2];for(var r=!0,l=0;l<o.length;l++)(!1&i||a>=i)&&Object.keys(s.O).every((function(e){return s.O[e](o[l])}))?o.splice(l--,1):(r=!1,i<a&&(a=i));if(r){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,n,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,o){return s.f[o](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/"+e+"."+{45:"250eb04c",70:"0a59c36d",94:"02f98e1e",155:"e1055563",158:"9abf5bb4",161:"0c8b7d4f",171:"03749290",283:"4d97cf19",313:"7061b4ea",320:"bf0aec8b",373:"1db26312",378:"a4868a90",526:"847ea5e6",594:"d6d2d708",603:"affcadba",641:"313d14ec",742:"4277faf1",811:"3d28eaf6",828:"cead6907",837:"d54c654b",878:"18806b87",972:"08fa8d94"}[e]+".js"}}(),function(){s.miniCssF=function(e){return"css/"+e+"."+{45:"1d3ed295",70:"c3396564",94:"68d0cc34",155:"886c383e",158:"d6f71d36",171:"933f9d6b",283:"4388e636",313:"d76829cd",320:"f6eab601",378:"3d0f0c0d",526:"7761512e",641:"a5735baa",742:"c5e8b827",811:"95cf5a22",828:"a7329747",878:"965b1d5e",972:"937e7dd3"}[e]+".css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="prore-mongo:";s.l=function(o,n,i,a){if(e[o])e[o].push(n);else{var r,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+i){r=u;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.setAttribute("data-webpack",t+i),r.src=o),e[o]=[n];var g=function(t,s){r.onerror=r.onload=null,clearTimeout(m);var n=e[o];if(delete e[o],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((function(e){return e(s)})),t)return t(s)},m=setTimeout(g.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=g.bind(null,r.onerror),r.onload=g.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p=""}(),function(){if("undefined"!==typeof document){var e=function(e,t,s,o,n){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var a=function(s){if(i.onerror=i.onload=null,"load"===s.type)o();else{var a=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=r,i.parentNode&&i.parentNode.removeChild(i),n(l)}};return i.onerror=i.onload=a,i.href=t,s?s.parentNode.insertBefore(i,s.nextSibling):document.head.appendChild(i),i},t=function(e,t){for(var s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var n=s[o],i=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(i===e||i===t))return n}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){n=a[o],i=n.getAttribute("data-href");if(i===e||i===t)return n}},o=function(o){return new Promise((function(n,i){var a=s.miniCssF(o),r=s.p+a;if(t(a,r))return n();e(o,r,null,n,i)}))},n={143:0};s.f.miniCss=function(e,t){var s={45:1,70:1,94:1,155:1,158:1,171:1,283:1,313:1,320:1,378:1,526:1,641:1,742:1,811:1,828:1,878:1,972:1};n[e]?t.push(n[e]):0!==n[e]&&s[e]&&t.push(n[e]=o(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}}(),function(){var e={143:0};s.f.j=function(t,o){var n=s.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else if(45!=t){var i=new Promise((function(s,o){n=e[t]=[s,o]}));o.push(n[2]=i);var a=s.p+s.u(t),r=new Error,l=function(o){if(s.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var i=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",r.name="ChunkLoadError",r.type=i,r.request=a,n[1](r)}};s.l(a,l,"chunk-"+t,t)}else e[t]=0},s.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,i,a=o[0],r=o[1],l=o[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var d=l(s)}for(t&&t(o);c<a.length;c++)i=a[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},o=self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(8709)}));o=s.O(o)})();
//# sourceMappingURL=app.f8ea2a45.js.map