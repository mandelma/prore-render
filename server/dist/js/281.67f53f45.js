(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[281,590],{8033:function(e,t,i){"use strict";var l=i(3396);const o=({message:e})=>null===e?null:(0,l.Wm)("div",{className:"success"},[e]);t["Z"]=o},5590:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return w}});var l=i(3396),o=i(7139);function n(e,t,i,n,s,a){const r=(0,l.up)("MDBIcon"),d=(0,l.up)("MDBBadge"),u=(0,l.up)("PositiveFeedback"),c=(0,l.up)("MDBCol"),m=(0,l.up)("NegativeFeedback"),g=(0,l.up)("MDBRow"),k=(0,l.up)("MDBTable"),p=(0,l.up)("MDBBtn");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("h2",null,"- "+(0,o.zw)(i.provider.yritys)+" -",1),(0,l.Wm)(k,{style:{"font-size":"18px","text-align":"center"}},{default:(0,l.w5)((()=>[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{style:{padding:"10px",cursor:"pointer"},i:"",class:"far fa-thumbs-up",size:"2x",onClick:a.getPositiveFeedback},null,8,["onClick"]),(0,l.Wm)(d,{color:"success",class:"translate-middle p-1",pill:"",notification:""},{default:(0,l.w5)((()=>[(0,l.Uk)("100")])),_:1}),s.isPositive?((0,l.wg)(),(0,l.j4)(u,{key:0,"onClose:comments":a.closeComments},null,8,["onClose:comments"])):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{style:{padding:"10px",cursor:"pointer"},i:"",class:"far fa-thumbs-down",size:"2x",onClick:a.getNegativeFeedback},null,8,["onClick"]),(0,l.Wm)(d,{color:"danger",class:"translate-middle p-1",pill:"",size:"lg",notification:""},{default:(0,l.w5)((()=>[(0,l.Uk)("2")])),_:1}),s.isNegative?((0,l.wg)(),(0,l.j4)(m,{key:0,"onClose:comments":a.closeComments},null,8,["onClose:comments"])):(0,l.kq)("",!0)])),_:1})])),_:1})])])])])),_:1}),"orange"===i.available?((0,l.wg)(),(0,l.j4)(p,{key:0,outline:"info",block:"",size:"lg",onClick:t[0]||(t[0]=e=>a.handleOrder(i.provider.id))},{default:(0,l.w5)((()=>[(0,l.Uk)(" Tilaa yritys ")])),_:1})):((0,l.wg)(),(0,l.j4)(p,{key:1,outline:"info",block:"",size:"lg"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Ota yhteyttä ")])),_:1})),(0,l.Wm)(p,{outline:"secondary",block:"",size:"lg",onClick:a.canselRecipientFinal},{default:(0,l.w5)((()=>[(0,l.Uk)(" Poistu ")])),_:1},8,["onClick"])])}var s=i(4313);function a(e,t,i,o,n,s){const a=(0,l.up)("MDBListGroupItem"),r=(0,l.up)("MDBListGroup"),d=(0,l.up)("MDBBtn");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(r,{light:"",small:"",style:{"text-align":"left"}},{default:(0,l.w5)((()=>[(0,l.Wm)(a,null,{default:(0,l.w5)((()=>[(0,l.Uk)("22.01.2023 Väga hea töö! Kiidan tegijat")])),_:1}),(0,l.Wm)(a,null,{default:(0,l.w5)((()=>[(0,l.Uk)("05.03.2023 Super, ainult parimad sõnad tehtud töö kohta. Soovitan soojalt!!")])),_:1})])),_:1}),(0,l.Wm)(d,{block:"",outline:"secondary",size:"lg",onClick:s.closeFeedback},{default:(0,l.w5)((()=>[(0,l.Uk)("Poistu kommenteistä")])),_:1},8,["onClick"])])}var r={name:"positive-feedback",components:{MDBListGroup:s.d8,MDBListGroupItem:s.FQ,MDBBtn:s.$v},data(){return{}},methods:{closeFeedback(){this.$emit("close:comments",!1)}}},d=i(89);const u=(0,d.Z)(r,[["render",a]]);var c=u;function m(e,t,i,o,n,s){const a=(0,l.up)("MDBListGroupItem"),r=(0,l.up)("MDBListGroup"),d=(0,l.up)("MDBBtn");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(r,{light:"",small:"",style:{"text-align":"left"}},{default:(0,l.w5)((()=>[(0,l.Wm)(a,null,{default:(0,l.w5)((()=>[(0,l.Uk)("19.04.2023 Huias täiega ja tegi sitta!")])),_:1}),(0,l.Wm)(a,null,{default:(0,l.w5)((()=>[(0,l.Uk)("05.05.2023 Võttis ainult raha ja jättis töö tegemata. Ainult jõi ja suitsetas kogu aeg!")])),_:1})])),_:1}),(0,l.Wm)(d,{block:"",outline:"secondary",size:"lg",onClick:s.closeFeedback},{default:(0,l.w5)((()=>[(0,l.Uk)("Poistu kommenteistä")])),_:1},8,["onClick"])])}var g={name:"negative-feedback",components:{MDBListGroup:s.d8,MDBListGroupItem:s.FQ,MDBBtn:s.$v},data(){return{}},methods:{closeFeedback(){this.$emit("close:comments",!1)}}};const k=(0,d.Z)(g,[["render",m]]);var p=k,v={name:"recipient-final",props:{provider:Object,available:String},components:{PositiveFeedback:c,NegativeFeedback:p,MDBBtn:s.$v,MDBTable:s.re,MDBRow:s.uZ,MDBCol:s.TK,MDBIcon:s.vm,MDBBadge:s.m_},data(){return{isPositive:!1,isNegative:!1}},mounted(){},methods:{handleOrder(e){this.$emit("provider:ordered",e)},getPositiveFeedback(){this.isPositive=!0,this.isNegative=!1},getNegativeFeedback(){this.isNegative=!0,this.isPositive=!1},closeComments(e){this.isPositive=this.isNegative=e,console.log("result "+e)},canselRecipientFinal(){this.$emit("cansel:final",!1)}}};const f=(0,d.Z)(v,[["render",n]]);var w=f},7281:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return C}});var l=i(3396),o=i(7139);const n=e=>((0,l.dD)("data-v-08f93c94"),e=e(),(0,l.Cn)(),e),s=["src"],a={key:0},r={key:0},d={key:0},u={key:1},c=n((()=>(0,l._)("tr",null,null,-1))),m={key:1},g=n((()=>(0,l._)("h2",null,"Yrityksiä hetkellä ei löytyy",-1))),k=[g];function p(e,t,n,g,p,v){const f=(0,l.up)("recipientFinal"),w=(0,l.up)("MDBContainer"),h=(0,l.up)("successMessage"),b=(0,l.up)("MDBBtn"),y=(0,l.up)("MDBTable"),D=(0,l.up)("MDBCol"),_=(0,l.up)("MDBBadge"),B=(0,l.up)("MDBRow");return p.isProviderSelected?((0,l.wg)(),(0,l.j4)(w,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{"onCansel:final":v.handleCanselFinal,"onProvider:ordered":v.orderSuccess,provider:p.selectedProvider,available:p.availability},null,8,["onCansel:final","onProvider:ordered","provider","available"])])),_:1})):((0,l.wg)(),(0,l.j4)(w,{key:1},{default:(0,l.w5)((()=>[(0,l._)("h3",null,"Päivämäärä: "+(0,o.zw)(n.booking[0].date),1),(0,l._)("h2",null,"Tarvin tässä osaaja - "+(0,o.zw)(n.line),1),(0,l.Wm)(h,{message:p.orderMessage},null,8,["message"]),(0,l.Wm)(B,null,{default:(0,l.w5)((()=>[(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,{border:"primary",style:{"font-size":"18px","text-align":"left"}},{default:(0,l.w5)((()=>[(0,l._)("tbody",null,[(0,l._)("tr",null,[(0,l._)("td",null,(0,o.zw)(n.booking[0].description),1)]),(0,l._)("tr",null,[(0,l._)("td",null,[(0,l.Wm)(b,{outline:"info",block:"",size:"lg"},{default:(0,l.w5)((()=>[(0,l.Uk)("Muokkaa tehtävän kuvausta")])),_:1})])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.booking,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.image,(t=>((0,l.wg)(),(0,l.iD)("td",{key:t._id},[(0,l._)("img",{src:i(3866)(`./${e.image.map((e=>e.name))}`),style:{width:"100%"},alt:"kuva"},null,8,s)])))),128))])))),128)),(0,l._)("tr",null,[n.booking[0].image?((0,l.wg)(),(0,l.iD)("td",a,[(0,l.Wm)(b,{outline:"info",block:"",size:"lg"},{default:(0,l.w5)((()=>[(0,l.Uk)("Muokkaa kuva tehtävästä")])),_:1})])):(0,l.kq)("",!0)])])])),_:1})])),_:1}),(0,l.Wm)(D,null,{default:(0,l.w5)((()=>[n.providers.length>0?((0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(y,{border:"primary",style:{"font-size":"18px","text-align":"center"}},{default:(0,l.w5)((()=>[(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.providers,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[e.timeoffer.map((e=>p.datetime.providerMatchingForClient(n.bookingTime,{y:e.yearFrom,m:e.monthFrom,d:e.dayFrom,hour:e.hoursFrom,min:e.minutesFrom},{y:e.yearTo,m:e.monthTo,d:e.dayTo,hour:e.hoursTo,min:e.minutesTo}))).includes(!0)?((0,l.wg)(),(0,l.iD)("td",d,[(0,l.Wm)(b,{style:{width:"200px","background-color":"grey",border:"solid #4c4949",color:"#f0eeee"},outline:"info",size:"lg",onClick:t=>v.getProviderInfo(e,"green")},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.yritys),1)])),_:2},1032,["onClick"]),(0,l.Wm)(_,{badge:"success",class:"translate-middle p-3 border border-light rounded-circle",dot:""})])):((0,l.wg)(),(0,l.iD)("td",u,[(0,l.Wm)(b,{style:{width:"200px",padding:"20px","background-color":"#999797",border:"solid #5f5d5d",color:"#f0eeee","font-size":"150%"},size:"lg",onClick:t=>v.getProviderInfo(e,"orange")},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.yritys),1)])),_:2},1032,["onClick"]),(0,l.Wm)(_,{style:{position:"absolute"},badge:"warning",class:"translate-middle p-3 border border-light rounded-circle",dot:""})]))])))),128)),c])])),_:1})])):((0,l.wg)(),(0,l.iD)("div",m,k))])),_:1}),(0,l.Wm)(b,{block:"",outline:"danger",size:"lg",onClick:v.canselResult},{default:(0,l.w5)((()=>[(0,l.Uk)("Takaisin")])),_:1},8,["onClick"])])),_:1})])),_:1}))}var v=i(4313);const f=(e,t)=>{const i=new Date(e.y,e.m,e.d,e.hour,e.min),l=new Date(t.y,t.m,t.d,t.hour,t.min);return l>=i},w=(e,t,i)=>{const l=new Date(t.y,t.m,t.d,t.hour,t.min),o=new Date(i.y,i.m,i.d,i.hour,i.min);return e>=l&&e<o};var h={compare:f,providerMatchingForClient:w},b=i(5590),y=i(8033),D=i(9398),_={name:"recipient-panel-result",props:{booking:null,bookingTime:null,providers:null,line:String},data(){return{datetime:h,selectedProvider:null,isProviderSelected:!1,availability:"",orderMessage:null}},components:{successMessage:y.Z,recipientFinal:b["default"],MDBBtn:v.$v,MDBContainer:v.L5,MDBTable:v.re,MDBRow:v.uZ,MDBCol:v.TK,MDBBadge:v.m_},methods:{async orderSuccess(e){this.isProviderSelected=!1,this.orderMessage="Tilaus on lähetetty vahvistettavaksi! Kiitos!",console.log("Provider if "+e),console.log("Recpient id: "+this.booking[0].id);const t=await D.Z.updateProvider(e,{booking:[this.booking.id]});console.log("Booking made - id: "+t.id),setTimeout((()=>{this.orderMessage=null}),3e3)},getProviderInfo(e,t){this.selectedProvider=e,this.availability=t,this.isProviderSelected=!0},handleCanselFinal(e){this.isProviderSelected=e},canselResult(){this.$emit("cansel:result",!1)}}},B=i(89);const M=(0,B.Z)(_,[["render",p],["__scopeId","data-v-08f93c94"]]);var C=M},3866:function(e,t,i){var l={"./file-1683564858678-jane_doe.png":7138,"./file-1683983780652-alus merellÃ¤.jpg":9107};function o(e){var t=n(e);return i(t)}function n(e){if(!i.o(l,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=n,e.exports=o,o.id=3866},7138:function(e,t,i){"use strict";e.exports=i.p+"img/file-1683564858678-jane_doe.05f8ae65.png"},9107:function(e,t,i){"use strict";e.exports=i.p+"img/file-1683983780652-alus merellÃ¤.72e40714.jpg"}}]);
//# sourceMappingURL=281.67f53f45.js.map