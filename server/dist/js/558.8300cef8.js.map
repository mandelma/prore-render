{"version":3,"file":"js/558.8300cef8.js","mappings":"mMACOA,MAAA,wB,GACHC,EAAAA,EAAAA,GAAoC,UAA/B,8BAA0B,G,8FADjCC,EAAAA,EAAAA,IAiBM,MAjBNC,EAiBM,CAhBJC,GAEAH,EAAAA,EAAAA,GAMM,aALJA,EAAAA,EAAAA,GAIO,QAJAI,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAUC,EAAAC,YAAAD,EAAAC,cAAAF,IAAU,e,WAC/BP,EAAAA,EAAAA,GAA2D,S,qCAA3CQ,EAAAE,SAAQC,GAAEC,YAAY,oB,iBAAtBJ,EAAAE,aAAQ,SACxBV,EAAAA,EAAAA,GAAoD,S,qCAApCQ,EAAAK,KAAIF,GAAEC,YAAY,iB,iBAAlBJ,EAAAK,SAChBC,EAAAA,EAAAA,IAAyDC,EAAA,CAAjDC,KAAK,QAAQC,KAAK,U,mBAAS,IAAa,UAAb,oB,cAIvCH,EAAAA,EAAAA,IAGEI,EAAA,CADGC,MAAQX,EAAAW,OAAK,mB,iGCbpBnB,EAAAA,EAAAA,GAOM,qBAPD,2CAEH,aAAAC,EAAAA,EAAAA,IAIKmB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJcC,EAAAH,MAAMA,OAAdI,K,WAAXtB,EAAAA,EAAAA,IAIK,MAJ4BuB,IAAKD,EAAKE,I,EACzCzB,EAAAA,EAAAA,GAEK,WAAA0B,EAAAA,EAAAA,IADDH,EAAKb,UAAQ,Q,iBAGf,KACNgB,EAAAA,EAAAA,IAAEJ,EAAAH,OAAK,O,CAIT,OACEQ,KAAM,aACNC,MAAO,CACLT,MAAOU,Q,QCXX,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,Q,oBF0BA,GACEH,KAAM,cACNI,WAAY,CACVC,UAAS,EACTC,OAAMA,EAAAA,IAERC,QACE,MAAMC,GAASC,EAAAA,EAAAA,IAAG,yBACZjB,GAAQkB,EAAAA,EAAAA,IAAI,IACZ3B,GAAW2B,EAAAA,EAAAA,IAAI,IACfC,GAASD,EAAAA,EAAAA,IAAI,IACbxB,GAAOwB,EAAAA,EAAAA,IAAI,IACjB,IAAIE,GAAUF,EAAAA,EAAAA,KAAI,GAElBF,EAAOK,GAAG,WAAW,WAGnB,IAIFL,EAAOK,GAAG,iBAAkB9B,IAE1B+B,QAAQC,IAAK,GAAEhC,eAAsB,IAKvCyB,EAAOK,GAAG,oBAAqB9B,IAC7B+B,QAAQC,IAAK,GAAEhC,aAAoB,IAGrCyB,EAAOK,GAAG,YAAaG,IACrBxB,EAAMyB,MAAQD,CAAG,IAKnB,MAAMlC,EAAaA,KASjB0B,EAAOU,KAAK,gBAAiB,CAAEnC,SAAUA,EAASkC,MAAO/B,KAAMA,EAAK+B,QACpE,MAAME,EAAQpC,EAASkC,MACvBT,EAAOY,KAAO,CAAED,SAChBpC,EAASkC,MAAQ,GACjB/B,EAAK+B,MAAQ,GACbL,EAAQK,OAAQ,CAAG,EAIrB,MAAO,CACLT,SACAhB,QACAT,WACA4B,SACAzB,OACA0B,UACA9B,aAEJ,EACAuC,UAEA,EACAC,UAgBE,EAKFC,QAAS,CACPC,OACEV,QAAQC,IAAI,aACZ,MAAM7B,EAAO,IACPc,EAAO,OACbQ,EAAAA,EAAOU,KAAK,OAAQ,CAAElB,OAAMd,SAASuC,IAC/BA,GACFC,MAAMD,EACR,GAEJ,IGhIJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASE,KAEpE,O","sources":["webpack://prore-mongo/./src/pages/UserDialog.vue","webpack://prore-mongo/./src/components/UserPanel.vue","webpack://prore-mongo/./src/components/UserPanel.vue?94d2","webpack://prore-mongo/./src/pages/UserDialog.vue?1028"],"sourcesContent":["<template>\r\n  <div style=\"margin-top: 100px;\">\r\n    <h2 >Here is user's dialog page</h2>\r\n\r\n    <div >\r\n      <form @submit.prevent=\"joinToChat\">\r\n        <input v-model=\"username\" placeholder=\"Sinu username...\" />\r\n        <input v-model=\"room\" placeholder=\"Toa number...\" />\r\n        <MDBBtn size=\"large\" type=\"submit\">Lisa kasutaja</MDBBtn>\r\n      </form>\r\n    </div>\r\n\r\n    <user-panel\r\n\r\n        :users = users\r\n    />\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport socket from '../socket.js'\r\nimport io from 'socket.io-client'\r\nimport UserPanel from '../components/UserPanel.vue'\r\nimport {\r\n  ref,\r\n  //watch\r\n} from 'vue'\r\nimport {\r\n  MDBBtn\r\n} from \"mdb-vue-ui-kit\";\r\n\r\nexport default {\r\n  name: \"user-dialog\",\r\n  components: {\r\n    UserPanel,\r\n    MDBBtn\r\n  },\r\n  setup() {\r\n    const socket = io(\"http://localhost:3001\")\r\n    const users = ref([])\r\n    const username = ref(\"\")\r\n    const userID = ref(\"\")\r\n    const room = ref(\"\")\r\n    let isReady = ref(false)\r\n\r\n    socket.on('connect', function () {\r\n      // socket.emit('auth', \"Tere!!!\");\r\n      // const uname = \"nipitiri\"\r\n      // socket.auth = { uname }\r\n\r\n    });\r\n\r\n    socket.on('userConnected', (username) => {\r\n\r\n      console.log(`${username} has joined`)\r\n\r\n    })\r\n\r\n\r\n    socket.on('userDisconnected', (username) => {\r\n      console.log(`${username} has left`)\r\n    })\r\n\r\n    socket.on('getUsers', (data) => {\r\n      users.value = data\r\n    })\r\n\r\n\r\n\r\n    const joinToChat = () => {\r\n      // if (/^(([a-zA-Z0-9]{3,}))+$/.test(username.value) == false) {\r\n      //   errorLoginMsg.value = 'UÅ¼uj minimum 3 liter lub cyfr'\r\n      // } else {\r\n      //   socket.emit('enterUsername', { username: username.value })\r\n      //   username.value = ''\r\n      //   isReady.value = true\r\n      //   userId.value = socket.id\r\n      // }\r\n      socket.emit('enterUsername', { username: username.value, room: room.value})\r\n      const uname = username.value\r\n      socket.auth = { uname };\r\n      username.value = ''\r\n      room.value = ''\r\n      isReady.value = true\r\n      //userID.value = socket.id\r\n    }\r\n\r\n    return {\r\n      socket,\r\n      users,\r\n      username,\r\n      userID,\r\n      room,\r\n      isReady,\r\n      joinToChat\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  created() {\r\n    // const sessionID = localStorage.getItem(\"sessionID\");\r\n    //\r\n    // if (sessionID) {\r\n    //   //this.usernameAlreadySelected = true;\r\n    //   socket.auth = { sessionID };\r\n    //   socket.connect();\r\n    // }\r\n    //\r\n    // socket.on(\"session\", ({ sessionID, userID }) => {\r\n    //   // attach the session ID to the next reconnection attempts\r\n    //   socket.auth = { sessionID };\r\n    //   // store it in the localStorage\r\n    //   localStorage.setItem(\"sessionID\", sessionID);\r\n    //   // save the ID of the user\r\n    //   socket.userID = userID;\r\n    // });\r\n\r\n  },\r\n\r\n\r\n  methods: {\r\n    lisa() {\r\n      console.log(\"Submitted\")\r\n      const room = 1000\r\n      const name = \"Tiiu\"\r\n      socket.emit('join', { name, room }, (error) => {\r\n        if (error) {\r\n          alert(error);\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","<template>\r\n  <div>\r\n    Here is user panel to display users\r\n    <ul v-for=\"user in users.users\" :key=\"user.id\">\r\n      <li>\r\n        {{user.username}}\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  {{users}}\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"user-panel\",\r\n  props: {\r\n    users: Array\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./UserPanel.vue?vue&type=template&id=924a7578\"\nimport script from \"./UserPanel.vue?vue&type=script&lang=js\"\nexport * from \"./UserPanel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./UserDialog.vue?vue&type=template&id=a2781b3e\"\nimport script from \"./UserDialog.vue?vue&type=script&lang=js\"\nexport * from \"./UserDialog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["style","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$setup","joinToChat","username","$event","placeholder","room","_createVNode","_component_MDBBtn","size","type","_component_user_panel","users","_Fragment","_renderList","$props","user","key","id","_toDisplayString","name","props","Array","__exports__","components","UserPanel","MDBBtn","setup","socket","io","ref","userID","isReady","on","console","log","data","value","emit","uname","auth","mounted","created","methods","lisa","error","alert","render"],"sourceRoot":""}