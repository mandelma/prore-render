"use strict";(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[959],{3959:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});n(7658);var a=n(3396),s=n(7139),i=n(9242);const l=(0,a._)("h2",{style:{"margin-top":"50px"}},"hei, haluaisin löytää ammattilaisia!",-1),o={class:"ui form"},d={class:"field"},r=(0,a._)("option",{disabled:"",value:""},"Valitse ammattilainen",-1),u=(0,a._)("option",null,"Putkimies",-1),c=(0,a._)("option",null,"Sähkömies",-1),p=(0,a._)("option",null,"Siivooja",-1),m=[r,u,c,p];function g(e,t,n,r,u,c){const p=(0,a.up)("MDBInput"),g=(0,a.up)("VueDatePicker"),h=(0,a.up)("MDBBtn"),f=(0,a.up)("MDBContainer");return(0,a.wg)(),(0,a.iD)("div",null,[l,(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a._)("form",null,[(0,a.Wm)(p,{label:"Anna osoitteesi",modelValue:u.address,"onUpdate:modelValue":t[0]||(t[0]=e=>u.address=e),id:"osoite",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,a.Wm)(g,{placeholder:"Missä aikavälillä haluat ammattilaista?",style:{"margin-bottom":"20px"},modelValue:u.date,"onUpdate:modelValue":t[1]||(t[1]=e=>u.date=e)},null,8,["modelValue"]),(0,a._)("div",null,"Selected: "+(0,s.zw)(u.professional),1),(0,a._)("div",o,[(0,a._)("div",d,[(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>u.professional=e)},m,512),[[i.bM,u.professional]])])])]),(0,a._)("h1",null,(0,s.zw)(e.result),1),(0,a.Wm)(h,{outline:"success",size:"lg",block:"",onClick:t[3]||(t[3]=e=>this.$router.push("/received"))},{default:(0,a.w5)((()=>[(0,a.Uk)("Kinnita andmed")])),_:1}),(0,a.Wm)(h,{outline:"success",size:"lg",block:"",onClick:c.addRecipient},{default:(0,a.w5)((()=>[(0,a.Uk)("Add")])),_:1},8,["onClick"]),(0,a.Wm)(h,{outline:"danger",size:"lg",block:"",onClick:t[4]||(t[4]=e=>this.$router.push("/")),style:{"margin-bottom":"50px"}},{default:(0,a.w5)((()=>[(0,a.Uk)(" Cansel ")])),_:1})])),_:1})])}var h=n(6725),f=n(4313);const _=n(7218),k="/api/recipients",w=async()=>{const e=await _.get(k);return e.data},b=async(e,t)=>{const n=await _.post(`${k}/${e}`,t);return n.data};var y={getRecipients:w,addRecipient:b},v={name:"recipient-form",components:{MDBBtn:f.$v,MDBContainer:f.L5,MDBInput:f.u2,VueDatePicker:h.Z},data(){return{recipientId:null,address:null,lat:0,lng:0,professional:"",date:null}},mounted(){const e=window.localStorage.getItem("loggedAppUser");if(e){const t=JSON.parse(e);this.recipientId=t.id,console.log("User id in recipient: "+t.id)}const t={lat:50.064192,lng:-130.605469},n={north:t.lat+.1,south:t.lat-.1,east:t.lng+.1,west:t.lng-.1},a=document.getElementById("osoite"),s={bounds:n,componentRestrictions:{country:"fi"},fields:["address_components","geometry","icon","name","formatted_address"],strictBounds:!1},i=new google.maps.places.Autocomplete(a,s);i.addListener("place_changed",(()=>{let e=i.getPlace();this.lat=e.geometry.location.lng(),this.lng=e.geometry.location.lng(),this.address=e.formatted_address,console.log(e)}))},methods:{backToDashboard(){},async addRecipient(){const e={address:this.address,latitude:this.lat,longitude:this.lng,professional:this.professional,month:this.date.getMonth(),day:this.date.getDate(),hours:this.date.getHours(),minutes:this.date.getMinutes()};await y.addRecipient(this.recipientId,e)}}},D=n(89);const B=(0,D.Z)(v,[["render",g]]);var C=B}}]);
//# sourceMappingURL=959.a25c0887.js.map