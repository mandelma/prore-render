"use strict";(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[142],{4482:function(e,t,i){var o=i(6768);const s=({message:e})=>null===e?null:(0,o.bF)("div",{className:"error"},[e,(0,o.bF)("img",{className:"errorImg",alt:"error",src:i(1644)},null)]);t.A=s},1981:function(e,t,i){i.d(t,{A:function(){return B}});var o=i(6768),s=i(4232);const n={key:0},r={class:"waiting-info"},a={style:{display:"flex","justify-content":"right"}},l=["src"],d={key:0},u={key:0},c={key:1},m={key:1},h={key:0},k={key:1},g={key:1},p={class:"pro-info"},f={style:{float:"right"}},v={key:0},y={key:1},b={key:2},T={key:0},C={key:1},E={key:3},D={key:0,colspan:"2"},P={key:1,colspan:"2"},F={key:4},M={key:0,colspan:"2"},L={key:1,colspan:"2"};function w(e,t,w,_,x,A){const I=(0,o.g2)("monthConverter"),R=(0,o.g2)("MDBBtn"),B=(0,o.g2)("MDBTable");return"for-recipient"===w.status?((0,o.uX)(),(0,o.CE)("div",n,[(0,o.Lk)("div",r,[(0,o.Lk)("div",a,[(0,o.Lk)("img",{style:{width:"50px"},src:i(6674),alt:"okay"},null,8,l)]),t[2]||(t[2]=(0,o.eW)(" ( ")),(0,o.Lk)("b",null,(0,s.v_)(w.content.ordered[0].yritys),1),(0,o.eW)(" ) - "+(0,s.v_)(w.content.header),1),t[3]||(t[3]=(0,o.Lk)("br",null,null,-1)),(0,o.bF)(I,{num:w.content.onTime[0].month},null,8,["num"]),(0,o.eW)(" "+(0,s.v_)(w.content.onTime[0].day)+" / "+(0,s.v_)(w.content.onTime[0].year),1),t[4]||(t[4]=(0,o.Lk)("br",null,null,-1)),(0,o.eW)(" klo "+(0,s.v_)(w.content.onTime[0].hours)+" : "+(0,s.v_)(w.content.onTime[0].minutes),1),t[5]||(t[5]=(0,o.Lk)("br",null,null,-1)),x.isMoving?((0,o.uX)(),(0,o.CE)("div",d,["here"===x.isMoving?((0,o.uX)(),(0,o.CE)("p",u,(0,s.v_)(w.content.ordered[0].yritys)+" odottaa sinua osoitteseen: "+(0,s.v_)(w.content.ordered[0].address),1)):"go"===x.isMoving?((0,o.uX)(),(0,o.CE)("p",c,(0,s.v_)(w.content.ordered[0].yritys)+" tulossa sovittuun osoitteeseen!",1)):(0,o.Q3)("",!0)])):((0,o.uX)(),(0,o.CE)("div",m,[0===w.content.ordered[0].range?((0,o.uX)(),(0,o.CE)("p",h,(0,s.v_)(w.content.ordered[0].yritys)+" odottaa sinua osoitteseen: "+(0,s.v_)(w.content.ordered[0].address),1)):w.content.ordered[0].range>0?((0,o.uX)(),(0,o.CE)("p",k,(0,s.v_)(w.content.ordered[0].yritys)+" tulossa sovittuun osoitteeseen!",1)):(0,o.Q3)("",!0)])),(0,o.eW)(" "+(0,s.v_)(x.isMoving)+" ",1),(0,o.bF)(R,{block:"",outline:"warning",onClick:t[0]||(t[0]=e=>A.removeComplitedBookingPanel(w.content))},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)(" (Kustub muidu kui aeg läbi saab) - Saab eemaldada kohe (ajutine lahendus) ")]))),_:1})])])):((0,o.uX)(),(0,o.CE)("div",g,[(0,o.Lk)("div",p,[(0,o.Lk)("div",f,[(0,o.bF)(I,{num:w.content.onTime[0].month},null,8,["num"]),(0,o.eW)(" "+(0,s.v_)(w.content.onTime[0].day)+" / "+(0,s.v_)(w.content.onTime[0].year),1),t[6]||(t[6]=(0,o.Lk)("br",null,null,-1)),(0,o.eW)(" klo "+(0,s.v_)(w.content.onTime[0].hours>=10?w.content.onTime[0].hours:"0"+w.content.onTime[0].hours)+" : "+(0,s.v_)(w.content.onTime[0].minutes>=10?w.content.onTime[0].minutes:"0"+w.content.onTime[0].minutes),1)]),"for-provider"===w.status?((0,o.uX)(),(0,o.Wv)(B,{key:0,borderless:"",style:{"font-size":"18px",color:"#ddd","text-align":"left",padding:"10px",width:"100%"}},{default:(0,o.k6)((()=>[(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[t[7]||(t[7]=(0,o.Lk)("td",null," Sovittu: ",-1)),(0,o.Lk)("td",null,(0,s.v_)(w.content.header),1)]),x.offer?((0,o.uX)(),(0,o.CE)("tr",v,[t[8]||(t[8]=(0,o.Lk)("td",null," Hinnalla: ",-1)),(0,o.Lk)("td",null,(0,s.v_)(x.offer.price)+" Eur. ",1)])):(0,o.Q3)("",!0),x.offer&&w.provider.range>0?((0,o.uX)(),(0,o.CE)("tr",y,[t[9]||(t[9]=(0,o.Lk)("td",null," Etäisyys: ",-1)),(0,o.Lk)("td",null,(0,s.v_)(x.offer.distance)+" km. ",1)])):(0,o.Q3)("",!0),x.offer&&w.provider.range>0?((0,o.uX)(),(0,o.CE)("tr",b,[t[10]||(t[10]=(0,o.Lk)("td",null," Matkaiaka: ",-1)),(0,o.Lk)("td",null," noin "+(0,s.v_)(x.offer.duration)+". ",1)])):(0,o.Q3)("",!0),(0,o.Lk)("tr",null,[t[11]||(t[11]=(0,o.Lk)("td",null," Paikka: ",-1)),0===w.provider.range?((0,o.uX)(),(0,o.CE)("td",T,(0,s.v_)(w.provider.address),1)):((0,o.uX)(),(0,o.CE)("td",C,(0,s.v_)(w.content.address),1))]),x.isMoving?((0,o.uX)(),(0,o.CE)("tr",E,["here"===x.isMoving?((0,o.uX)(),(0,o.CE)("td",D,t[12]||(t[12]=[(0,o.Lk)("p",{style:{color:"deepskyblue"}}," Asiakas tulossa! ",-1)]))):"go"===x.isMoving?((0,o.uX)(),(0,o.CE)("td",P,t[13]||(t[13]=[(0,o.Lk)("p",{style:{color:"deepskyblue"}}," Meno asiakkaan luonna! ",-1)]))):(0,o.Q3)("",!0)])):((0,o.uX)(),(0,o.CE)("tr",F,[0===w.provider.range?((0,o.uX)(),(0,o.CE)("td",M,t[14]||(t[14]=[(0,o.Lk)("p",{style:{color:"deepskyblue"}}," Asiakas tulossa! ",-1)]))):w.provider.range>0?((0,o.uX)(),(0,o.CE)("td",L,t[15]||(t[15]=[(0,o.Lk)("p",{style:{color:"deepskyblue"}}," Meno asiakkaan luonna! ",-1)]))):(0,o.Q3)("",!0)]))])])),_:1})):(0,o.Q3)("",!0)])]))}var _=i(5846),x=i(6765),A={name:"Info",props:{index:Number,content:Object,status:String,provider:Object},components:{MDBBtn:_.al,MDBTable:_.EU,monthConverter:x.A},data(){return{offer:this.content.isIncludeOffers?this.content.offers.find((e=>e.provider===this.content.ordered[0])):null,isMoving:this.content.isIncludeOffers?this.content.offers[0].place:null}},methods:{removeCompletedBookingPro(e){this.$emit("remove:proConfirmed",e)},removeComplitedBookingPanel(e){this.$emit("remove:complitedBookingPanel",e)}}},I=i(1241);const R=(0,I.A)(A,[["render",w],["__scopeId","data-v-7755be56"]]);var B=R},1142:function(e,t,i){i.r(t),i.d(t,{default:function(){return Te}});i(4114);var o=i(6768),s=i(4232);const n={style:{position:"relative","text-align":"center"}},r={key:0,style:{border:"solid orange","padding-bottom":"20px","padding-top":"20px","margin-bottom":"10px"}},a={style:{}},l={key:0,class:"table-dark"},d={key:1,class:"table-dark"},u={colspan:"4"},c={class:"flex flex-wrap align-items-center justify-content-center"},m={style:{display:"flex","justify-content":"right",padding:"20px"}},h={key:1},k={key:0,class:"spinner-border",role:"status"},g={key:1},p={key:0},f={key:1},v={style:{border:"solid green","margin-bottom":"10px",padding:"7px"}},y={style:{display:"flex","justify-content":"right",padding:"10px"}},b={style:{width:"33px"}},T={style:{width:"33px"}},C={key:0},E={key:1};function D(e,t,i,D,P,F){const M=(0,o.g2)("MDBCol"),L=(0,o.g2)("MDBRow"),w=(0,o.g2)("errorNotification"),_=(0,o.g2)("successNotification"),x=(0,o.g2)("MDBIcon"),A=(0,o.g2)("VueDatePicker"),I=(0,o.g2)("MDBBtnClose"),R=(0,o.g2)("MDBBtn"),B=(0,o.g2)("info"),X=(0,o.g2)("MDBTable"),K=(0,o.g2)("MDBContainer"),W=(0,o.g2)("editPrice"),O=(0,o.g2)("edit-profession"),$=(0,o.g2)("feedback-list"),z=(0,o.g2)("MDBInput"),V=(0,o.g2)("MDBBadge");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(L,null,{default:(0,o.k6)((()=>[(0,o.bF)(M)])),_:1}),(0,o.bF)(L,null,{default:(0,o.k6)((()=>[(0,o.bF)(M,{class:"proPanelHeader",md:"4"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",n,[(0,o.Lk)("h2",null,(0,s.v_)(D.provider.yritys),1),(0,o.Lk)("h2",null,(0,s.v_)(D.provider.address),1)])])),_:1}),i.bookingsConfirmed.length>0?((0,o.uX)(),(0,o.Wv)(M,{key:0,md:"8"})):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(K,null,{default:(0,o.k6)((()=>[(0,o.bF)(L,null,{default:(0,o.k6)((()=>[D.isProviderCalendar?((0,o.uX)(),(0,o.Wv)(M,{key:0},{default:(0,o.k6)((()=>[(0,o.bF)(K,null,{default:(0,o.k6)((()=>[(0,o.bF)(w,{message:D.timeEditErrorMessage},null,8,["message"]),(0,o.bF)(_,{message:D.timeEditSuccessMessage},null,8,["message"]),D.isTimeToEdit?((0,o.uX)(),(0,o.CE)("div",r,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(P.dayMarkerData,((e,i)=>((0,o.uX)(),(0,o.CE)("div",{key:i},[(0,o.bF)(X,{borderless:"",style:{"margin-right":"2px","font-size":"14px",color:"#ddd","text-align":"left"}},{default:(0,o.k6)((()=>[(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.time,((e,i)=>((0,o.uX)(),(0,o.CE)("tr",{key:i},[(0,o.Lk)("td",null,(0,s.v_)(e.index)+" "+(0,s.v_)(e.text),1),(0,o.Lk)("td",null,[(0,o.Lk)("div",a,[(0,o.bF)(A,{dark:"",modelValue:D.times[e.index],"onUpdate:modelValue":[t=>D.times[e.index]=t,F.handleTime],"time-picker":"",range:""},{trigger:(0,o.k6)((()=>[(0,o.bF)(x,{class:"clickable-text",onClick:t=>F.onEdit(e.timeId,e.index)},{default:(0,o.k6)((()=>t[8]||(t[8]=[(0,o.Lk)("i",{class:"fas fa-edit",size:"lg",style:{cursor:"pointer"}},null,-1)]))),_:2},1032,["onClick"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])]),(0,o.Lk)("td",null,[(0,o.bF)(I,{white:"",onClick:t=>F.delTimeRange(e.timeId,e.index)},null,8,["onClick"])])])))),128)),"highlight"===e.type?((0,o.uX)(),(0,o.CE)("tr",l,[(0,o.Lk)("td",null,(0,s.v_)(e.hours>=10?e.hours:"0"+e.hours)+" : "+(0,s.v_)(e.minutes>=10?e.minutes:"0"+e.minutes),1),(0,o.Lk)("td",null,[null===P.dayPanelIndex||P.dayPanelIndex!==i?((0,o.uX)(),(0,o.Wv)(R,{key:0,block:"",color:"dark",onClick:e=>F.openTask(i)},{default:(0,o.k6)((()=>t[9]||(t[9]=[(0,o.eW)(" Ava ")]))),_:2},1032,["onClick"])):(0,o.Q3)("",!0),P.dayPanelIndex===i?((0,o.uX)(),(0,o.Wv)(R,{key:1,block:"",color:"dark",onClick:e=>F.closeTask(i)},{default:(0,o.k6)((()=>t[10]||(t[10]=[(0,o.eW)(" Sulje ")]))),_:2},1032,["onClick"])):(0,o.Q3)("",!0)])])):(0,o.Q3)("",!0),"highlight"===e.type&&P.dayPanelIndex===i?((0,o.uX)(),(0,o.CE)("tr",d,[(0,o.Lk)("td",u,[(0,o.Lk)("div",c,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.booking,((t,s)=>((0,o.uX)(),(0,o.CE)("div",{key:s,class:"scalein animation-duration-3000 animation-iteration flex align-items-center justify-content-center font-bold w-full"},[(0,o.Lk)("div",null,[t.onTime[0].day===e.day&&s===i?((0,o.uX)(),(0,o.Wv)(B,{key:0,style:{width:"100%"},index:i,status:"for-provider",msg:t[i],content:t,provider:D.provider,"onRemove:proConfirmed":F.handleRemoveProConfirmed},null,8,["index","msg","content","provider","onRemove:proConfirmed"])):(0,o.Q3)("",!0)])])))),128))])])])):(0,o.Q3)("",!0)])])),_:2},1024)])))),128)),(0,o.Lk)("div",m,[(0,o.Lk)("span",{style:{color:"greenyellow",cursor:"pointer"},onClick:t[0]||(t[0]=(...e)=>F.closeDayPanel&&F.closeDayPanel(...e))},"Valmis")])])):(0,o.Q3)("",!0),t[11]||(t[11]=(0,o.Lk)("div",null,null,-1)),P.isEditTime?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",h,[(0,o.bF)(A,{dark:"",class:(0,s.C4)({datepicker_opacity:e.isMapSearchActive}),style:{"margin-bottom":"50px","justify-content":"center"},onInternalModelChange:F.handleInternal,onTimePickerOpen:F.onTimePickerOpen,onTimePickerClose:F.onTimePickerClose,onOverlayToggle:F.onOverlayToggle,range:"","auto-range":"0",modelValue:P.date,"onUpdate:modelValue":[t[1]||(t[1]=e=>P.date=e),F.handleDate],inline:"",locale:"fi",selectText:"Valitse","min-date":new Date,markers:D.markers,highlight:i.filled,"teleport-center":"","month-change-on-scroll":!1,"start-time":P.startTime},null,8,["class","onInternalModelChange","onTimePickerOpen","onTimePickerClose","onOverlayToggle","modelValue","onUpdate:modelValue","min-date","markers","highlight","start-time"])]))])),_:1})])),_:1})):(0,o.Q3)("",!0),D.isEditPrice?((0,o.uX)(),(0,o.Wv)(M,{key:1},{default:(0,o.k6)((()=>[(0,o.bF)(W,{"onCancel:editPrice":F.cancelEditPrice,"onSave:editedPrice":F.saveEditedPrice},null,8,["onCancel:editPrice","onSave:editedPrice"])])),_:1})):D.isEditProfession?((0,o.uX)(),(0,o.Wv)(M,{key:2},{default:(0,o.k6)((()=>[(0,o.bF)(O,{provider:D.provider,onAdditionalProfession:F.handleAddProfession,onEditProfession:F.handleEditProfession,onRemoveProfession:F.handleRemoveProfession,"onCancel:editProfession":F.handleCancelEditProfession},null,8,["provider","onAdditionalProfession","onEditProfession","onRemoveProfession","onCancel:editProfession"])])),_:1})):D.isFeedback?((0,o.uX)(),(0,o.Wv)(M,{key:3},{default:(0,o.k6)((()=>[(0,o.bF)($,{feedback:D.provider.feedback,onCloseFeedbackList:F.handleCloseFeedbackList},null,8,["feedback","onCloseFeedbackList"])])),_:1})):((0,o.uX)(),(0,o.Wv)(M,{key:4},{default:(0,o.k6)((()=>[D.provider.profession?((0,o.uX)(),(0,o.CE)("div",g,[(0,o.bF)(w,{message:D.errorMessage},null,8,["message"]),(0,o.bF)(_,{message:D.successMessage},null,8,["message"]),(0,o.bF)(X,{borderless:"",style:{position:"relative",color:"#ddd","font-size":"18px","text-align":"left"}},{default:(0,o.k6)((()=>[(0,o.Lk)("tbody",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("td",null,(0,s.v_)(0===D.provider.range?"Tarjoan palvelua paikalla":"Palvelun säde: "+D.provider.range+" km"),1),D.isEditRange?((0,o.uX)(),(0,o.CE)("td",f,[(0,o.Lk)("div",v,[(0,o.Lk)("div",y,[(0,o.bF)(I,{white:"",onClick:t[3]||(t[3]=e=>D.isEditRange=!1)})]),(0,o.Lk)("div",null,[(0,o.bF)(z,{white:"",label:"Säde - km",modelValue:D.range,"onUpdate:modelValue":t[4]||(t[4]=e=>D.range=e),size:"lg",type:"number"},null,8,["modelValue"]),t[14]||(t[14]=(0,o.Lk)("br",null,null,-1))]),D.range.length>0?((0,o.uX)(),(0,o.Wv)(R,{key:0,outline:"info",block:"",size:"lg",onClick:F.saveNewRange},{default:(0,o.k6)((()=>t[15]||(t[15]=[(0,o.eW)("Tallenna uusi säde")]))),_:1},8,["onClick"])):(0,o.Q3)("",!0)])])):((0,o.uX)(),(0,o.CE)("td",p,[(0,o.bF)(R,{outline:"info",block:"",size:"lg",onClick:t[2]||(t[2]=e=>D.isEditRange=!0)},{default:(0,o.k6)((()=>t[13]||(t[13]=[(0,o.eW)("Muokkaa toimintaalueetta")]))),_:1})]))]),(0,o.Lk)("tr",null,[t[17]||(t[17]=(0,o.Lk)("td",null," Palaute ",-1)),(0,o.Lk)("td",null,[(0,o.bF)(L,{class:"rating"},{default:(0,o.k6)((()=>[(0,o.bF)(M,null,{default:(0,o.k6)((()=>[(0,o.bF)(x,{style:{padding:"10px",color:"limegreen"},i:"",class:"far fa-thumbs-up",size:"2x"}),(0,o.bF)(V,{color:"success",class:"translate-middle p-1",pill:"",notification:""},{default:(0,o.k6)((()=>[(0,o.Lk)("h2",b,(0,s.v_)(D.provider.rating.positive),1)])),_:1})])),_:1}),(0,o.bF)(M,null,{default:(0,o.k6)((()=>[(0,o.bF)(x,{style:{padding:"10px",color:"palevioletred"},i:"",class:"far fa-thumbs-down",size:"2x"}),(0,o.bF)(V,{color:"danger",class:"translate-middle p-1",pill:"",notification:""},{default:(0,o.k6)((()=>[(0,o.Lk)("h2",T,(0,s.v_)(D.provider.rating.negative),1)])),_:1})])),_:1}),(0,o.bF)(M,null,{default:(0,o.k6)((()=>[(0,o.bF)(R,{block:"",color:"primary",onClick:F.getFeedbackListData},{default:(0,o.k6)((()=>t[16]||(t[16]=[(0,o.eW)("Katso oma arvostelua")]))),_:1},8,["onClick"])])),_:1})])),_:1})])]),D.isProviderCalendar?((0,o.uX)(),(0,o.CE)("tr",E,[t[21]||(t[21]=(0,o.Lk)("td",null," Päätän, koska tarjoan palvelua ",-1)),(0,o.Lk)("td",null,[(0,o.bF)(R,{outline:"info",block:"",size:"lg",onClick:t[6]||(t[6]=e=>D.isProviderCalendar=!1)},{default:(0,o.k6)((()=>t[20]||(t[20]=[(0,o.eW)("Vaihda 24/7")]))),_:1})])])):((0,o.uX)(),(0,o.CE)("tr",C,[t[19]||(t[19]=(0,o.Lk)("td",null," Tarjoan palvelua 24/7 ",-1)),(0,o.Lk)("td",null,[(0,o.bF)(R,{outline:"info",size:"lg",onClick:t[5]||(t[5]=e=>D.isProviderCalendar=!0)},{default:(0,o.k6)((()=>t[18]||(t[18]=[(0,o.eW)("Vaihda kalenteriin")]))),_:1})])])),(0,o.Lk)("tr",null,[(0,o.Lk)("td",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(D.provider.profession,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t},(0,s.v_)(e),1)))),128))]),(0,o.Lk)("td",null,[(0,o.bF)(R,{outline:"info",block:"",size:"lg",onClick:F.editProfessionPro},{default:(0,o.k6)((()=>t[22]||(t[22]=[(0,o.eW)("Muokkaa osaamista")]))),_:1},8,["onClick"])])]),(0,o.Lk)("tr",null,[(0,o.Lk)("td",null,(0,s.v_)(D.provider.priceByHour)+" Euroa ",1),(0,o.Lk)("td",null,[(0,o.bF)(R,{outline:"info",block:"",size:"lg",onClick:F.editPrice},{default:(0,o.k6)((()=>t[23]||(t[23]=[(0,o.eW)("Muokkaa tuntihinta")]))),_:1},8,["onClick"])])]),(0,o.Lk)("tr",null,[t[25]||(t[25]=(0,o.Lk)("td",null," Katso kartalta ",-1)),(0,o.Lk)("td",null,[(0,o.bF)(R,{outline:"info",block:"",size:"lg",onClick:t[7]||(t[7]=e=>this.$router.push("/pro-public-search"))},{default:(0,o.k6)((()=>t[24]||(t[24]=[(0,o.eW)("Kartalta")]))),_:1})])])])])),_:1})])):((0,o.uX)(),(0,o.CE)("div",k,t[12]||(t[12]=[(0,o.Lk)("span",{class:"visually-hidden"},"Loading...",-1)])))])),_:1}))])),_:1}),t[26]||(t[26]=(0,o.eW)(" ---------------------------- "))])),_:1})])}var P=i(8068),F=i(1769);function M(e,t,i,s,n,r){const a=(0,o.g2)("MDBInput"),l=(0,o.g2)("MDBBtn"),d=(0,o.g2)("MDBContainer");return(0,o.uX)(),(0,o.Wv)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(a,{label:"Uusi tuntihinta",size:"lg",white:"",modelValue:s.price,"onUpdate:modelValue":t[0]||(t[0]=e=>s.price=e),wrapperClass:"mb-4"},null,8,["modelValue"]),(0,o.bF)(l,{outline:"success",block:"",size:"lg",onClick:r.handleEditPrice},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("Kinnita")]))),_:1},8,["onClick"]),(0,o.bF)(l,{outline:"danger",block:"",size:"lg",onClick:r.cancelEdit},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("Poistu")]))),_:1},8,["onClick"])])),_:1})}var L=i(5846),w=i(144),_={name:"edit-price",setup(){const e=(0,w.KR)(null);return{price:e}},components:{MDBContainer:L.Dj,MDBBtn:L.al,MDBInput:L.gk},data(){return{errorMessage:null}},methods:{handleEditPrice(){this.$emit("save:editedPrice",this.price)},cancelEdit(){this.$emit("cancel:editPrice",!1),this.errorMessage="Here is some error!"}}},x=i(1241);const A=(0,x.A)(_,[["render",M]]);var I=A,R=i(5130);const B={key:0},X={style:{"margin-bottom":"20px"}},K={value:"slotProps"},W={key:0},O={key:1},$={style:{},class:"flex align-items-center"},z={key:1},V={key:2,style:{"margin-bottom":"20px"}},S={value:"slotProps"},N={key:0},j={key:1},Q={style:{},class:"flex align-items-center"};function H(e,t,i,n,r,a){const l=(0,o.g2)("MDBIcon"),d=(0,o.g2)("Dropdown"),u=(0,o.g2)("MDBTable"),c=(0,o.g2)("MDBBtnClose"),m=(0,o.g2)("MDBBtn"),h=(0,o.g2)("MDBContainer");return(0,o.uX)(),(0,o.Wv)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(l,{style:{float:"right",cursor:"pointer"},onClick:a.cancelEditProfession,size:"3x"},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.Lk)("i",{class:"fas fa-undo"},null,-1)]))),_:1},8,["onClick"]),i.provider&&1===i.provider.profession.length?((0,o.uX)(),(0,o.CE)("div",B,[(0,o.bF)(u,{borderless:"",style:{"font-size":"18px","text-align":"left"}},{default:(0,o.k6)((()=>[(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.provider.profession,((i,r)=>((0,o.uX)(),(0,o.CE)("tr",{key:r},[(0,o.Lk)("td",null,(0,s.v_)(i),1),(0,o.Lk)("td",null,[(0,o.Lk)("form",{onSubmit:t[1]||(t[1]=(0,R.D$)(((...t)=>e.submit&&e.submit(...t)),["prevent"]))},[(0,o.Lk)("div",X,[(0,o.bF)(d,{onChange:e=>a.changeCurrentProfession(r),modelValue:n.selected,"onUpdate:modelValue":t[0]||(t[0]=e=>n.selected=e),options:n.proList,filter:"",optionLabel:"label",optionGroupLabel:"label",optionGroupChildren:"items",placeholder:"Valitse ammattilainen",class:"w-full md:w-100rem"},{optiongroup:(0,o.k6)((e=>[(0,o.Lk)("div",$,[(0,o.Lk)("div",null,(0,s.v_)(e.option.label),1)])])),default:(0,o.k6)((()=>[(0,o.Lk)("template",K,[e.slotProps.value?((0,o.uX)(),(0,o.CE)("div",W,[(0,o.Lk)("div",null,(0,s.v_)(e.slotProps.value.label),1)])):((0,o.uX)(),(0,o.CE)("span",O,(0,s.v_)(e.slotProps.placeholder),1))])])),_:2},1032,["onChange","modelValue","options"])])],32)])])))),128))])])),_:1})])):((0,o.uX)(),(0,o.CE)("div",z,[(0,o.bF)(u,{borderless:"",style:{"font-size":"18px","text-align":"left"}},{default:(0,o.k6)((()=>[(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.provider.profession,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",null,(0,s.v_)(e),1),(0,o.Lk)("td",null,[(0,o.bF)(c,{white:"",onClick:i=>a.removeProfession(t,e)},null,8,["onClick"])])])))),128))])])),_:1})])),(0,o.bF)(m,{block:"",color:"primary",size:"lg",onClick:a.addProfessionPressed},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)("Lisää ammatti")]))),_:1},8,["onClick"]),n.isAddProfession?((0,o.uX)(),(0,o.CE)("div",V,[(0,o.bF)(d,{onChange:a.changeNewProfession,modelValue:n.selectedNewProfession,"onUpdate:modelValue":t[2]||(t[2]=e=>n.selectedNewProfession=e),options:n.proList,filter:"",optionLabel:"label",optionGroupLabel:"label",optionGroupChildren:"items",placeholder:"Valitse ammattilainen",class:"w-full md:w-100rem"},{optiongroup:(0,o.k6)((e=>[(0,o.Lk)("div",Q,[(0,o.Lk)("div",null,(0,s.v_)(e.option.label),1)])])),default:(0,o.k6)((()=>[(0,o.Lk)("template",S,[e.slotProps.value?((0,o.uX)(),(0,o.CE)("div",N,[(0,o.Lk)("div",null,(0,s.v_)(e.slotProps.value.label),1)])):((0,o.uX)(),(0,o.CE)("span",j,(0,s.v_)(e.slotProps.placeholder),1))])])),_:1},8,["onChange","modelValue","options"])])):(0,o.Q3)("",!0),n.additionalProfession.length>2?((0,o.uX)(),(0,o.Wv)(m,{key:3,outline:"success",block:"",size:"lg",onClick:e.handleAddAdditionalProfession},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)("Kinnita uus amet")]))),_:1},8,["onClick"])):(0,o.Q3)("",!0),(0,o.bF)(m,{outline:"danger",block:"",size:"lg",style:{"margin-top":"20px"},onClick:a.cancelEditProfession},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)("Poistu")]))),_:1},8,["onClick"])])),_:1})}var U=i(3076),G=i(2436),Y={name:"editProfession",props:{provider:Object},components:{Dropdown:G.A,MDBContainer:L.Dj,MDBBtn:L.al,MDBTable:L.EU,MDBIcon:L.$u,MDBBtnClose:L.uR},setup(){const e=(0,w.KR)(""),t=(0,w.KR)(null),i=(0,w.KR)(null),o=(0,w.KR)(!1),s=(0,w.KR)(""),n=(0,w.KR)(U.A);return{profession:e,selected:t,selectedNewProfession:i,isAddProfession:o,additionalProfession:s,proList:n}},methods:{changeCurrentProfession(e){console.log("Selected xx "+e+" "+this.selected.label),this.$emit("editProfession",e,this.selected.label),this.selected=null},changeNewProfession(){console.log("New new "+this.selectedNewProfession.label),this.isAddProfession=!1,this.$emit("additionalProfession",this.selectedNewProfession.label),this.selectedNewProfession=null},addProfessionPressed(){this.selectedNewProfession="",this.isAddProfession=!0},addNewProfession(){this.selectedNewProfession="";const e=document.getElementById("new_profession");e.addEventListener("change",(e=>{this.isAddProfession=!1,this.$emit("additionalProfession",e.target.value)})),this.selectedNewProfession=""},editProfession(e){this.isAddProfession=!1;const t=document.getElementById("edit_profession");t.addEventListener("change",(t=>{this.$emit("editProfession",e,t.target.value)})),this.selected=""},removeProfession(e,t){this.isAddProfession=!1,this.$emit("removeProfession",e,t),this.selected=null},cancelEditProfession(){this.$emit("cancel:editProfession")}}};const J=(0,x.A)(Y,[["render",H]]);var q=J,Z=i(4482),ee=i(7337),te=i(1981),ie=i(1690),oe=i(7533);const se=i(6425),ne="/api/offers",re=async()=>{const e=await se.get(ne);return e.data},ae=async e=>{const t=await se.post(`${ne}`,e);return t.data},le=async(e,t)=>{const i=await se.post(`${ne}/${e}`,t);return i.data},de=async(e,t)=>{const i=await se.delete(`${ne}/${e}/timeoffer/${t}`);return i.data},ue=async(e,t)=>{const i=await se.put(`${ne}/${e}`,t);return i.data};var ce={getOffers:re,addFirstOffer:ae,addAdditionalOffer:le,removeTimeOffer:de,updateOffer:ue};const me={style:{border:"1px solid #999",padding:"10px"}},he={style:{"margin-bottom":"10px"}};function ke(e,t,i,n,r,a){return(0,o.uX)(),(0,o.CE)("div",me,[(0,o.Lk)("h4",{style:{"text-align":"right",cursor:"pointer",color:"green"},onClick:t[0]||(t[0]=t=>e.$emit("closeFeedbackList"))},"Valmis"),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.feedback,(e=>((0,o.uX)(),(0,o.CE)("div",{style:{"text-align":"left"},key:e.id},[(0,o.Lk)("h2",he,(0,s.v_)(e.pos),1)])))),128)),(0,o.Lk)("h3",null,(0,s.v_)(i.feedback.length>0?i.feedback.pos:"Ei arvostelua vielä!"),1)])}var ge={name:"FeedbackList",props:{feedback:Array}};const pe=(0,x.A)(ge,[["render",ke]]);var fe=pe,ve=i(222),ye={name:"Provider-panel",props:{userIsProvider:Object,bookings:Array,filled_days:Array,filled:Array,bookingsConfirmed:Array},components:{Gallery:ve["default"],FeedbackList:fe,info:te.A,errorNotification:Z.A,successNotification:ee.A,editPrice:I,editProfession:q,MDBContainer:L.Dj,MDBIcon:L.$u,MDBRow:L.gU,MDBCol:L.m6,MDBTable:L.EU,MDBBtn:L.al,MDBBtnClose:L.uR,MDBBadge:L.nf,MDBInput:L.gk,VueDatePicker:P.A},data(){const e=()=>{(0,oe.A)(new Date,1)},t=(0,w.KR)(),i=(0,w.KR)([{hours:(new Date).getHours(),minutes:(new Date).getMinutes()},{hours:(new Date).getHours(),minutes:(new Date).getMinutes()}]);return{dateForTimeEdit:null,date:t,startTime:i,editMarkedTimeID:null,editMarketIndex:null,activeDate:null,setMarkers:null,dayMarkerData:[],isEditTime:!1,selfProvider:this.userIsProvider,confirmedBookings:[],testi:{},un:"",ri:"",rooms:[],close:!0,isGallery:!1,proImages:[],filledTimes:[],dayPanelIndex:null,isHandleTask:!1,watchEffect:e}},setup(){const e=(0,w.KR)(!1),t=(0,w.KR)(null),i=(0,w.KR)(""),s=(0,w.KR)(null),n=(0,w.KR)(null),r=(0,w.KR)(!1),a=(0,w.KR)(!1),l=(0,w.KR)(!1),d=(0,w.KR)(!1),u=(0,w.KR)(!1),c=(0,w.KR)(!1),m=(0,w.KR)(null),h=(0,w.KR)(null),k=(0,w.KR)([]),g=(0,w.KR)([]),p=(0,w.KR)(!1),f=(0,w.KR)([]),v=(0,w.KR)({}),y=(0,w.KR)(!1),b=(0,w.KR)([]),T=(0,w.KR)({}),C=(0,w.KR)(""),E=(0,w.KR)({}),D=(0,w.KR)(null),P=(0,w.KR)([]),F=(0,w.KR)(null),M=(0,w.KR)(null),L=(0,w.KR)(null),_=(0,w.KR)(null),x=(0,w.KR)(null),A=(0,w.KR)({}),I=(0,w.KR)(!1),R=(0,w.KR)([]),B=(0,w.KR)(null),X=(0,w.KR)(!1),K=(0,w.KR)([(0,oe.A)(new Date,1),(0,oe.A)(new Date,2),(0,oe.A)(new Date,7)]);return{isProviderCalendar:e,testii:t,weekDay:i,timerange:s,datee:n,range:r,isRangeSelected:a,isEditRange:l,isEditPrice:d,isFeedback:u,isEditProfession:c,clearTime:m,dateTest:h,markers:k,contents:g,isContents:p,markedDays:f,time:v,isConfirmTime:y,times:b,datetime:T,userId:C,provider:E,creditLeft:D,providerTimes:P,errorMessage:F,timeEditSuccessMessage:L,timeEditErrorMessage:_,oblicationInfoMessage:x,successMessage:M,editTime:A,isTimeToEdit:I,editArr:R,timeToEdit:B,watchEffect:o.nT,highlightedDates:K,isDisplayConfirmed:X}},mounted(){},beforeMount(){const e=window.localStorage.getItem("loggedAppUser");if(e){const t=JSON.parse(e);this.userId=t.id,console.log("User token in provider: "+t.token),this.providerData()}else this.$router.push("/")},methods:{openTask(e){this.dayPanelIndex=e,this.isHandleTask=!0,this.isDisplayConfirmed=!0,console.log("Index in open - "+e)},closeTask(e){this.dayPanelIndex=null,this.isHandletask=!1,this.isDisplayConfirmed=!1,console.log("Index in close - "+e)},closeDayPanel(){this.isTimeToEdit=!1,this.isEditTime=!1,this.isDisplayConfirmed=!1,this.dayPanelIndex=null},goToMap(){this.$router.push("/provider-public")},getDate(){const e=(new Date).getTime(),t=(new Date).getTime()+6048e5,i=864e5;console.log("and now "+e),console.log("week_ms added  is: "+t);const o=(t-e)/i;console.log("Days between - "+o)},saveNewRange(){this.isEditRange=!1,F.A.editRange(this.provider.id,{range:this.range}),this.provider.range=this.range},getIt(){let e="aaa",t="room";ie.A.auth={username:e,room:t},ie.A.connect();let i="Oopersama";ie.A.emit("updateRoom",i)},joinAllRooms(){const e=["111","222"];ie.A.emit("joinAllClientRooms",e)},handleRemoveProConfirmed(e){console.log("Info closed here?? "+e.header),this.$emit("removeProBookingConfirmed",e),this.confirmedBookings=this.confirmedBookings.filter((t=>t.id!==e.id)),this.successMessage="Siit saab kustutada selle teavituse soovi korral!",setTimeout((()=>{this.successMessage=null}),3e3)},socketResetTest(){ie.A.disconnect(),ie.A.connect()},openChatPanel(e){e.preventDefault(),console.log("Will chat open...");const t=localStorage.getItem("sessionID");t&&(this.usernameAlreadySelected=!0,ie.A.auth={sessionID:t},ie.A.connect()),ie.A.on("session",(({sessionID:e,userID:t,roomName:i})=>{ie.A.auth={sessionID:e},localStorage.setItem("sessionID",e),ie.A.userID=t,ie.A.roomName=i}))},createOrdered(e){},handleInternal(e){this.editArr=[];let t=[];if(this.dayMarkerData=[],this.editTime={},this.isTimeToEdit=!1,e){console.log("DATE"+e[0].getDate()),this.activeDate=e[0].getDate(),this.dateForTimeEdit=e,console.log("get date "+this.activeDate);let i=e.toString().substring(8,10),o=parseInt(i);this.weekDay=e.toString().substring(0,3);let s={};this.confirmedBookings.forEach((e=>{})),console.log("length xxxxxxxx "+this.markers.length),this.filled_days.forEach((e=>{o===e.day?(console.log("On"),this.isTimeToEdit=!0,t.push({type:"highlight",day:o,weekDay:this.weekDay,hours:e.hours,minutes:e.minutes,booking:this.bookingsConfirmed.filter((e=>e.onTime[0].day===o))})):console.log("Ei ole")}));let n=!1;const r=[];this.markers.forEach((e=>{e.date.getDate()===o&&(n=!0,this.isTimeToEdit=!0,s={type:"marker",day:o,weekDay:this.weekDay,time:e.content},r.push(e.content),this.editArr.push(s))})),n&&(this.dayMarkerData=this.dayMarkerData.concat({type:"marker",day:o,weekday:this.weekDay,time:r})),this.times=[],this.providerTimes&&this.providerTimes.forEach((e=>{this.initializeTime(e)})),this.editArr=this.editArr.concat(t),this.dayMarkerData=this.dayMarkerData.concat(t)}},onTimePickerOpen(e){console.log("Timepicker open! ")},onTimePickerClose(){console.log("Timepicker is closed!")},onOverlayToggle(e){console.log(`Overlay ${e.overlay} is ${e.open?"opened":"closed"}`)},editPrice(){this.isEditPrice=!0},async saveEditedPrice(e){const t={priceByHour:e},i=await F.A.updateProvider(this.provider.id,t);i&&(this.provider.priceByHour=e,console.log("Price: "+this.provider.priceByHour),this.isEditPrice=!1,this.successMessage="Tuntihinta on muokattu!",setTimeout((()=>{this.successMessage=null}),2e3))},cancelEditPrice(e){this.isEditPrice=e},getFeedbackListData(){this.isFeedback=!0},handleCloseFeedbackList(){this.isFeedback=!1},editProfessionPro(){this.isEditProfession=!0},handleEditProfession(e,t){console.log("Profession is "+t+" and index "+e),this.provider.profession[0]=t,F.A.editProfession(this.provider.id,{index:e,pro:t})},handleAddProfession(e){console.log("Uus amet on "+e),F.A.additionalProfession(this.provider.id,{profession:e}),this.provider.profession.includes(e)||this.provider.profession.push(e)},handleRemoveProfession(e,t){console.log("Profession index is "+e+" and profession is "+t),F.A.removeProfession(this.provider.id,{profession:t}),this.provider.profession.splice(e,1)},handleCancelEditProfession(){this.isEditProfession=!1},async editTimeTest(){const e={hoursFrom:1};await ce.updateOffer("6431407f53469b1f48eeb2f0",e)},updateTimesAndMarkers(){this.providerTimes.forEach((e=>{console.log("Provider times: "+e.hoursFrom),this.setTimeMarkers(e)})),this.providerTimes.forEach((e=>{this.initializeTime(e)}))},async delTimeRange(e,t){await ce.removeTimeOffer(this.provider.id,e),console.log("Id argumendina? "+e),this.times.splice(t,1),this.providerTimes=this.providerTimes.filter((t=>t.id!==e)),this.markers=this.markers.filter((t=>t.content.timeId!==e)),console.log("MARKERS LEN "+this.markers.length),this.dayMarkerData=this.dayMarkerData.filter((e=>"marker"===e.type)),this.dayMarkerData.length>1?this.dayMarkerData=this.dayMarkerData.filter((t=>t.time.some((t=>t.timeId!==e)))):(console.log("Something else!!"),this.dayMarkerData[0].time=this.dayMarkerData[0].time.filter((t=>t.timeId!==e))),0===this.dayMarkerData[0].time.length&&(this.isTimeToEdit=!1)},onClose(){console.log("On close...")},async handleDate(){console.log("Date handled!");const e={yearFrom:this.date[0].getFullYear(),monthFrom:this.date[0].getMonth(),dayFrom:this.date[0].getDate(),hoursFrom:this.date[0].getHours(),minutesFrom:this.date[0].getMinutes(),yearTo:this.date[1].getFullYear(),monthTo:this.date[1].getMonth(),dayTo:this.date[1].getDate(),hoursTo:this.date[1].getHours(),minutesTo:this.date[1].getMinutes()},t=await ce.addAdditionalOffer(this.provider.id,e);console.log("Provider times "+this.providerTimes),this.providerTimes=this.providerTimes.concat(t),this.times=[],this.markers=[],this.providerTimes.forEach(((e,t)=>{this.setTimeMarkers(e,t),this.initializeTime(e)}));let i=[],o={};this.editArr=[],this.dayMarkerData=[],console.log("------------- PT -------- "+this.providerTimes.length),console.log("------------- ML --------- "+this.markers.length),this.filled_days.forEach((e=>{this.date[0].getDate()===e.day?(console.log("On"),this.isTimeToEdit=!0,i.push({type:"highlight",day:this.date[0].getDate(),weekDay:this.weekDay,hours:e.hours,minutes:e.minutes,booking:this.bookingsConfirmed.filter((e=>e.onTime[0].day===this.date[0].getDate()))})):console.log("Ei ole")}));const s=[];this.markers.forEach((e=>{e.date.getDate()===t.dayFrom&&(this.isTimeToEdit=!0,o={day:t.dayFrom,weekDay:this.weekDay,time:e.content},s.push(e.content))})),this.dayMarkerData=this.dayMarkerData.concat({type:"marker",day:t.dayFrom,weekday:this.weekDay,time:s}),this.dayMarkerData=this.dayMarkerData.concat(i)},async confirmEditedTime(e){let t;console.log("Confirmed??? "+e+" hours edited: "+this.t);const i=this.timeToEdit;if(i){t={hoursFrom:i[0].hours,minutesFrom:i[0].minutes,hoursTo:i[1].hours,minutesTo:i[1].minutes};const o=await ce.updateOffer(e,t);console.log("Offer edited: "+o),this.timeEditSuccessMessage="Aika muokattu onnistuneesti!",this.isEditTime=!1,setTimeout((()=>{this.timeEditSuccessMessage=null}),2e3),this.isTimeToEdit=!1}else this.timeEditErrorMessage="Ensin on vaihdettava kellonaika!",setTimeout((()=>{this.timeEditErrorMessage=null}),2e3);this.timeToEdit=null},onEdit(e,t){console.log("Editing time id "+e),console.log("Index on "+t),this.editMarkedTimeID=e,this.editMarketIndex=t,this.isEditTime=!0},async handleTime(e){this.xxx=e,console.log("Time is handled "+e[0].hours+" "+e[1].hours),console.log("ID NOW HERE"+this.editMarkedTimeID);const t={hoursFrom:e[0].hours,minutesFrom:e[0].minutes,hoursTo:e[1].hours,minutesTo:e[1].minutes};this.times[this.editMarketIndex]=[{hours:e[0].hours,minutes:e[0].minutes},{hours:e[1].hours,minutes:e[1].minutes}];const i=await ce.updateOffer(this.editMarkedTimeID,t);console.log("Offer edited: "+i),this.timeEditSuccessMessage="Aika muokattu onnistuneesti!",setTimeout((()=>{this.timeEditSuccessMessage=null}),2e3),this.isTimeToEdit=!1,this.providerTimes=this.providerTimes.filter((e=>e.id!==this.editMarkedTimeID?e:i));const o=e[0].hours>=10?e[0].hours:"0"+e[0].hours,s=e[1].hours>=10?e[1].hours:"0"+e[1].hours,n=e[0].minutes>=10?e[0].minutes:"0"+e[0].minutes,r=e[1].minutes>=10?e[1].minutes:"0"+e[1].minutes;let a=o+" : "+n+" - "+s+" : "+r;this.markers.map((e=>e.content.timeId===this.editMarkedTimeID?e.content.text=a:e)),this.isEditTime=!1,this.timeToEdit=e},setMarkedDay(e){const t=e-(new Date).getDate();this.markedDays.push(e),console.log("Day to set_ "+t)},cancelTime(){console.log("Time cancelled!")},async addAvailableDate(){const e={yearFrom:this.date[0].getFullYear(),monthFrom:this.date[0].getMonth(),dayFrom:this.date[0].getDate(),hoursFrom:this.date[0].getHours(),minutesFrom:this.date[0].getMinutes(),yearTo:this.date[1].getFullYear(),monthTo:this.date[1].getMonth(),dayTo:this.date[1].getDate(),hoursTo:this.date[1].getHours(),minutesTo:this.date[1].getMinutes()},t=await ce.addAdditionalOffer(this.provider.id,e);console.log("Saved? "+t)},async setTimeMarkers(e,t){console.log("KERTA "+e.id);let i=null;this.contents=[],i=e.monthFrom===(new Date).getMonth()?(0,oe.A)(new Date,e.dayFrom-(new Date).getDate()):(0,oe.A)(new Date(e.yearFrom,e.monthFrom,0),e.dayFrom),console.log("MAKKED DAY "+i.getDate()),console.log("Test markers: "+new Date(e.yearFrom,e.monthFrom,e.dayFrom,e.hoursFrom,e.minutesFrom));const o=new Date(e.yearFrom,e.monthFrom,e.dayFrom,e.hoursFrom,e.minutesFrom),s=new Date(e.yearTo,e.monthTo,e.dayTo,e.hoursTo,e.minutesTo),n=e.hoursFrom>=10?e.hoursFrom:"0"+e.hoursFrom,r=e.hoursTo>=10?e.hoursTo:"0"+e.hoursTo,a=e.minutesFrom>=10?e.minutesFrom:"0"+e.minutesFrom,l=e.minutesTo>=10?e.minutesTo:"0"+e.minutesTo;let d=n+" : "+a+" - "+r+" : "+l,u={text:d,index:t,timeId:e.id,date:o,color:"red"};this.contents.push({text:d,index:t,timeId:e.id,color:"red"});e.id;console.log("Marker added "+e.id),this.markers&&(s>=new Date?this.markers=this.markers.concat({dFrom:e.dayFrom,date:i,type:"line",color:"orange",content:u}):await ce.removeTimeOffer(this.provider.id,e.id)),console.log("Time pikkus "+this.times.length),this.times.forEach(((e,t)=>{}))},async providerData(){const e=await F.A.getProvider(this.userId);e&&(this.provider=e,this.creditLeft=((e.proTime-(new Date).getTime())/864e5).toFixed()<0?0:((e.proTime-(new Date).getTime())/864e5).toFixed(),e.reference.forEach(((e,t)=>{this.proImages=[...this.proImages,{id:t,size:"1400-933",src:i(3906)(`./${e.name}`),thumb:i(3906)(`./${e.name}`),subHtml:'<div class="lightGallery-captions">\n\n\n          </div>"'}]})),this.providerTimes=e.timeoffer,e.isAvailable24_7||(this.isProviderCalendar=!0),this.rooms=e.room),this.times=[],this.providerTimes&&(this.providerTimes.forEach((e=>{this.initializeTime(e)})),this.providerTimes.forEach(((e,t)=>{this.setTimeMarkers(e,t)}))),console.log("Provider times pikkus "+this.providerTimes.length),console.log("Markerite pikkus "+this.markers.length)},createFilledTimes(){let e={};this.filled_days.forEach((t=>{e={day:t.day,time:t}}))},initializeTime(e){let t=[];const i=new Date(e.yearFrom,e.monthFrom,e.dayFrom,e.hoursFrom,e.minutesFrom);t.push({day:e.dayFrom,hours:e.hoursFrom,minutes:e.minutesFrom},{day:e.dayTo,hours:e.hoursTo,minutes:e.minutesTo}),i>=new Date&&this.times.push(t)},test(e){console.log("What ever: "+e)}}};const be=(0,x.A)(ye,[["render",D]]);var Te=be},1644:function(e,t,i){e.exports=i.p+"img/error.9510853e.png"},6674:function(e,t,i){e.exports=i.p+"img/ok.c97d8292.png"}}]);
//# sourceMappingURL=142.bd255b8a.js.map