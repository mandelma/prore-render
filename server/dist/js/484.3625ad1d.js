"use strict";(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[484],{5800:function(e,t,a){const n=a(7218),s="/api/recipients",l=async()=>{const e=await n.get(s);return e.data},o=async(e,t)=>{const a=await n.post(`${s}/${e}`,t);return a.data};t["Z"]={getRecipients:l,addRecipient:o}},4484:function(e,t,a){a.r(t),a.d(t,{default:function(){return D}});a(7658);var n=a(3396),s=a(7139),l=a(9242);const o=(0,n._)("h2",{style:{"margin-top":"50px"}},"Client",-1),i={class:"ui form"},d={class:"field"},r=(0,n._)("option",{disabled:"",value:""},"Valitse ammattilainen",-1),u=(0,n._)("option",null,"Putkimies",-1),c=(0,n._)("option",null,"Sähkömies",-1),p=(0,n._)("option",null,"Siivooja",-1),m=[r,u,c,p];function g(e,t,a,r,u,c){const p=(0,n.up)("MDBInput"),g=(0,n.up)("VueDatePicker"),h=(0,n.up)("MDBBtn"),f=(0,n.up)("MDBContainer");return(0,n.wg)(),(0,n.iD)("div",null,[o,(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n._)("form",null,[(0,n.Wm)(p,{label:"Anna osoitteesi",modelValue:u.address,"onUpdate:modelValue":t[0]||(t[0]=e=>u.address=e),id:"osoite",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,n.Wm)(g,{placeholder:"Missä aikavälillä haluat ammattilaista?",style:{"margin-bottom":"20px"},"min-date":new Date,modelValue:u.date,"onUpdate:modelValue":t[1]||(t[1]=e=>u.date=e),state:!1,markers:e.markers},null,8,["min-date","modelValue","markers"]),(0,n._)("h2",null,(0,s.zw)(u.dateTest),1),(0,n._)("div",null,"Selected: "+(0,s.zw)(u.professional),1),(0,n._)("div",i,[(0,n._)("div",d,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>u.professional=e)},m,512),[[l.bM,u.professional]])])])]),(0,n._)("h1",null,(0,s.zw)(e.result),1),(0,n.Wm)(h,{outline:"success",size:"lg",block:"",onClick:t[3]||(t[3]=e=>this.$router.push("/received"))},{default:(0,n.w5)((()=>[(0,n.Uk)("Asiakkaan paneeli")])),_:1}),(0,n.Wm)(h,{outline:"danger",size:"lg",block:"",onClick:t[4]||(t[4]=e=>this.$router.push("/")),style:{"margin-bottom":"50px"}},{default:(0,n.w5)((()=>[(0,n.Uk)(" Poistu ")])),_:1})])),_:1})])}var h=a(6691),f=a(4313),k=a(5800),_={name:"recipient-form",components:{MDBBtn:f.$v,MDBContainer:f.L5,MDBInput:f.u2,VueDatePicker:h.Z},data(){return{recipientId:null,address:null,lat:null,lng:null,professional:"",date:null,dateTest:null,calendarTooltips:[]}},setup(){return{}},onMounted(){this.date.value="Thu Apr 20 2023 10:27:00 GMT+0300"},async mounted(){const e=window.localStorage.getItem("loggedAppUser");if(e){const t=JSON.parse(e);this.recipientId=t.id,console.log("User id in recipient: "+t.id)}const t={lat:50.064192,lng:-130.605469},a={north:t.lat+.1,south:t.lat-.1,east:t.lng+.1,west:t.lng-.1},n=document.getElementById("osoite"),s={bounds:a,componentRestrictions:{country:"est"},fields:["address_components","geometry","icon","name","formatted_address"],strictBounds:!1},l=new google.maps.places.Autocomplete(n,s);l.addListener("place_changed",(()=>{let e=l.getPlace();this.lat=e.geometry.location.lat(),this.lng=e.geometry.location.lng(),this.address=e.formatted_address,console.log(e)}))},methods:{backToDashboard(){},getDate(){console.log("selected date: "+this.date.getDate())},async addRecipient(){const e={address:this.address,latitude:this.lat,longitude:this.lng,professional:this.professional,month:this.date.getMonth(),day:this.date.getDate(),hours:this.date.getHours(),minutes:this.date.getMinutes()};await k.Z.addRecipient(this.recipientId,e)}}},w=a(89);const y=(0,w.Z)(_,[["render",g]]);var D=y}}]);
//# sourceMappingURL=484.3625ad1d.js.map