(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[93],{2451:function(e){e.exports={}},4482:function(e,t,o){"use strict";var l=o(6768);const a=({message:e})=>null===e?null:(0,l.bF)("div",{className:"error"},[e,(0,l.bF)("img",{className:"errorImg",alt:"error",src:o(1644)},null)]);t.A=a},5093:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return D}});o(4114);var l=o(6768),a=o(4232);const s={autocomplete:"off",style:{padding:"5px"}},r={style:{"margin-bottom":"20px"}},n={value:"slotProps"},i={key:0},d={key:1},u={style:{},class:"flex align-items-center"},p={style:{"text-align":"left"}},m={style:{"text-align":"left"}},c={style:{margin:"20px 0 20px 0","text-align":"left"}};function g(e,t,o,g,b,h){const y=(0,l.g2)("ErrorNotification"),k=(0,l.g2)("MDBInput"),v=(0,l.g2)("Dropdown"),f=(0,l.g2)("MDBRadio"),_=(0,l.g2)("MDBCheckbox"),w=(0,l.g2)("MDBBtn"),V=(0,l.g2)("MDBContainer");return(0,l.uX)(),(0,l.CE)("div",null,[t[13]||(t[13]=(0,l.Lk)("h2",{style:{"margin-top":"50px","margin-bottom":"50px"}},"-TMI panel-",-1)),(0,l.bF)(V,null,{default:(0,l.k6)((()=>[(0,l.bF)(y,{message:b.errorFormMessage},null,8,["message"]),(0,l.Lk)("form",s,[(0,l.bF)(k,{label:"Anna yrityksen nimi",modelValue:g.yritys,"onUpdate:modelValue":t[0]||(t[0]=e=>g.yritys=e),white:"",id:"yritys",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,l.bF)(k,{label:"Anna yrityksen y-tunnus",modelValue:g.ytunnus,"onUpdate:modelValue":t[1]||(t[1]=e=>g.ytunnus=e),white:"",id:"ytunnus",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,l.bF)(k,{label:"Anna osoitteesi",white:"",id:"osoite",size:"lg",wrapperClass:"mb-4"}),t[10]||(t[10]=(0,l.Lk)("p",{style:{"text-align":"left",color:"deepskyblue","font-size":"18px"}},"jos sädettä ei ole merkitty, se tarkoittaa, että tarjoat palvelua vain määritetyssä osoitteessa",-1)),(0,l.bF)(k,{wrapperClass:"mb-4",label:"Anna toiminta-alueen säde - km",white:"",modelValue:g.range,"onUpdate:modelValue":t[2]||(t[2]=e=>g.range=e),size:"lg",type:"number"},null,8,["modelValue"]),(0,l.Lk)("div",r,[(0,l.bF)(v,{modelValue:b.profession,"onUpdate:modelValue":t[3]||(t[3]=e=>b.profession=e),options:b.prodata,filter:"",optionLabel:"label",optionGroupLabel:"label",showClear:"",optionGroupChildren:"items",placeholder:"Valitse ammattilainen",class:"w-full md:w-100rem"},{optiongroup:(0,l.k6)((e=>[(0,l.Lk)("div",u,[(0,l.Lk)("div",null,(0,a.v_)(e.option.label),1)])])),default:(0,l.k6)((()=>[(0,l.Lk)("template",n,[e.slotProps.value?((0,l.uX)(),(0,l.CE)("div",i,[(0,l.Lk)("div",null,(0,a.v_)(e.slotProps.value.label),1)])):((0,l.uX)(),(0,l.CE)("span",d,(0,a.v_)(e.slotProps.placeholder),1))])])),_:1},8,["modelValue","options"])]),(0,l.Lk)("div",p,[(0,l.bF)(f,{white:"",label:"Tuntihinta",name:"aboutPrice",modelValue:g.about_price,"onUpdate:modelValue":t[4]||(t[4]=e=>g.about_price=e),value:"hour",wrapperClass:"mb-4"},null,8,["modelValue"])]),"hour"===g.about_price?((0,l.uX)(),(0,l.Wv)(k,{key:0,label:"Anna tuntihinta",modelValue:g.price,"onUpdate:modelValue":t[5]||(t[5]=e=>g.price=e),white:"",id:"hinta",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"])):(0,l.Q3)("",!0),(0,l.Lk)("div",m,[(0,l.bF)(f,{white:"",label:"Urakkahinta",name:"aboutPrice",modelValue:g.about_price,"onUpdate:modelValue":t[6]||(t[6]=e=>g.about_price=e),value:"piece",wrapperClass:"mb-4"},null,8,["modelValue"])]),(0,l.bF)(k,{white:"",label:"Anna yrityksen kotisivun osoite jos on",size:"lg",modelValue:g.pro_link,"onUpdate:modelValue":t[7]||(t[7]=e=>g.pro_link=e),wrapperClass:"mb-4"},null,8,["modelValue"]),(0,l.Lk)("div",c,[(0,l.bF)(_,{label:"Saatavilla 24/7",modelValue:g.isAvailable24_7,"onUpdate:modelValue":t[8]||(t[8]=e=>g.isAvailable24_7=e)},null,8,["modelValue"])])]),(0,l.bF)(w,{outline:"success",size:"lg",block:"",onClick:h.addProvider},{default:(0,l.k6)((()=>t[11]||(t[11]=[(0,l.eW)("Add provider profile")]))),_:1},8,["onClick"]),(0,l.bF)(w,{outline:"danger",size:"lg",block:"",onClick:t[9]||(t[9]=e=>this.$router.push("/")),style:{"margin-bottom":"50px"}},{default:(0,l.k6)((()=>t[12]||(t[12]=[(0,l.eW)(" Poistu ")]))),_:1})])),_:1})])}var b=o(144),h=o(3076),y=o(2436),k=o(4482),v=o(5846),f=o(4373);const _=o(6425),w="/api/map",V=async()=>{const e=await _.get(w);return e.data};var A={getLocation:V},C=o(1769);const F=o(2451),L=o(2451);var x={name:"provider-form",data(){return{result:"",errorFormMessage:null,latitude:0,longitude:0,address:"",profession:null,userId:"",prodata:h.A}},setup(){const e=(0,b.KR)(""),t=(0,b.KR)(""),o=(0,b.KR)(""),l=(0,b.KR)(null),a=(0,b.KR)(null),s=(0,b.KR)("hour"),r=(0,b.KR)(null),n=(0,b.KR)(!1);return{yritys:e,ytunnus:t,date:o,price:l,range:a,about_price:s,pro_link:r,isAvailable24_7:n}},components:{MDBContainer:v.Dj,MDBBtn:v.al,MDBInput:v.gk,MDBCheckbox:v.lR,MDBRadio:v.Zq,Dropdown:y.A,errorNotification:k.A},mounted(){const e=window.localStorage.getItem("loggedAppUser");if(e){const t=JSON.parse(e);this.userId=t.id,console.log("User id in Provider: "+t.id)}console.log("Google key is: "+L.google);const t={lat:50.064192,lng:-130.605469},o={north:t.lat+.1,south:t.lat-.1,east:t.lng+.1,west:t.lng-.1},l=document.getElementById("osoite"),a={bounds:o,componentRestrictions:{country:"fi"},fields:["address_components","geometry","icon","name","formatted_address"],strictBounds:!1},s=new google.maps.places.Autocomplete(l,a);s.addListener("place_changed",(()=>{let e=s.getPlace();this.latitude=e.geometry.location.lat(),this.longitude=e.geometry.location.lng(),console.log(e),console.log("Latitude: "+e.geometry.location.lat()),console.log("Full address: "+e.formatted_address),this.address=e.formatted_address}))},methods:{canselSession(){this.$emit("cansel:provider","Test")},getAddress(){f.A.get("https://maps.googleapis.com/maps/api/geocode/json?address=01620+Raikukuja,+Vantaa&key="+F.googleMap).then((e=>{e.data.error_message?(this.error=e.data.error_message,console.log(e.data.error_message)):(this.address=e.data.results[0].formatted_address,console.log(e.data.results[0].formatted_address),console.log(e.data.results[0].address_components[0].long_name),this.result=e.data.results[0].formatted_address)})).catch((e=>{this.error=e.message,this.spinner=!1,console.log(e.message)}))},async addProvider(){const e={yritys:this.yritys,ytunnus:this.ytunnus,address:this.address,latitude:this.latitude,longitude:this.longitude,profession:this.profession.label,priceByHour:"hour"===this.about_price?this.price:null,range:null===this.range?0:this.range,proLink:this.pro_link,isAvailable24_7:this.isAvailable24_7},t=await C.A.addProvider(this.userId,e);console.log("Added provider::: "+t),t?(this.$router.push("/provider-panel"),this.$emit("show-created-provider",t)):(this.errorFormMessage="Tarkista kentat ja yritä uuddelleen!",setTimeout((()=>{this.errorFormMessage=null}),2e3))},testMonth(){},async getTest(){const e=await A.getLocation();console.log("result "+e)}}},M=o(1241);const B=(0,M.A)(x,[["render",g]]);var D=B},1644:function(e,t,o){"use strict";e.exports=o.p+"img/error.9510853e.png"}}]);
//# sourceMappingURL=93.d4275a13.js.map