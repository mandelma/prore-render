"use strict";(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[119],{2119:function(e,t,s){s.r(t),s.d(t,{default:function(){return G}});var l=s(6768),o=s(4232);const a={style:{display:"flex","justify-content":"space-between"}},n={style:{"font-size":"17px"}},r={style:{color:"limegreen"}},i={style:{display:"flex","justify-content":"space-between"}},d={style:{"font-size":"17px"}},u={style:{color:"limegreen"}},g={style:{display:"flex","justify-content":"space-between"}},c={style:{"font-size":"17px"}},k={style:{color:"limegreen"}},f={style:{display:"flex","justify-content":"space-between"}},p={style:{"font-size":"17px"}},h={style:{color:"limegreen"}},m={class:"ms-2 me-auto"},b={class:"fw-bold"};function y(e,t,s,y,D,_){const F=(0,l.g2)("MDBIcon"),L=(0,l.g2)("MDBCardTitle"),M=(0,l.g2)("MDBCardText"),v=(0,l.g2)("MDBCardBody"),w=(0,l.g2)("MDBCard"),B=(0,l.g2)("MDBCol"),T=(0,l.g2)("MDBRow"),x=(0,l.g2)("MDBBtn"),C=(0,l.g2)("MDBInput"),O=(0,l.g2)("MDBBadge"),A=(0,l.g2)("MDBListGroupItem"),G=(0,l.g2)("MDBListGroup"),j=(0,l.g2)("MDBContainer");return(0,l.uX)(),(0,l.Wv)(j,{style:{"padding-top":"33px"}},{default:(0,l.k6)((()=>[(0,l.bF)(T,null,{default:(0,l.k6)((()=>[(0,l.bF)(B,{lg:"4"},{default:(0,l.k6)((()=>[(0,l.bF)(w,{style:{"text-align":"left"},text:"white",bg:"dark",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(L,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",a,[t[2]||(t[2]=(0,l.Lk)("p",{style:{color:"#a09d9d"}},"Sooritatud tehingud",-1)),(0,l.bF)(F,{size:"2x"},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.Lk)("i",{class:"far fa-handshake"},null,-1)]))),_:1})])])),_:1}),(0,l.bF)(M,null,{default:(0,l.k6)((()=>[(0,l.Lk)("h3",null,(0,o.v_)(D.orders.length),1)])),_:1}),(0,l.Lk)("p",n,[(0,l.Lk)("span",r,(0,o.v_)(D.doneOrdersToday),1),t[3]||(t[3]=(0,l.eW)("  ")),t[4]||(t[4]=(0,l.Lk)("span",{style:{color:"#a09d9d"}}," täna ",-1))])])),_:1})])),_:1})])),_:1}),(0,l.bF)(B,{lg:"4"},{default:(0,l.k6)((()=>[(0,l.bF)(w,{style:{"text-align":"left"},text:"white",bg:"dark",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(L,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",i,[t[6]||(t[6]=(0,l.Lk)("p",{style:{color:"#a09d9d"}},"Teenuse pakkujad",-1)),(0,l.bF)(F,{size:"2x"},{default:(0,l.k6)((()=>t[5]||(t[5]=[(0,l.Lk)("i",{class:"fas fa-user-secret"},null,-1)]))),_:1})])])),_:1}),(0,l.bF)(M,null,{default:(0,l.k6)((()=>[(0,l.Lk)("h3",null,(0,o.v_)(D.dataList.length),1)])),_:1}),(0,l.Lk)("p",d,[(0,l.Lk)("span",u,(0,o.v_)(D.providersToday),1),t[7]||(t[7]=(0,l.eW)()),t[8]||(t[8]=(0,l.Lk)("span",{style:{color:"#a09d9d"}},"täna",-1))])])),_:1})])),_:1})])),_:1}),(0,l.bF)(B,{lg:"4"},{default:(0,l.k6)((()=>[(0,l.bF)(w,{style:{"text-align":"left"},text:"white",bg:"dark",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(L,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",g,[t[10]||(t[10]=(0,l.Lk)("p",{style:{color:"#a09d9d"}},"Aktiivsed tellimused",-1)),(0,l.bF)(F,{size:"2x"},{default:(0,l.k6)((()=>t[9]||(t[9]=[(0,l.Lk)("i",{class:"far fa-lightbulb"},null,-1)]))),_:1})])])),_:1}),(0,l.bF)(M,null,{default:(0,l.k6)((()=>[(0,l.Lk)("h3",null,(0,o.v_)(D.bookings.length),1)])),_:1}),(0,l.Lk)("p",c,[(0,l.Lk)("span",k,(0,o.v_)(D.bookingsDoneToday),1),t[11]||(t[11]=(0,l.eW)("  ")),t[12]||(t[12]=(0,l.Lk)("span",{style:{color:"#a09d9d"}},"täna",-1))])])),_:1})])),_:1})])),_:1}),(0,l.bF)(B,{lg:"4"},{default:(0,l.k6)((()=>[(0,l.bF)(w,{style:{"text-align":"left"},text:"white",bg:"dark",class:"mb-3"},{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(L,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",f,[t[14]||(t[14]=(0,l.Lk)("p",{style:{color:"#a09d9d"}},"Kasutajad",-1)),(0,l.bF)(F,{size:"2x"},{default:(0,l.k6)((()=>t[13]||(t[13]=[(0,l.Lk)("i",{class:"fas fa-user-check"},null,-1)]))),_:1})])])),_:1}),(0,l.bF)(M,null,{default:(0,l.k6)((()=>[(0,l.Lk)("h3",null,(0,o.v_)(D.users.length),1)])),_:1}),(0,l.Lk)("p",p,[(0,l.Lk)("span",h,(0,o.v_)(D.usersToday),1),t[15]||(t[15]=(0,l.eW)("  ")),t[16]||(t[16]=(0,l.Lk)("span",{style:{color:"#a09d9d"}},"täna",-1))])])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.bF)(T,null,{default:(0,l.k6)((()=>[(0,l.bF)(B,null,{default:(0,l.k6)((()=>[(0,l.bF)(C,{white:"",modelValue:y.search1,"onUpdate:modelValue":t[0]||(t[0]=e=>y.search1=e),label:"Otsi sooritatud tehingud ameti järgi...",inputGroup:"",formOutline:!0,wrapperClass:"mb-3","aria-describedby":"button-addon2"},{default:(0,l.k6)((()=>[(0,l.bF)(x,{color:"success",onClick:y.showAlert},{default:(0,l.k6)((()=>[(0,l.bF)(F,{icon:"search"})])),_:1},8,["onClick"])])),_:1},8,["modelValue"]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(D.completedOrders,((e,s)=>((0,l.uX)(),(0,l.Wv)(G,{key:s,style:{"min-width":"22rem"}},{default:(0,l.k6)((()=>[(0,l.bF)(A,{class:"d-flex justify-content-between align-items-start",color:"dark"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",m,[(0,l.Lk)("div",b,(0,o.v_)(s+1+". "+e.profession),1),t[17]||(t[17]=(0,l.Lk)("p",{style:{color:"#a09d9d"}},null,-1))]),(0,l.bF)(O,{class:"badge-primary",pill:""},{default:(0,l.k6)((()=>[(0,l.eW)((0,o.v_)(e.count),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})}s(8111),s(2489),s(7588),s(1701),s(3579);var D=s(5846),_=s(144),F=s(1769),L=s(407),M=s(683),v=s(4915);const w=s(6425),B=`${v.A}/admin`,T=async()=>{const e=await w.get(B);return e.data};var x={getCompleted:T},C={name:"AdminPanel",components:{MDBContainer:D.Dj,MDBRow:D.gU,MDBCol:D.m6,MDBCard:D.kv,MDBCardBody:D.ee,MDBCardTitle:D.gw,MDBCardText:D.tV,MDBIcon:D.$u,MDBListGroup:D.lC,MDBListGroupItem:D._N,MDBBadge:D.nf,MDBInput:D.gk,MDBBtn:D.al},setup(){const e=(0,_.KR)(""),t=()=>alert(e.value);return{search1:e,showAlert:t}},data(){return{isGetProviders:!1,users:[],usersToday:0,newUsersToday:0,orders:[],completedOrders:[],doneOrdersToday:0,bookings:[],bookingsDoneToday:0,isGetmore:"",dataList:[],providersToday:0,more:""}},mounted(){this.getUsers(),this.getProviders(),this.getBookings(),this.getCompletedOrders()},methods:{async getUsers(){this.users=await M.A.getAll(),console.log("Users count "+this.users.length);let e=0;this.users.forEach((t=>{const s=new Date;let l=new Date(t.created);l.getFullYear()===s.getFullYear()&&l.getMonth()===s.getMonth()&&l.getDate()===s.getDate()&&(e+=1,this.usersToday=e)}))},async getProviders(){const e=await F.A.getProviders();this.dataList=e;let t=0;e.forEach((e=>{const s=new Date;let l=new Date(e.created);l.getFullYear()===s.getFullYear()&&l.getMonth()===s.getMonth()&&l.getDate()===s.getDate()&&(t+=1,this.providersToday=t)}))},async getBookings(){this.bookings=await L.A.getRecipients(),console.log("Bookings length = "+this.bookings.length);let e=0;this.bookings.forEach((t=>{const s=new Date(t.started),l=new Date;s.getFullYear()===l.getFullYear()&&s.getMonth()===l.getMonth()&&s.getDate()===l.getDate()&&(e+=1,this.bookingsDoneToday=e)}))},async getCompletedOrders(){this.orders=await x.getCompleted();let e=0;this.orders.forEach((t=>{this.completedOrders.some((e=>e.profession===t.completed.profession))||(this.completedOrders=[...this.completedOrders,{profession:t.completed.profession,date:t.completed.date,count:this.orders.filter((e=>e.completed.profession===t.completed.profession)).length}]);const s=new Date(t.completed.date),l=new Date;console.log("Order date: "+s),s.getFullYear()===l.getFullYear()&&s.getMonth()===l.getMonth()&&s.getDate()===l.getDate()&&(e+=1,this.doneOrdersToday=e)}))},async printProviders(){const e=await F.A.getProviders();this.dataList=e,this.isGetProviders=!0,this.isGetMore=!1},getMore(){this.more="more info...",this.isGetMore=!0,this.isGetProviders=!1},filter(){console.log("Filtering...");const e=[{item:"Yks",isTrue:!1},{item:"Kaks",isTrue:!0},{item:"Kolm",isTrue:!1},{item:"Neli",isTrue:!0},{item:"Viis",isTrue:!0}];e.map((e=>console.log(e.item)));let t=e.filter((e=>!e.isTrue));t.map((e=>console.log("selected false: "+e.item)));let s=e.filter((e=>e.isTrue));s.map((e=>console.log("selected: "+e.item)));let l=s.concat(t);l.map((e=>console.log("Final items: "+e.item)))}}},O=s(1241);const A=(0,O.A)(C,[["render",y]]);var G=A}}]);
//# sourceMappingURL=119.2f08f606.js.map