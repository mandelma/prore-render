(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[324],{4729:function(e){e.exports={}},5118:function(e,t,o){"use strict";var s=o(3396);const l=({message:e})=>null===e?null:(0,s.Wm)("div",{className:"error"},[e,(0,s.Wm)("img",{className:"errorImg",alt:"error",src:o(5551)},null)]);t.Z=l},8324:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return z}});o(7658);var s=o(3396),l=o(7139);const a=(0,s._)("h2",{style:{"margin-top":"50px","margin-bottom":"50px"}},"-TMI panel-",-1),r={autocomplete:"off",style:{"background-color":"#1f3d40",padding:"5px"}},n=(0,s._)("p",{style:{"text-align":"left",color:"deepskyblue","font-size":"18px"}},"jos sädettä ei ole merkitty, se tarkoittaa, että tarjoat palvelua vain määritetyssä osoitteessa",-1),i={style:{"margin-bottom":"20px"}},d={value:"slotProps"},u={key:0},p={key:1},m={style:{},class:"flex align-items-center"},c={style:{margin:"20px 0 20px 0"}};function g(e,t,o,g,h,y){const f=(0,s.up)("ErrorNotification"),b=(0,s.up)("MDBInput"),w=(0,s.up)("Dropdown"),v=(0,s.up)("MDBCheckbox"),_=(0,s.up)("MDBBtn"),k=(0,s.up)("MDBContainer");return(0,s.wg)(),(0,s.iD)("div",null,[a,(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[(0,s.Wm)(f,{message:h.errorFormMessage},null,8,["message"]),(0,s._)("form",r,[(0,s.Wm)(b,{label:"Anna yrityksen nimi",modelValue:g.yritys,"onUpdate:modelValue":t[0]||(t[0]=e=>g.yritys=e),white:"",id:"yritys",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,s.Wm)(b,{label:"Anna yrityksen y-tunnus",modelValue:g.ytunnus,"onUpdate:modelValue":t[1]||(t[1]=e=>g.ytunnus=e),white:"",id:"ytunnus",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,s.Wm)(b,{label:"Anna osoitteesi",white:"",id:"osoite",size:"lg",wrapperClass:"mb-4"}),n,(0,s.Wm)(b,{wrapperClass:"mb-4",label:"Anna toiminta-alueen säde - km",white:"",modelValue:g.range,"onUpdate:modelValue":t[2]||(t[2]=e=>g.range=e),size:"lg",type:"number"},null,8,["modelValue"]),(0,s._)("div",i,[(0,s.Wm)(w,{modelValue:h.profession,"onUpdate:modelValue":t[3]||(t[3]=e=>h.profession=e),options:h.prodata,filter:"",optionLabel:"label",optionGroupLabel:"label",showClear:"",optionGroupChildren:"items",placeholder:"Valitse ammattilainen",class:"w-full md:w-100rem"},{optiongroup:(0,s.w5)((e=>[(0,s._)("div",m,[(0,s._)("div",null,(0,l.zw)(e.option.label),1)])])),default:(0,s.w5)((()=>[(0,s._)("template",d,[e.slotProps.value?((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",null,(0,l.zw)(e.slotProps.value.label),1)])):((0,s.wg)(),(0,s.iD)("span",p,(0,l.zw)(e.slotProps.placeholder),1))])])),_:1},8,["modelValue","options"])]),(0,s.Wm)(b,{label:"Anna tuntihinta",modelValue:g.price,"onUpdate:modelValue":t[4]||(t[4]=e=>g.price=e),white:"",id:"hinta",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,s._)("div",c,[(0,s.Wm)(v,{label:"Saatavilla 24/7",white:"",modelValue:g.isAvailable24_7,"onUpdate:modelValue":t[5]||(t[5]=e=>g.isAvailable24_7=e)},null,8,["modelValue"])])]),(0,s.Wm)(_,{outline:"success",size:"lg",block:"",onClick:y.addProvider},{default:(0,s.w5)((()=>[(0,s.Uk)("Add provider profile")])),_:1},8,["onClick"]),(0,s.Wm)(_,{outline:"danger",size:"lg",block:"",onClick:t[6]||(t[6]=e=>this.$router.push("/")),style:{"margin-bottom":"50px"}},{default:(0,s.w5)((()=>[(0,s.Uk)(" Poistu ")])),_:1})])),_:1})])}var h=o(4870),y=o(3998),f=o(9673),b=o(5118),w=o(4313),v=o(4161);const _=o(7218),k="/api/map",V=async()=>{const e=await _.get(k);return e.data};var C={getLocation:V},A=o(9398);const M=o(4729),x=o(4729);var B={name:"provider-form",data(){return{result:"",errorFormMessage:null,latitude:0,longitude:0,address:"",profession:null,userId:"",prodata:y.Z}},setup(){const e=(0,h.iH)(""),t=(0,h.iH)(""),o=(0,h.iH)(""),s=(0,h.iH)(null),l=(0,h.iH)(null),a=(0,h.iH)(!1);return{yritys:e,ytunnus:t,date:o,price:s,range:l,isAvailable24_7:a}},components:{MDBContainer:w.L5,MDBBtn:w.$v,MDBInput:w.u2,MDBCheckbox:w.IH,Dropdown:f.Z,errorNotification:b.Z},mounted(){const e=window.localStorage.getItem("loggedAppUser");if(e){const t=JSON.parse(e);this.userId=t.id,console.log("User id in Provider: "+t.id)}console.log("Google key is: "+x.google);const t={lat:50.064192,lng:-130.605469},o={north:t.lat+.1,south:t.lat-.1,east:t.lng+.1,west:t.lng-.1},s=document.getElementById("osoite"),l={bounds:o,componentRestrictions:{country:"fi"},fields:["address_components","geometry","icon","name","formatted_address"],strictBounds:!1},a=new google.maps.places.Autocomplete(s,l);a.addListener("place_changed",(()=>{let e=a.getPlace();this.latitude=e.geometry.location.lat(),this.longitude=e.geometry.location.lng(),console.log(e),console.log("Latitude: "+e.geometry.location.lat()),console.log("Full address: "+e.formatted_address),this.address=e.formatted_address}))},methods:{canselSession(){this.$emit("cansel:provider","Test")},getAddress(){v.Z.get("https://maps.googleapis.com/maps/api/geocode/json?address=01620+Raikukuja,+Vantaa&key="+M.googleMap).then((e=>{e.data.error_message?(this.error=e.data.error_message,console.log(e.data.error_message)):(this.address=e.data.results[0].formatted_address,console.log(e.data.results[0].formatted_address),console.log(e.data.results[0].address_components[0].long_name),this.result=e.data.results[0].formatted_address)})).catch((e=>{this.error=e.message,this.spinner=!1,console.log(e.message)}))},async addProvider(){const e={yritys:this.yritys,ytunnus:this.ytunnus,address:this.address,latitude:this.latitude,longitude:this.longitude,profession:this.profession.label,priceByHour:this.price,range:null===this.range?0:this.range,isAvailable24_7:this.isAvailable24_7},t=await A.Z.addProvider(this.userId,e);console.log("Added provider::: "+t),t?this.$router.push("/provider-panel"):(this.errorFormMessage="Tarkista kentat ja yritä uuddelleen!",setTimeout((()=>{this.errorFormMessage=null}),2e3))},testMonth(){},async getTest(){const e=await C.getLocation();console.log("result "+e)}}},D=o(89);const W=(0,D.Z)(B,[["render",g]]);var z=W},5551:function(e,t,o){"use strict";e.exports=o.p+"img/error.9510853e.png"}}]);
//# sourceMappingURL=324.a79b24f4.js.map