{"version":3,"file":"js/959.a25c0887.js","mappings":"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","sources":["webpack://prore-mongo/./src/pages/RecipientForm.vue","webpack://prore-mongo/./src/service/recipients.js","webpack://prore-mongo/./src/pages/RecipientForm.vue?59c8"],"sourcesContent":["<template>\r\n\r\n  <div>\r\n    <h2 style=\"margin-top: 50px;\">hei, haluaisin löytää ammattilaisia!</h2>\r\n    <MDBContainer>\r\n      <form>\r\n        <MDBInput\r\n            label=\"Anna osoitteesi\"\r\n            v-model=\"address\"\r\n            id=\"osoite\"\r\n            size=\"lg\" wrapperClass=\"mb-4\"/>\r\n\r\n        <VueDatePicker placeholder=\"Missä aikavälillä haluat ammattilaista?\" style=\"margin-bottom: 20px;\" v-model=\"date\"></VueDatePicker>\r\n\r\n        <div>Selected: {{ professional }}</div>\r\n\r\n        <div class=\"ui form\">\r\n          <div class=\"field\">\r\n            <select v-model=\"professional\">\r\n              <option disabled value=\"\">Valitse ammattilainen</option>\r\n              <option>Putkimies</option>\r\n              <option>Sähkömies</option>\r\n              <option>Siivooja</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </form>\r\n\r\n      <h1>{{result}}</h1>\r\n      <MDBBtn outline=\"success\" size=\"lg\" block @click=\"this.$router.push('/received')\">Kinnita andmed</MDBBtn>\r\n      <MDBBtn outline=\"success\" size=\"lg\" block @click=\"addRecipient\">Add</MDBBtn>\r\n      <MDBBtn outline=\"danger\" size=\"lg\" block @click=\"this.$router.push('/')\" style=\"margin-bottom: 50px;\"> Cansel </MDBBtn>\r\n\r\n    </MDBContainer>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n/*global google*/\r\nimport VueDatePicker from '@vuepic/vue-datepicker';\r\nimport {\r\n  MDBBtn,\r\n  MDBContainer,\r\n  MDBInput\r\n} from \"mdb-vue-ui-kit\";\r\nimport recipientService from '../service/recipients'\r\nexport default {\r\n  name: \"recipient-form\",\r\n  components: {\r\n    MDBBtn,\r\n    MDBContainer,\r\n    MDBInput,\r\n    VueDatePicker\r\n  },\r\n  data () {\r\n    return {\r\n      recipientId: null,\r\n      address: null,\r\n      lat: 0,\r\n      lng: 0,\r\n      professional: \"\",\r\n      date: null\r\n    }\r\n  },\r\n  mounted () {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedAppUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      this.recipientId = user.id\r\n      //console.log(\"User token: \" + this.loggedUser.token)\r\n      console.log(\"User id in recipient: \" + user.id)\r\n    }\r\n\r\n    const center = { lat: 50.064192, lng: -130.605469 };\r\n    // Create a bounding box with sides ~10km away from the center point\r\n    const defaultBounds = {\r\n      north: center.lat + 0.1,\r\n      south: center.lat - 0.1,\r\n      east: center.lng + 0.1,\r\n      west: center.lng - 0.1,\r\n    };\r\n    const input = document.getElementById(\"osoite\");\r\n    const options = {\r\n      bounds: defaultBounds,\r\n      componentRestrictions: { country: \"fi\" },\r\n      fields: [\"address_components\", \"geometry\", \"icon\", \"name\", \"formatted_address\"],\r\n      strictBounds: false,\r\n      //types: [\"establishment\"],\r\n    };\r\n    const autocomplete = new google.maps.places.Autocomplete(input, options);\r\n\r\n    autocomplete.addListener(\"place_changed\", () => {\r\n      let place = autocomplete.getPlace()\r\n      this.lat = place.geometry.location.lng()\r\n      this.lng = place.geometry.location.lng()\r\n\r\n      this.address = place.formatted_address\r\n      console.log(place)\r\n    })\r\n  },\r\n  methods: {\r\n    backToDashboard () {\r\n\r\n    },\r\n    async addRecipient () {\r\n      const recipient = {\r\n        address: this.address,\r\n        latitude: this.lat,\r\n        longitude: this.lng,\r\n        professional: this.professional,\r\n        month: this.date.getMonth(),\r\n        day: this.date.getDate(),\r\n        hours: this.date.getHours(),\r\n        minutes: this.date.getMinutes()\r\n      }\r\n\r\n      await recipientService.addRecipient(this.recipientId, recipient)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","const axios = require('axios');\r\n\r\nconst baseUrl = '/api/recipients';\r\n\r\nconst getRecipients = async () => {\r\n    const results = await axios.get(baseUrl);\r\n    return results.data;\r\n}\r\n\r\nconst addRecipient = async (id, newRecipient) => {\r\n    const recipient = await axios.post(`${baseUrl}/${id}`, newRecipient);\r\n    return recipient.data;\r\n}\r\n\r\nexport default { getRecipients, addRecipient }","import { render } from \"./RecipientForm.vue?vue&type=template&id=538db27c\"\nimport script from \"./RecipientForm.vue?vue&type=script&lang=js\"\nexport * from \"./RecipientForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\majaa\\\\WebstormProjects\\\\prore-mongo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","style","class","disabled","value","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createElementBlock","_hoisted_1","_createVNode","_component_MDBContainer","_component_MDBInput","label","$data","address","$event","id","size","wrapperClass","_component_VueDatePicker","placeholder","date","_toDisplayString","professional","_hoisted_2","_hoisted_3","_ctx","result","_component_MDBBtn","outline","block","onClick","_cache","$router","push","$options","addRecipient","axios","require","baseUrl","getRecipients","async","results","get","data","newRecipient","recipient","post","name","components","MDBBtn","MDBContainer","MDBInput","VueDatePicker","recipientId","lat","lng","mounted","loggedUserJSON","window","localStorage","getItem","user","JSON","parse","this","console","log","center","defaultBounds","north","south","east","west","input","document","getElementById","options","bounds","componentRestrictions","country","fields","strictBounds","autocomplete","google","maps","places","Autocomplete","addListener","place","getPlace","geometry","location","formatted_address","methods","backToDashboard","latitude","longitude","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","recipientService","__exports__","render"],"sourceRoot":""}