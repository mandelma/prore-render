(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[843],{1644:function(e,t,l){"use strict";e.exports=l.p+"img/error.9510853e.png"},2451:function(e){e.exports={}},4482:function(e,t,l){"use strict";var o=l(6768);const a=({message:e})=>null===e?null:(0,o.bF)("div",{className:"error"},[e,(0,o.bF)("img",{className:"errorImg",alt:"error",src:l(1644)},null)]);t.A=a},4843:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return I}});l(4114);var o=l(6768),a=l(4232);const s={autocomplete:"off",class:"pro-form"},r={style:{"margin-bottom":"20px"}},n={value:"slotProps"},i={key:0},u={key:1},d={style:{},class:"flex align-items-center"},p={style:{"text-align":"left"}},c={style:{"text-align":"left"}},m={class:"message-counter"},g={style:{margin:"20px 0 20px 0","text-align":"left"}};function v(e,t,l,v,h,b){const y=(0,o.g2)("ErrorNotification"),k=(0,o.g2)("MDBInput"),f=(0,o.g2)("Dropdown"),_=(0,o.g2)("MDBRadio"),V=(0,o.g2)("MDBTextarea"),w=(0,o.g2)("MDBCheckbox"),A=(0,o.g2)("MDBBtn"),C=(0,o.g2)("MDBContainer");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(C,null,{default:(0,o.k6)((()=>[(0,o.bF)(y,{message:h.errorFormMessage},null,8,["message"]),(0,o.Lk)("form",s,[(0,o.bF)(k,{label:"Anna yrityksen nimi",modelValue:v.yritys,"onUpdate:modelValue":t[0]||(t[0]=e=>v.yritys=e),white:"",id:"yritys",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,o.bF)(k,{label:"Anna yrityksen y-tunnus",modelValue:v.ytunnus,"onUpdate:modelValue":t[1]||(t[1]=e=>v.ytunnus=e),white:"",id:"ytunnus",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,o.bF)(k,{label:"Anna osoitteesi",white:"",id:"osoite",size:"lg",wrapperClass:"mb-4"}),t[13]||(t[13]=(0,o.Lk)("p",{style:{"text-align":"left",color:"deepskyblue","font-size":"18px"}},"jos sädettä ei ole merkitty, se tarkoittaa, että tarjoat palvelua vain määritetyssä osoitteessa",-1)),(0,o.bF)(k,{type:"text",wrapperClass:"mb-4",onInput:v.filterInput,value:v.inputValue,label:"Anna toiminta-alueen säde - km",white:"",modelValue:v.range,"onUpdate:modelValue":t[2]||(t[2]=e=>v.range=e),size:"lg"},null,8,["onInput","value","modelValue"]),(0,o.Lk)("div",r,[(0,o.bF)(f,{modelValue:h.profession,"onUpdate:modelValue":t[3]||(t[3]=e=>h.profession=e),options:h.prodata,filter:"",optionLabel:"label",optionGroupLabel:"label",showClear:"",optionGroupChildren:"items",placeholder:"Valitse ammattilainen",class:"w-full md:w-100rem"},{optiongroup:(0,o.k6)((e=>[(0,o.Lk)("div",d,[(0,o.Lk)("div",null,(0,a.v_)(e.option.label),1)])])),default:(0,o.k6)((()=>[(0,o.Lk)("template",n,[e.slotProps.value?((0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",null,(0,a.v_)(e.slotProps.value.label),1)])):((0,o.uX)(),(0,o.CE)("span",u,(0,a.v_)(e.slotProps.placeholder),1))])])),_:1},8,["modelValue","options"])]),(0,o.Lk)("div",p,[(0,o.bF)(_,{white:"",label:"Tuntihinta",name:"aboutPrice",modelValue:v.about_price,"onUpdate:modelValue":t[4]||(t[4]=e=>v.about_price=e),value:"hour",wrapperClass:"mb-4"},null,8,["modelValue"])]),"hour"===v.about_price?((0,o.uX)(),(0,o.Wv)(k,{key:0,label:"Anna tuntihinta",type:"text",onInput:v.filterInput,value:v.inputValue,white:"",modelValue:v.price,"onUpdate:modelValue":t[5]||(t[5]=e=>v.price=e),size:"lg",wrapperClass:"mb-4"},null,8,["onInput","value","modelValue"])):(0,o.Q3)("",!0),(0,o.Lk)("div",c,[(0,o.bF)(_,{white:"",label:"Urakkahinta",name:"aboutPrice",modelValue:v.about_price,"onUpdate:modelValue":t[6]||(t[6]=e=>v.about_price=e),value:"piece",wrapperClass:"mb-4"},null,8,["modelValue"])]),(0,o.bF)(V,{white:"",maxlength:"100",modelValue:h.proDescription,"onUpdate:modelValue":t[7]||(t[7]=e=>h.proDescription=e),label:"Kirjuta siia midagi endast ja oma tegevusest...",wrapperClass:"mb-4",style:{width:"100%",color:"#ddd"}},null,8,["modelValue"]),(0,o.Lk)("span",m,(0,a.v_)(h.proDescription.length)+" / 100",1),(0,o.bF)(k,{white:"",label:"Anna yrityksen kotisivun osoite jos on",size:"lg",modelValue:v.pro_link,"onUpdate:modelValue":t[8]||(t[8]=e=>v.pro_link=e),wrapperClass:"mb-4"},null,8,["modelValue"]),(0,o.Lk)("div",g,[(0,o.bF)(w,{label:"Saatavilla 24/7",modelValue:v.isAvailable24_7,"onUpdate:modelValue":t[9]||(t[9]=e=>v.isAvailable24_7=e)},null,8,["modelValue"])]),(0,o.bF)(A,{outline:"success",size:"lg",block:"",onClick:b.addProvider},{default:(0,o.k6)((()=>t[11]||(t[11]=[(0,o.eW)("Add provider profile")]))),_:1},8,["onClick"]),(0,o.bF)(A,{outline:"danger",size:"lg",block:"",onClick:t[10]||(t[10]=e=>this.$router.push("/"))},{default:(0,o.k6)((()=>t[12]||(t[12]=[(0,o.eW)(" Poistu ")]))),_:1})])])),_:1})])}var h=l(144),b=l(3076),y=l(2436),k=l(4482),f=l(5846),_=l(4373);const V=l(6425),w="/api/map",A=async()=>{const e=await V.get(w);return e.data};var C={getLocation:A},F=l(1769);const D=l(2451),x=l(2451);var L={name:"provider-form",data(){return{user:null,result:"",errorFormMessage:null,latitude:0,longitude:0,address:"",profession:null,userId:"",proDescription:"",prodata:b.A}},setup(){const e=(0,h.KR)(""),t=(0,h.KR)(""),l=(0,h.KR)(""),o=(0,h.KR)(""),a=(0,h.KR)(null),s=(0,h.KR)("hour"),r=(0,h.KR)(null);let n=(0,h.KR)("");const i=(0,h.KR)((e=>{const t=e.target.value;let l=t.replace(/[^0-9.]/g,"");const o=l.split(".");o.length>2&&(l=o[0]+"."+o.slice(1).join("")),l.startsWith(".")&&(l="0"+l),e.target.value=l,n.value=l,console.log("vvvvvvvvvvvvvvvvvvvvvvvvvvvv "+n.value)})),u=(0,h.KR)(!1);return{yritys:e,ytunnus:t,date:l,price:o,range:a,about_price:s,pro_link:r,inputValue:n,filterInput:i,isAvailable24_7:u}},components:{MDBContainer:f.Dj,MDBBtn:f.al,MDBInput:f.gk,MDBCheckbox:f.lR,MDBRadio:f.Zq,MDBTextarea:f.QP,Dropdown:y.A,errorNotification:k.A},mounted(){const e=window.localStorage.getItem("loggedAppUser");if(e){const t=JSON.parse(e);this.user=t,this.userId=t.id,console.log("User id in Provider: "+t.id)}console.log("Google key is: "+x.google);const t={lat:50.064192,lng:-130.605469},l={north:t.lat+.1,south:t.lat-.1,east:t.lng+.1,west:t.lng-.1},o=document.getElementById("osoite"),a={bounds:l,componentRestrictions:{country:"fi"},fields:["address_components","geometry","icon","name","formatted_address"],strictBounds:!1},s=new google.maps.places.Autocomplete(o,a);s.addListener("place_changed",(()=>{let e=s.getPlace();this.latitude=e.geometry.location.lat(),this.longitude=e.geometry.location.lng(),console.log(e),console.log("Latitude: "+e.geometry.location.lat()),console.log("Full address: "+e.formatted_address),this.address=e.formatted_address}))},methods:{canselSession(){this.$emit("cansel:provider","Test")},getAddress(){_.A.get("https://maps.googleapis.com/maps/api/geocode/json?address=01620+Raikukuja,+Vantaa&key="+D.googleMap).then((e=>{e.data.error_message?(this.error=e.data.error_message,console.log(e.data.error_message)):(this.address=e.data.results[0].formatted_address,console.log(e.data.results[0].formatted_address),console.log(e.data.results[0].address_components[0].long_name),this.result=e.data.results[0].formatted_address)})).catch((e=>{this.error=e.message,this.spinner=!1,console.log(e.message)}))},async addProvider(){const e={yritys:this.yritys,ytunnus:this.ytunnus,description:this.proDescription,address:this.address,latitude:this.latitude,longitude:this.longitude,profession:this.profession.label,priceByHour:"hour"===this.about_price?this.price:null,range:null===this.range?0:this.range,proLink:this.pro_link,isAvailable24_7:this.isAvailable24_7},t=await F.A.addProvider(this.userId,e);console.log("Added provider::: "+t),t?(t.user={id:this.user.id,username:this.user.username},this.$router.push("/provider-panel"),this.$emit("show-created-provider",t)):(this.errorFormMessage="Tarkista kentat ja yritä uuddelleen!",setTimeout((()=>{this.errorFormMessage=null}),2e3))},testMonth(){},async getTest(){const e=await C.getLocation();console.log("result "+e)}}},M=l(1241);const B=(0,M.A)(L,[["render",v]]);var I=B}}]);
//# sourceMappingURL=843.2bbeae84.js.map