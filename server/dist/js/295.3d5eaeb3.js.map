{"version":3,"file":"js/295.3d5eaeb3.js","mappings":"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","sources":["webpack://prore-mongo/./src/service/map.js","webpack://prore-mongo/./src/service/recipients.js","webpack://prore-mongo/./src/pages/RecipientForm.vue","webpack://prore-mongo/./src/pages/RecipientForm.vue?59c8"],"sourcesContent":["const axios = require('axios')\r\n\r\nconst baseUrl = '/api/map'\r\n\r\nconst getLocation = async () => {\r\n    const location = await axios.get(baseUrl)\r\n    return location.data\r\n}\r\n\r\nexport default {\r\n    getLocation\r\n}","const axios = require('axios');\r\n\r\nconst baseUrl = '/api/recipients';\r\n\r\nconst getRecipients = async () => {\r\n    const results = await axios.get(baseUrl);\r\n    return results.data;\r\n}\r\n\r\nconst addRecipient = async (id, newRecipient) => {\r\n    const recipient = await axios.post(`${baseUrl}/${id}`, newRecipient);\r\n    return recipient.data;\r\n}\r\n\r\nexport default { getRecipients, addRecipient }","<template>\r\n\r\n  <div>\r\n    <h2 style=\"margin-top: 50px;\">Client</h2>\r\n    <MDBContainer>\r\n      <form>\r\n        <MDBInput\r\n            label=\"Anna osoitteesi\"\r\n            v-model=\"address\"\r\n            id=\"osoite\"\r\n            size=\"lg\" wrapperClass=\"mb-4\"/>\r\n\r\n        <VueDatePicker placeholder=\"Missä aikavälillä haluat ammattilaista?\" style=\"margin-bottom: 20px;\" v-model=\"date\"></VueDatePicker>\r\n\r\n        <div>Selected: {{ professional }}</div>\r\n\r\n        <div class=\"ui form\">\r\n          <div class=\"field\">\r\n            <select v-model=\"professional\">\r\n              <option disabled value=\"\">Valitse ammattilainen</option>\r\n              <option>Putkimies</option>\r\n              <option>Sähkömies</option>\r\n              <option>Siivooja</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </form>\r\n\r\n      <h1>{{result}}</h1>\r\n      <MDBBtn outline=\"success\" size=\"lg\" block @click=\"this.$router.push('/received')\">Kinnita andmed</MDBBtn>\r\n      <MDBBtn outline=\"success\" size=\"lg\" block @click=\"addRecipient\">Add</MDBBtn>\r\n      <MDBBtn outline=\"danger\" size=\"lg\" block @click=\"this.$router.push('/')\" style=\"margin-bottom: 50px;\"> Cansel </MDBBtn>\r\n\r\n    </MDBContainer>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n/*global google*/\r\nimport VueDatePicker from '@vuepic/vue-datepicker';\r\nimport {\r\n  MDBBtn,\r\n  MDBContainer,\r\n  MDBInput\r\n} from \"mdb-vue-ui-kit\";\r\nimport recipientService from '../service/recipients'\r\nimport mapService from '../service/map'\r\nexport default {\r\n  name: \"recipient-form\",\r\n  components: {\r\n    MDBBtn,\r\n    MDBContainer,\r\n    MDBInput,\r\n    VueDatePicker\r\n  },\r\n  data () {\r\n    return {\r\n      recipientId: null,\r\n      address: null,\r\n      lat: null,\r\n      lng: null,\r\n      professional: \"\",\r\n      date: null\r\n    }\r\n  },\r\n  async mounted () {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedAppUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      this.recipientId = user.id\r\n      //console.log(\"User token: \" + this.loggedUser.token)\r\n      console.log(\"User id in recipient: \" + user.id)\r\n    }\r\n\r\n    console.log(\"Google key test: \" + await mapService.getLocation())\r\n\r\n    const center = { lat: 50.064192, lng: -130.605469 };\r\n    // Create a bounding box with sides ~10km away from the center point\r\n    const defaultBounds = {\r\n      north: center.lat + 0.1,\r\n      south: center.lat - 0.1,\r\n      east: center.lng + 0.1,\r\n      west: center.lng - 0.1,\r\n    };\r\n    const input = document.getElementById(\"osoite\");\r\n    const options = {\r\n      bounds: defaultBounds,\r\n      componentRestrictions: { country: \"est\" },\r\n      fields: [\"address_components\", \"geometry\", \"icon\", \"name\", \"formatted_address\"],\r\n      strictBounds: false,\r\n      //types: [\"establishment\"],\r\n    };\r\n    const autocomplete = new google.maps.places.Autocomplete(input, options);\r\n\r\n    autocomplete.addListener(\"place_changed\", () => {\r\n      let place = autocomplete.getPlace()\r\n      this.lat = place.geometry.location.lat()\r\n      this.lng = place.geometry.location.lng()\r\n\r\n      this.address = place.formatted_address\r\n      console.log(place)\r\n    })\r\n  },\r\n  methods: {\r\n    backToDashboard () {\r\n\r\n    },\r\n    // New client to database\r\n    async addRecipient () {\r\n      const recipient = {\r\n        address: this.address,\r\n        latitude: this.lat,\r\n        longitude: this.lng,\r\n        professional: this.professional,\r\n        month: this.date.getMonth(),\r\n        day: this.date.getDate(),\r\n        hours: this.date.getHours(),\r\n        minutes: this.date.getMinutes()\r\n      }\r\n\r\n      await recipientService.addRecipient(this.recipientId, recipient)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./RecipientForm.vue?vue&type=template&id=167ca594\"\nimport script from \"./RecipientForm.vue?vue&type=script&lang=js\"\nexport * from \"./RecipientForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\majaa\\\\WebstormProjects\\\\prore-mongo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["axios","require","baseUrl","getLocation","async","location","get","data","getRecipients","results","addRecipient","id","newRecipient","recipient","post","_createElementVNode","style","class","disabled","value","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createElementBlock","_hoisted_1","_createVNode","_component_MDBContainer","_component_MDBInput","label","$data","address","$event","size","wrapperClass","_component_VueDatePicker","placeholder","date","_toDisplayString","professional","_hoisted_2","_hoisted_3","_ctx","result","_component_MDBBtn","outline","block","onClick","_cache","$router","push","$options","name","components","MDBBtn","MDBContainer","MDBInput","VueDatePicker","recipientId","lat","lng","loggedUserJSON","window","localStorage","getItem","user","JSON","parse","this","console","log","mapService","center","defaultBounds","north","south","east","west","input","document","getElementById","options","bounds","componentRestrictions","country","fields","strictBounds","autocomplete","google","maps","places","Autocomplete","addListener","place","getPlace","geometry","formatted_address","methods","backToDashboard","latitude","longitude","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","recipientService","__exports__","render"],"sourceRoot":""}