{"version":3,"file":"js/381.02e23f1b.js","mappings":"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","sources":["webpack://prore-mongo/./src/service/calendarOffers.js","webpack://prore-mongo/./src/pages/ProviderPanel.vue","webpack://prore-mongo/./src/components/EditPrice.vue","webpack://prore-mongo/./src/components/EditPrice.vue?37bc","webpack://prore-mongo/./src/components/notifications/errorMessage.js","webpack://prore-mongo/./src/components/notifications/successMessage.js","webpack://prore-mongo/./src/pages/ProviderPanel.vue?7004"],"sourcesContent":["const axios = require('axios');\r\nconst baseUrl = '/api/offers';\r\n\r\nconst getOffers = async () => {\r\n    const offers = await axios.get(baseUrl);\r\n    return offers.data;\r\n}\r\n\r\nconst addFirstOffer = async (offer) => {\r\n    const newOffer = await axios.post(`${baseUrl}`, offer);\r\n    return newOffer.data;\r\n}\r\n\r\nconst addAdditionalOffer = async (id, offer) => {\r\n    const additionalOffer = await axios.post(`${baseUrl}/${id}`, offer);\r\n    return additionalOffer.data;\r\n}\r\n\r\nconst removeTimeOffer = async (providerId, offerId) => {\r\n    const removedTimeRange = await axios.delete(`${baseUrl}/${providerId}/timeoffer/${offerId}`);\r\n    return removedTimeRange.data;\r\n}\r\n\r\nconst updateOffer = async (id, timeOffer) => {\r\n    const updated = await axios.put(`${baseUrl}/${id}`, timeOffer)\r\n    return updated.data\r\n}\r\n\r\nexport default { getOffers, addFirstOffer, addAdditionalOffer, removeTimeOffer, updateOffer };","<template>\r\n  <div>\r\n    <h1 style=\"margin-top: 50px; margin-bottom: 50px\">TMI:n hallintapaneeli...</h1>\r\n\r\n    <MDBContainer>\r\n      <MDBRow>\r\n        <MDBCol>\r\n          <VueDatePicker\r\n              style=\"margin-bottom: 50px;\"\r\n              range\r\n              v-model=\"date\"\r\n              @update:model-value=\"handleDate\"\r\n              inline\r\n\r\n              :min-date=\"new Date()\"\r\n              :markers=\"markers\"\r\n\r\n              :month-change-on-scroll=\"false\"\r\n          >\r\n\r\n\r\n            <template #marker-tooltip=\"{ tooltip}\" >\r\n\r\n              <VueDatePicker\r\n                  v-model=\"times[tooltip.index]\"\r\n\r\n                  @update:model-value=\"handleTime\"\r\n                  range\r\n                  time-picker\r\n                  :min-time=\"{ hours: times[tooltip.index][0].hours, minutes: times[tooltip.index][0].minutes }\"\r\n                  minutes-grid-increment=\"10\"\r\n                  @open=\"alertFn(tooltip.index)\"\r\n              >\r\n\r\n                <template #trigger  >\r\n\r\n                  <div @click=\"test(tooltip.index)\" style=\"cursor: pointer;\">\r\n\r\n\r\n                    {{times[tooltip.index][0].hours >= 10 ? times[tooltip.index][0].hours : \"0\" + times[tooltip.index][0].hours}} :\r\n                    {{times[tooltip.index][0].minutes >= 10 ? times[tooltip.index][0].minutes : \"0\" + times[tooltip.index][0].minutes}} -\r\n                    {{times[tooltip.index][1].hours >= 10 ? times[tooltip.index][1].hours : \"0\" + times[tooltip.index][1].hours}} :\r\n                    {{times[tooltip.index][1].minutes >= 10 ? times[tooltip.index][1].minutes : \"0\" + times[tooltip.index][1].minutes}}\r\n\r\n                    <!--\r\n                    {{times[tooltip.index][0].hours}} : {{times[tooltip.index][0].minutes}} -\r\n                    {{times[tooltip.index][1].hours}} : {{times[tooltip.index][1].minutes}}\r\n                    -->\r\n                    <!--\r\n                    {{tooltip.hFrom}} : {{tooltip.mFrom}} -\r\n                    {{tooltip.hTo}} : {{tooltip.mTo}}\r\n                    -->\r\n                    &nbsp;&nbsp;\r\n                    <MDBIcon>\r\n                      <i class=\"fas fa-edit\"></i>\r\n                    </MDBIcon>\r\n\r\n                  </div>\r\n\r\n                </template>\r\n\r\n              </VueDatePicker>\r\n              &nbsp;&nbsp;\r\n              <MDBIcon @click=\"delTimeRange(tooltip.timeId)\">\r\n                <i class=\"fas fa-times\"></i>\r\n              </MDBIcon>\r\n\r\n              <!--\r\n              {{tooltip.offerId}}&nbsp;&nbsp;\r\n              {{tooltip.index}}\r\n              -->\r\n\r\n            </template>\r\n\r\n\r\n          </VueDatePicker>\r\n\r\n        </MDBCol>\r\n        <MDBCol v-if=\"isEditPrice\">\r\n          <editPrice\r\n            @cancel:editPrice = cancelEditPrice\r\n            @save:editedPrice = saveEditedPrice\r\n          />\r\n        </MDBCol>\r\n        <MDBCol v-else>\r\n          <h2>{{provider.yritys}}:</h2>\r\n          <errorNotification\r\n              :message = errorMessage\r\n          />\r\n          <successNotification\r\n            :message = successMessage\r\n          />\r\n          <MDBTable borderless style=\"font-size: 18px; text-align: left;\">\r\n            <tbody>\r\n            <tr>\r\n              <td>\r\n                {{provider.address}}\r\n              </td>\r\n              <td>\r\n                <MDBBtn outline=\"info\" block size=\"lg\" @click=\"editAddress\">Muokkaa osoitetta</MDBBtn>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td v-for=\"(pro, i) in provider.profession\" :key=\"i\">\r\n                {{pro}}\r\n              </td>\r\n              <td>\r\n                <MDBBtn outline=\"info\" block size=\"lg\" @click=\"editProfession\">Muokkaa ammattia</MDBBtn>\r\n              </td>\r\n            </tr>\r\n\r\n            <tr>\r\n              <td>\r\n                {{provider.priceByHour}}&nbsp;Euroa\r\n              </td>\r\n              <td>\r\n                <MDBBtn outline=\"info\" block size=\"lg\" @click=\"editPrice\">Muokkaa tuntihinta</MDBBtn>\r\n              </td>\r\n            </tr>\r\n\r\n            </tbody>\r\n          </MDBTable>\r\n\r\n        </MDBCol>\r\n      </MDBRow>\r\n\r\n    </MDBContainer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VueDatePicker from '@vuepic/vue-datepicker';\r\nimport providerService from '../service/providers'\r\nimport editPrice from '../components/EditPrice'\r\nimport errorNotification from '../components/notifications/errorMessage'\r\nimport successNotification from '../components/notifications/successMessage'\r\n// inline auto-apply\r\nimport {\r\n  MDBContainer,\r\n  MDBIcon,\r\n  MDBRow,\r\n  MDBCol,\r\n  MDBTable,\r\n  MDBBtn\r\n}from \"mdb-vue-ui-kit\";\r\nimport {ref} from \"vue\";\r\nimport addDays from \"date-fns/addDays\";\r\nimport availableService from '../service/calendarOffers';\r\nexport default {\r\n  name: \"Provider-panel\",\r\n  components: {\r\n    errorNotification,\r\n    successNotification,\r\n    editPrice,\r\n    MDBContainer,\r\n    MDBIcon,\r\n    MDBRow,\r\n    MDBCol,\r\n    MDBTable,\r\n    MDBBtn,\r\n    VueDatePicker\r\n  },\r\n  data () {\r\n    return {\r\n      testi: {}\r\n    }\r\n  },\r\n  setup () {\r\n    const datee = ref(null)\r\n    const isEditPrice = ref(false)\r\n    const clearTime = ref(null)\r\n    const dateTest = ref(null)\r\n    const date = ref(null)\r\n    const markers = ref([])\r\n    const contents = ref([])\r\n    const isContents = ref(false)\r\n    const markedDays = ref([])\r\n    const time = ref({})\r\n    const times = ref([])\r\n    const datetime = ref({})\r\n    const userId = ref(\"\")\r\n    const provider = ref({})\r\n    const providerTimes = ref([])\r\n    const errorMessage = ref(null)\r\n    const successMessage = ref(null)\r\n    return {\r\n      datee,\r\n      isEditPrice,\r\n      clearTime,\r\n      dateTest,\r\n      date,\r\n      markers,\r\n      contents,\r\n      isContents,\r\n      markedDays,\r\n      time,\r\n      times,\r\n      datetime,\r\n      userId,\r\n      provider,\r\n      providerTimes,\r\n      errorMessage,\r\n      successMessage\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedAppUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      this.userId = user.id\r\n      //console.log(\"User token: \" + this.loggedUser.token)\r\n      //console.log(\"User id in provider panel: \" + user.id)\r\n      // this.datee = (\r\n      //     [\r\n      //       {\r\n      //         day: 20,\r\n      //         hours: 10,\r\n      //         minutes: 15\r\n      //       },\r\n      //       {\r\n      //         day: 20,\r\n      //         hours: 11,\r\n      //         minutes: 20\r\n      //       }\r\n      //     ]\r\n      //\r\n      // )\r\n    }\r\n\r\n\r\n\r\n\r\n    this.providerData();\r\n\r\n  },\r\n  methods: {\r\n    editPrice () {\r\n      this.isEditPrice = true;\r\n    },\r\n    async saveEditedPrice (newPrice) {\r\n      console.log(\"New price is: \" + newPrice);\r\n      const providerSalary = {\r\n        priceByHour: newPrice\r\n      }\r\n      const updated = await providerService.updateProvider(this.provider.id, providerSalary)\r\n      if (updated) {\r\n        this.provider.priceByHour = newPrice;\r\n        this.isEditPrice = false;\r\n        this.successMessage = \"Tuntihinta on muokattu!\"\r\n        setTimeout(() => {\r\n          this.successMessage = null\r\n        }, 2000)\r\n      }\r\n\r\n\r\n    },\r\n    cancelEditPrice (isEdit) {\r\n      this.isEditPrice = isEdit;\r\n    },\r\n    removeExpiredDateTime () {\r\n      this.providerTimes.forEach(timerange => {\r\n        if (timerange.monthFrom === new Date().getMonth() && timerange.dayFrom < new Date().getDate()) {\r\n\r\n          console.log(\"Times what to remove: \" + timerange.id)\r\n          this.delTimeRange(timerange.id);\r\n        }\r\n      })\r\n\r\n    },\r\n    async editTimeTest () {\r\n      const newTimeoffer = {hoursFrom: 1};\r\n      await availableService.updateOffer('6431407f53469b1f48eeb2f0', newTimeoffer)\r\n      //console.log(\"Is time updated? \" + this.provider.timeoffer.map(p => p.hoursFrom));\r\n      //console.log(\"Updated: \" + updateTime.hoursFrom)\r\n    },\r\n    async delTimeRange (timerangeId) {\r\n      const removed = await availableService.removeTimeOffer(this.provider.id, timerangeId);\r\n      console.log(\"Is time removed? \" + removed.id)\r\n      console.log(\"Aga id argumendina? \" + timerangeId)\r\n      this.providerTimes = this.providerTimes.filter(time => time.id !== timerangeId);\r\n      this.times = [];\r\n      this.markers = [];\r\n\r\n      this.providerTimes.forEach(offer => {\r\n        this.initializeTime(offer);\r\n      })\r\n\r\n      this.providerTimes.forEach(times => {\r\n        console.log(\"Provider times: \" + times.dayFrom);\r\n        this.setTimeMarkers(times)\r\n      })\r\n\r\n    },\r\n\r\n    onTimePickerOpen () {\r\n      console.log(\"Timepicker opened\")\r\n    },\r\n    alertFn (x) {\r\n      console.log(\"Opened \" + x)\r\n    },\r\n\r\n    onClose () {\r\n\r\n      console.log(\"On close...\")\r\n    },\r\n    async handleDate () {\r\n      console.log(\"Date handled!\")\r\n      const timeDate = {\r\n        monthFrom: this.date[0].getMonth(),\r\n        dayFrom: this.date[0].getDate(),\r\n        hoursFrom: this.date[0].getHours(),\r\n        minutesFrom: this.date[0].getMinutes(),\r\n        monthTo: this.date[1].getMonth(),\r\n        dayTo: this.date[1].getDate(),\r\n        hoursTo: this.date[1].getHours(),\r\n        minutesTo: this.date[1].getMinutes()\r\n      }\r\n\r\n\r\n      const savedTimeRange = await availableService.addAdditionalOffer(this.provider.id, timeDate);\r\n      //console.log(\"Saved? \" + savedTimeRange);\r\n      //this.providerTimes = this.providerTimes.concat(savedTimeRange)\r\n      //console.log(\"Test closing\")\r\n      //this.times = this.times.concat([{day: 19, hours: 5, minutes: 2}, {hours: 7, minutes: 25}]);\r\n     // this.providerTimes.push({ monthFrom: 3, dayFrom: 19, hoursFrom: 5, minutesFrom: 0, monthTo: 3, dayTo: 10, hoursTo: 17, minutesTo: 32, id: \"64347d860033a3e590bbd2f7\"});\r\n      this.providerTimes = this.providerTimes.concat(savedTimeRange);\r\n      this.times = [];\r\n      this.markers = [];\r\n      this.providerTimes.forEach(offer => {\r\n        this.initializeTime(offer);\r\n      })\r\n\r\n      this.providerTimes.forEach(times => {\r\n        console.log(\"Provider times: \" + times.hoursFrom)\r\n        this.setTimeMarkers(times)\r\n      })\r\n      //this.providerData ();\r\n    },\r\n    handleTime () {\r\n      console.log(\"Time is handled\")\r\n    },\r\n\r\n    setMarkedDay (markedDay) {\r\n      const day = markedDay - new Date().getDate()\r\n      //this.markedDays = this.markedDays.concat(markedDay)\r\n      this.markedDays.push(markedDay)\r\n      console.log(\"Day to set_ \" + day);\r\n    },\r\n    cancelTime () {\r\n      console.log(\"Time cancelled!\")\r\n\r\n    },\r\n    async addAvailableDate () {\r\n      const availableDate = {\r\n        monthFrom: this.date[0].getMonth(),\r\n        dayFrom: this.date[0].getDate(),\r\n        hoursFrom: this.date[0].getHours(),\r\n        minutesFrom: this.date[0].getMinutes(),\r\n        monthTo: this.date[1].getMonth(),\r\n        dayTo: this.date[1].getDate(),\r\n        hoursTo: this.date[1].getHours(),\r\n        minutesTo: this.date[1].getMinutes()\r\n      }\r\n      const saved = await availableService.addAdditionalOffer(this.provider.id, availableDate);\r\n      console.log(\"Saved? \" + saved);\r\n    },\r\n    initializeMarkers (day) {\r\n      if (this.contents.length > 0) {\r\n        this.markers.push(\r\n            {\r\n              date: addDays(new Date(), day),\r\n              type: 'line',\r\n              color: 'orange',\r\n              tooltip: this.contents\r\n            }\r\n        )\r\n      }\r\n\r\n    },\r\n    setTimeMarkers (offer) {\r\n      let markedDay = null;\r\n      this.contents = [];\r\n      markedDay = offer.dayFrom - new Date().getDate()\r\n\r\n      let timeIds = [];\r\n\r\n      this.times.forEach((time, index) => {\r\n\r\n        if (time[0].day === offer.dayFrom) {\r\n          timeIds = timeIds.concat(offer.id)\r\n          //this.contents.push({text: \"Muokka\", index: index, hours: time.hours, minutes: time, color: 'orange'})\r\n\r\n          this.contents.push({text: \"Muokka\", index: index, timeId: this.providerTimes[index].id, hFrom: time[0].hours, mFrom: time[0].minutes,\r\n            hTo: time[1].hours, mTo: time[1].minutes, color: 'orange'})\r\n\r\n          // this.contents.push({text: \"Muokka\", index: index, timeId: offer.id, hFrom: time[0].hours, mFrom: time[0].minutes,\r\n          //   hTo: time[1].hours, mTo: time[1].minutes, color: 'orange'})\r\n\r\n          // this.contents.push({text: \"Muokka\", index: index, timeId: timeIds[index], hFrom: time[0].hours, mFrom: time[0].minutes,\r\n          //   hTo: time[1].hours, mTo: time[1].minutes, color: 'orange'})\r\n\r\n          this.markers.push(\r\n              {\r\n                date: addDays(new Date(), markedDay),\r\n                type: 'line',\r\n                color: 'orange',\r\n                tooltip: this.contents\r\n              }\r\n          )\r\n\r\n        }\r\n\r\n      })\r\n    },\r\n    async providerData () {\r\n      console.log(\"User id in provider panel: \" + this.userId)\r\n      const provider = await providerService.getProvider(this.userId);\r\n\r\n      if (provider) {\r\n\r\n\r\n\r\n        this.provider = provider;\r\n\r\n        this.providerTimes = provider.timeoffer;\r\n\r\n        this.times = []\r\n        //let timeArr = [];\r\n        this.providerTimes.forEach(offer => {\r\n        //this.provider.timeoffer.forEach(offer => {\r\n          this.initializeTime(offer);\r\n          //timeArr.push(offer)\r\n        })\r\n        this.providerTimes.forEach(offer => {\r\n        //this.provider.timeoffer.forEach((offer) => {\r\n\r\n          this.setTimeMarkers(offer);\r\n        //   let markedDay = null;\r\n        //   this.contents = [];\r\n        //   markedDay = offer.dayFrom - new Date().getDate()\r\n        //\r\n        //   this.times.forEach((time, index) => {\r\n        //\r\n        //     if (time[0].day === offer.dayFrom) {\r\n        //       console.log(\"Here is same day: \")\r\n        //\r\n        //       //this.contents.push({text: \"Muokka\", index: index, hours: time.hours, minutes: time, color: 'orange'})\r\n        //\r\n        //       this.contents.push({text: \"Muokka\", index: index, timeId: this.provider.timeoffer[index].id, hFrom: time[0].hours, mFrom: time[0].minutes,\r\n        //         hTo: time[1].hours, mTo: time[1].minutes, color: 'orange'})\r\n        //\r\n        //       this.markers.push(\r\n        //           {\r\n        //             date: addDays(new Date(), markedDay),\r\n        //             type: 'line',\r\n        //             color: 'orange',\r\n        //             tooltip: this.contents\r\n        //           }\r\n        //       )\r\n        //\r\n        //     }\r\n        //\r\n        //   })\r\n          //this.initializeMarkers (markedDay);\r\n\r\n        })\r\n\r\n      }\r\n\r\n      console.log(\"Saadud pakkuja: \" + this.provider.id)\r\n\r\n    },\r\n\r\n    initializeTime (offer) {\r\n      let time = []\r\n      time.push(\r\n          {\r\n            day: offer.dayFrom,\r\n            hours: offer.hoursFrom,\r\n            minutes: offer.minutesFrom\r\n          },\r\n          {\r\n            day: offer.dayTo,\r\n            hours: offer.hoursTo,\r\n            minutes: offer.minutesTo\r\n          }\r\n\r\n      )\r\n      this.times.push(time)\r\n\r\n    },\r\n\r\n    test (index) {\r\n      console.log(\"What ever: \" + index)\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.center {\r\n  margin: auto;\r\n  width: 25%;\r\n\r\n  padding: 7px;\r\n}\r\n.error {\r\n  color: red;\r\n  background: lightgrey;\r\n  font-size: 20px;\r\n  border-style: solid;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n.success {\r\n  color: blue;\r\n  background: lightgrey;\r\n  font-size: 20px;\r\n  border-style: solid;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n</style>","<template>\r\n  <MDBContainer>\r\n    <h1>Editing price</h1>\r\n\r\n    <MDBInput label=\"Tuntihinta\" v-model=\"price\" wrapperClass=\"mb-4\"/>\r\n\r\n    <MDBBtn outline=\"success\" block size=\"lg\" @click=\"handleEditPrice\">Kinnita</MDBBtn>\r\n    <MDBBtn outline=\"danger\" block size=\"lg\" @click=\"cancelEdit\">Poistu</MDBBtn>\r\n  </MDBContainer>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {\r\n  MDBContainer,\r\n  MDBBtn,\r\n  MDBInput\r\n}from \"mdb-vue-ui-kit\";\r\nimport {ref} from \"vue\";\r\nexport default {\r\n  name: \"edit-price\",\r\n  setup () {\r\n    const price = ref(null)\r\n    return {\r\n      price\r\n    }\r\n  },\r\n  components: {\r\n    MDBContainer,\r\n    MDBBtn,\r\n    MDBInput\r\n  },\r\n  data () {\r\n    return {\r\n      errorMessage: null\r\n    }\r\n  },\r\n  methods: {\r\n    handleEditPrice () {\r\n      this.$emit('save:editedPrice', this.price);\r\n      // this.errorMessage = \"Here is some error!\"\r\n      // setTimeout(() => {\r\n      //   this.errorMessage = null\r\n      // }, 1000)\r\n    },\r\n    cancelEdit () {\r\n      this.$emit('cancel:editPrice' , false)\r\n      this.errorMessage = \"Here is some error!\"\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./EditPrice.vue?vue&type=template&id=47a4219c\"\nimport script from \"./EditPrice.vue?vue&type=script&lang=js\"\nexport * from \"./EditPrice.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\majaa\\\\WebstormProjects\\\\prore-mongo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","const ErrorMessage = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <div className=\"error\">\r\n            {message}\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default ErrorMessage","const SuccessMessage = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <div className=\"success\">\r\n            {message}\r\n\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default SuccessMessage","import { render } from \"./ProviderPanel.vue?vue&type=template&id=32d9eb32\"\nimport script from \"./ProviderPanel.vue?vue&type=script&lang=js\"\nexport * from \"./ProviderPanel.vue?vue&type=script&lang=js\"\n\nimport \"./ProviderPanel.vue?vue&type=style&index=0&id=32d9eb32&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\majaa\\\\WebstormProjects\\\\prore-mongo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["axios","require","baseUrl","getOffers","async","offers","get","data","addFirstOffer","newOffer","post","offer","addAdditionalOffer","id","additionalOffer","removeTimeOffer","providerId","offerId","removedTimeRange","delete","updateOffer","timeOffer","updated","put","_createElementVNode","style","class","_createElementBlock","_hoisted_1","_createVNode","_component_MDBContainer","_component_MDBRow","_component_MDBCol","_component_VueDatePicker","range","$setup","date","$event","$options","handleDate","inline","Date","markers","_withCtx","tooltip","times","index","handleTime","hours","minutes","onOpen","alertFn","trigger","onClick","test","_toDisplayString","_component_MDBIcon","_hoisted_3","delTimeRange","timeId","_hoisted_4","isEditPrice","_createBlock","key","_component_editPrice","cancelEditPrice","saveEditedPrice","provider","yritys","_component_errorNotification","message","errorMessage","_component_successNotification","successMessage","_component_MDBTable","borderless","address","_component_MDBBtn","outline","block","size","_ctx","editAddress","_Fragment","_renderList","profession","pro","i","editProfession","priceByHour","editPrice","_component_MDBInput","label","price","wrapperClass","handleEditPrice","cancelEdit","name","setup","ref","components","MDBContainer","MDBBtn","MDBInput","methods","this","$emit","__exports__","ErrorMessage","SuccessMessage","errorNotification","successNotification","MDBIcon","MDBRow","MDBCol","MDBTable","VueDatePicker","testi","datee","clearTime","dateTest","contents","isContents","markedDays","time","datetime","userId","providerTimes","mounted","loggedUserJSON","window","localStorage","getItem","user","JSON","parse","providerData","newPrice","console","log","providerSalary","providerService","setTimeout","isEdit","removeExpiredDateTime","forEach","timerange","monthFrom","getMonth","dayFrom","getDate","newTimeoffer","hoursFrom","availableService","timerangeId","removed","filter","initializeTime","setTimeMarkers","onTimePickerOpen","x","onClose","timeDate","getHours","minutesFrom","getMinutes","monthTo","dayTo","hoursTo","minutesTo","savedTimeRange","concat","setMarkedDay","markedDay","day","push","cancelTime","availableDate","saved","initializeMarkers","length","addDays","type","color","timeIds","text","hFrom","mFrom","hTo","mTo","timeoffer","render"],"sourceRoot":""}