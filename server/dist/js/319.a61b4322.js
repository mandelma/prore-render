"use strict";(self["webpackChunkprore_render"]=self["webpackChunkprore_render"]||[]).push([[319],{1644:function(e,r,s){e.exports=s.p+"img/error.9510853e.png"},4482:function(e,r,s){var a=s(6768);const t=({message:e})=>null===e?null:(0,a.bF)("div",{className:"error"},[e,(0,a.bF)("img",{className:"errorImg",alt:"error",src:s(1644)},null)]);r.A=t},8700:function(e,r,s){s.r(r),s.d(r,{default:function(){return b}});var a=s(6768),t=s(5130),i=s(4232);const l={key:0,style:{color:"palevioletred"}},o={key:1,style:{color:"palevioletred"}};function n(e,r,s,n,g,u){const m=(0,a.g2)("registerError"),d=(0,a.g2)("register-error"),p=(0,a.g2)("MDBInput"),w=(0,a.g2)("MDBBtn"),h=(0,a.g2)("MDBCheckbox"),c=(0,a.g2)("MDBContainer");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(c,{style:{"margin-top":"50px"}},{default:(0,a.k6)((()=>[(0,a.bF)(m,{message:g.registerErrorMessage},null,8,["message"]),(0,a.bF)(m,{message:g.usernameExisting},null,8,["message"]),(0,a.bF)(m,{message:g.registerEmailErrorMessage},null,8,["message"]),(0,a.bF)(d,{message:g.registerPwRepeatErrorMessage},null,8,["message"]),(0,a.Lk)("form",{class:"register",onSubmit:r[9]||(r[9]=(0,t.D$)(((...e)=>u.userData&&u.userData(...e)),["prevent"])),autocomplete:"off"},[(0,a.bF)(p,{type:"text",size:"lg",label:"Etunimi",white:"",id:"registerFirstName",modelValue:n.registerFirstName,"onUpdate:modelValue":r[0]||(r[0]=e=>n.registerFirstName=e),wrapperClass:"mb-4"},null,8,["modelValue"]),(0,a.bF)(p,{type:"text",size:"lg",label:"Sukunimi",white:"",id:"registerLastName",modelValue:n.registerLastName,"onUpdate:modelValue":r[1]||(r[1]=e=>n.registerLastName=e),wrapperClass:"mb-4"},null,8,["modelValue"]),(0,a.bF)(p,{type:"text",size:"lg",label:"käyttäjätunnus",white:"",id:"registerUsername",modelValue:n.registerUsername,"onUpdate:modelValue":r[2]||(r[2]=e=>n.registerUsername=e),wrapperClass:"mb-4"},null,8,["modelValue"]),(0,a.bF)(p,{type:"text",size:"lg",label:"Email",white:"",id:"registerEmail",modelValue:n.registerEmail,"onUpdate:modelValue":r[3]||(r[3]=e=>n.registerEmail=e),wrapperClass:"mb-4"},null,8,["modelValue"]),(0,a.bF)(p,{white:"",inputGroup:"",type:n.showPassword?"text":"password",formOutline:!0,wrapperClass:"mb-3",modelValue:n.registerPassword,"onUpdate:modelValue":r[5]||(r[5]=e=>n.registerPassword=e),label:"Anna salasana","aria-describedby":"button-addon2"},{default:(0,a.k6)((()=>[(0,a.bF)(w,{id:"button-addon2",ripple:{color:"dark"}},{default:(0,a.k6)((()=>[(0,a.Lk)("i",{class:(0,i.C4)(n.showPassword?"far fa-eye-slash":"far fa-eye"),style:{color:"#dddddd"},onClick:r[4]||(r[4]=(...e)=>n.togglePassword&&n.togglePassword(...e))},null,2)])),_:1})])),_:1},8,["type","modelValue"]),n.pwValidateError&&n.registerPassword?((0,a.uX)(),(0,a.CE)("p",l,(0,i.v_)(n.pwValidateError),1)):(0,a.Q3)("",!0),(0,a.bF)(p,{white:"",inputGroup:"",type:n.showConfirmPassword?"text":"password",formOutline:!0,wrapperClass:"mb-3",modelValue:n.registerPasswordRepeat,"onUpdate:modelValue":r[7]||(r[7]=e=>n.registerPasswordRepeat=e),label:"Toista salasana","aria-describedby":"button-addon2"},{default:(0,a.k6)((()=>[(0,a.bF)(w,{id:"icon-addon2",ripple:{color:"dark"}},{default:(0,a.k6)((()=>[(0,a.Lk)("i",{class:(0,i.C4)(n.showConfirmPassword?"far fa-eye-slash":"far fa-eye"),style:{color:"#dddddd"},onClick:r[6]||(r[6]=(...e)=>n.toggleConfirmPassword&&n.toggleConfirmPassword(...e))},null,2)])),_:1})])),_:1},8,["type","modelValue"]),n.pwConfirmValidateError&&n.registerPasswordRepeat?((0,a.uX)(),(0,a.CE)("p",o,(0,i.v_)(n.pwConfirmValidateError),1)):(0,a.Q3)("",!0),(0,a.bF)(h,{label:"Muista minut",white:"",size:"lg",id:"registerSubscribeCheck",modelValue:n.registerSubscribeCheck,"onUpdate:modelValue":r[8]||(r[8]=e=>n.registerSubscribeCheck=e),wrapperClass:"d-flex justify-content-center mb-4"},null,8,["modelValue"]),(0,a.bF)(w,{outline:"primary",size:"lg",type:"submit",block:"",class:"mb-4",disabled:!!n.pwValidateError},{default:(0,a.k6)((()=>r[10]||(r[10]=[(0,a.eW)(" Luo tili ")]))),_:1},8,["disabled"])],32)])),_:1})])}var g=s(5846),u=s(144),m=s(683);s(6425);var d=s(3674),p=s(4482),w={name:"app-register",components:{registerError:p.A,MDBContainer:g.Dj,MDBInput:g.gk,MDBCheckbox:g.lR,MDBBtn:g.al,MDBIcon:g.$u},data(){return{registerErrorMessage:null,registerEmailErrorMessage:null,registerPwRepeatErrorMessage:null,usernameExisting:null}},setup(){const e=(0,u.KR)(""),r=(0,u.KR)(""),s=(0,u.KR)(""),t=(0,u.KR)(""),i=(0,u.KR)(""),l=(0,u.KR)(""),o=(0,u.KR)(!0),n=(0,u.KR)(!1),g=(0,u.KR)(!1),m=(0,u.KR)(""),d=(0,u.KR)(""),p=()=>{console.log("Password is toggled"),n.value=!n.value},w=()=>{console.log("Password confirm is toggled!"),g.value=!g.value},h=()=>{const e=/^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_\-+=\[\]{};':"\\|,.<>/?]).{8,}$/;e.test(i.value)?m.value="":m.value="Salasanan on oltava vähintään 8 merkkiä pitkä ja sen on sisällettävä iso kirjain, numero ja erikoismerkki."},c=()=>{const e=/^(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_\-+=\[\]{};':"\\|,.<>/?]).{8,}$/;e.test(l.value)?d.value="":d.value="Salasanan on oltava vähintään 8 merkkiä pitkä ja sen on sisällettävä iso kirjain, numero ja erikoismerkki."};return(0,a.wB)(i,(e=>{h(e)})),(0,a.wB)(l,(e=>{c(e)})),{registerLastName:r,registerFirstName:e,registerUsername:s,registerEmail:t,registerPassword:i,registerPasswordRepeat:l,registerSubscribeCheck:o,pwValidateError:m,pwConfirmValidateError:d,showPassword:n,showConfirmPassword:g,togglePassword:p,toggleConfirmPassword:w,validatePassword:h}},computed:{isValidEmail(){return/^[^@]+@\w+(\.\w+)+\w$/.test(this.registerEmail)}},methods:{emailValidation(){},async userData(){const e={firstName:this.registerFirstName,lastName:this.registerLastName,username:this.registerUsername,email:this.registerEmail,password:this.registerPassword};if(""!==this.registerFirstName&&""!==this.registerLastName&&""!==this.registerUsername&&""!==this.registerPassword&&""!==this.registerEmail)if(this.registerUsername.length<4)this.registerErrorMessage="Username must be longer than 4 characters!",setTimeout((()=>{this.registerErrorMessage=null}),2e3);else if(/^[^@]+@\w+(\.\w+)+\w$/.test(this.registerEmail))if(this.registerPassword!==this.registerPasswordRepeat)this.registerPwRepeatErrorMessage="Salasana on oltava sama!",setTimeout((()=>{this.registerPwRepeatErrorMessage=null}),2e3);else{console.log("Uus kasutaja");const r=await m.A.addUser(e);if("username existing"===r.error)this.usernameExisting="Käyttäjätunnus on jo olemassa! Vaihda käyttäjätunnus",setTimeout((()=>{this.usernameExisting=null}),2e3);else if("email existing"===r.error)this.registerEmailErrorMessage="Antamasi sähköpostiosoite on jo olemassa!",setTimeout((()=>{this.registerEmailErrorMessage=null}),2e3);else{const e=await d.A.login({username:this.registerUsername,password:this.registerPassword});"login error"!==e.error?this.$emit("register:data",e):console.log("Error with login! "+e.error)}}else this.registerEmailErrorMessage="Anna kelvollinen sähköpostiosoite!",setTimeout((()=>{this.registerEmailErrorMessage=null}),2e3);else this.registerErrorMessage="Kaikki kentät ovat täytettävä!!",setTimeout((()=>{this.registerErrorMessage=null}),2e3)}}},h=s(1241);const c=(0,h.A)(w,[["render",n]]);var b=c}}]);
//# sourceMappingURL=319.a61b4322.js.map