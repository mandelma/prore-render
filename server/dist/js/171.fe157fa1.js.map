{"version":3,"file":"js/171.fe157fa1.js","mappings":"mIAAA,MAAMA,EAAeA,EAAGC,aACJ,OAAZA,EACO,MAGXC,EAAAA,EAAAA,IAAA,iBAEmB,SAAO,CACjBD,GAAOC,EAAAA,EAAAA,IAAA,iBACQ,WAAU,IAAOC,EAAQ,OAAqB,QAO1E,K,uBChBA,MAAMC,EAAQD,EAAQ,MAChBE,EAAU,gBAEVC,EAASC,UACX,MAAMC,QAAeJ,EAAMK,KAAM,GAAEJ,gBAAuBK,GAC1D,OAAOF,EAAOG,IAAI,EAGhBC,EAAQL,UACV,MAAMC,QAAeJ,EAAMS,IAAK,GAAER,gBAAsBS,KACxD,OAAON,EAAOG,IAAI,EAIhBI,EAAYR,UACd,MAAMS,QAAWZ,EAAMK,KAAM,GAAEJ,eAAsBY,GACrD,OAAOD,EAAGL,IAAI,EAGlB,KAAiBL,SAAQM,QAAOG,Y,yQCT9BG,EAAAA,EAAAA,IAoBeC,EAAA,M,kBAnBb,IAEE,EAFFjB,EAAAA,EAAAA,IAEEkB,EAAA,CADCnB,QAAUoB,EAAAC,qBAAmB,qBAEhCpB,EAAAA,EAAAA,IAEEqB,EAAA,CADGtB,QAAUoB,EAAAG,mBAAiB,qBAEhCC,EAAAA,EAAAA,GAYO,QAZDC,MAAA,uBAA4BC,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAUC,EAAAC,oBAAAD,EAAAC,sBAAAF,IAAkB,e,EAElE5B,EAAAA,EAAAA,IAQE+B,EAAA,CAPEC,KAAK,QACLC,GAAG,YACHC,MAAA,GACAC,KAAK,KACLC,MAAM,wB,WACGjB,EAAAkB,kB,qCAAAlB,EAAAkB,kBAAiBC,GAC1BC,aAAa,Q,wBAEjBvC,EAAAA,EAAAA,IAA2DwC,EAAA,CAAnDR,KAAK,SAASS,MAAA,GAAMC,MAAM,W,mBAAU,IAAM,UAAN,a,gEAclD,GACEC,KAAM,SACNC,WAAY,CACVC,aAAY,IACZC,WAAU,IACVC,aAAY,KACZC,SAAQ,KACRC,OAAMA,EAAAA,IAERxC,OACE,MAAO,CACL4B,kBAAmB,GACnBjB,oBAAqB,KACrBE,kBAAmB,KACnB4B,UAAW,GAEf,EACAC,QAAS,CACP9C,2BACE,GAAK,wBAAwB+C,KAAKC,KAAKhB,mBAKhC,CACL,MAAM5B,EAAO,CACXD,MAAO6C,KAAKhB,mBAEdiB,QAAQC,IAAI,mBAAqB9C,EAAKD,OAEtC,MAAMgD,QAAgBC,EAAAA,EAAYrD,OAAO,CAACI,MAAO6C,KAAKhB,oBACtDgB,KAAKjC,oBAAsBoC,EAAQlD,OACnCoD,YAAW,KACTL,KAAKjC,oBAAsB,IAAI,GAC9B,KACHkC,QAAQC,IAAI,0BAA4BC,EAAQlD,OAClD,MAhBE+C,KAAK/B,kBAAoB,qCACzBoC,YAAW,KACTL,KAAK/B,kBAAoB,IAAI,GAC5B,IAoBP,I,QC9EJ,MAAMqC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://prore-mongo/./src/components/notifications/errorMessage.js","webpack://prore-mongo/./src/service/pwAuth.js","webpack://prore-mongo/./src/components/Forgot.vue","webpack://prore-mongo/./src/components/Forgot.vue?453e"],"sourcesContent":["const ErrorMessage = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n\n        <div className=\"error\">\n            {message}\n            <img className={'errorImg'} src={require('@/assets/error.png')}/>\n\n        </div>\n\n    )\n}\n\nexport default ErrorMessage","const axios = require('axios');\r\nconst baseUrl = '/api/reset_pw'\r\n\r\nconst forgot = async (email) => {\r\n    const result = await axios.post(`${baseUrl}/forgot_auth`, email);\r\n    return result.data;\r\n}\r\n\r\nconst reset = async (token) => {\r\n    const result = await axios.get(`${baseUrl}/reset_auth/${token}`);\r\n    return result.data;\r\n}\r\n\r\n// Reset password\r\nconst resetAuth = async (auth_data) => {\r\n    const pw = await axios.post(`${baseUrl}/reset_auth`, auth_data);\r\n    return pw.data;\r\n}\r\n\r\nexport default { forgot, reset, resetAuth };","<template>\r\n<!--  <form style=\"margin-top: 100px;\" @submit.prevent=\"handleSubmitForgot\">-->\r\n<!--    <h3>Forgot password</h3>-->\r\n<!--    <div class=\"form-group\">-->\r\n<!--      <label>Email</label>-->\r\n<!--      <input type=\"email\" class=\"form-control\" placeholder=\"Email\" v-model=\"emailConfirmation\"/>-->\r\n\r\n<!--      <button class=\"btn btn-primary btn-block\">Submit</button>-->\r\n<!--    </div>-->\r\n<!--  </form >-->\r\n  <MDBContainer>\r\n    <email-success\r\n      :message = emailSuccessMessage\r\n    />\r\n    <email-error\r\n        :message = emailErrorMessage\r\n    />\r\n    <form style=\"margin-top: 100px;\" @submit.prevent=\"handleSubmitForgot\">\r\n\r\n      <MDBInput\r\n          type=\"email\"\r\n          id=\"giveEmail\"\r\n          white\r\n          size=\"lg\"\r\n          label=\"Anna oma sähköpostisi\"\r\n          v-model=\"emailConfirmation\"\r\n          wrapperClass=\"mb-4\"\r\n      />\r\n      <MDBBtn type=\"submit\" block color=\"success\">Lähetä</MDBBtn>\r\n    </form>\r\n  </MDBContainer>\r\n</template>\r\n\r\n<script>\r\nimport authService from '../service/pwAuth'\r\nimport emailSuccess from '../components/notifications/successMessage'\r\nimport emailError from '../components/notifications/errorMessage'\r\nimport {\r\n  MDBContainer,\r\n    MDBInput,\r\n    MDBBtn\r\n} from 'mdb-vue-ui-kit'\r\nexport default {\r\n  name: \"Forgot\",\r\n  components: {\r\n    emailSuccess,\r\n    emailError,\r\n    MDBContainer,\r\n    MDBInput,\r\n    MDBBtn\r\n  },\r\n  data () {\r\n    return {\r\n      emailConfirmation: \"\",\r\n      emailSuccessMessage: null,\r\n      emailErrorMessage: null,\r\n      giveEmail: \"\"\r\n    }\r\n  },\r\n  methods: {\r\n    async handleSubmitForgot () {\r\n      if (!/^[^@]+@\\w+(\\.\\w+)+\\w$/.test(this.emailConfirmation)) {\r\n        this.emailErrorMessage = \"Anna kelvollinen sähköpostiosoite!\"\r\n        setTimeout(() => {\r\n          this.emailErrorMessage = null;\r\n        }, 2000);\r\n      } else {\r\n        const data = {\r\n          email: this.emailConfirmation\r\n        }\r\n        console.log(\"email for reset \" + data.email)\r\n        // -----\r\n        const resetPw = await authService.forgot({email: this.emailConfirmation});\r\n        this.emailSuccessMessage = resetPw.result;\r\n        setTimeout(() => {\r\n          this.emailSuccessMessage = null;\r\n        }, 3000);\r\n        console.log(\"Reset password result: \" + resetPw.result);\r\n      }\r\n\r\n\r\n      // const response = await axios.post('Forgot', {\r\n      //   email: this.email\r\n      // })\r\n      // console.log(\"Responce \" + response);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.success {\r\n  color: white;\r\n  background: #7bc47b;\r\n  font-size: 20px;\r\n  border: solid #0e920e;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n.error {\r\n  color: white;\r\n  background: #f5839c;\r\n  font-size: 20px;\r\n  border: solid #f75959;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n</style>","import { render } from \"./Forgot.vue?vue&type=template&id=49b055d4&scoped=true\"\nimport script from \"./Forgot.vue?vue&type=script&lang=js\"\nexport * from \"./Forgot.vue?vue&type=script&lang=js\"\n\nimport \"./Forgot.vue?vue&type=style&index=0&id=49b055d4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-49b055d4\"]])\n\nexport default __exports__"],"names":["ErrorMessage","message","_createVNode","require","axios","baseUrl","forgot","async","result","post","email","data","reset","get","token","resetAuth","pw","auth_data","_createBlock","_component_MDBContainer","_component_email_success","$data","emailSuccessMessage","_component_email_error","emailErrorMessage","_createElementVNode","style","onSubmit","_cache","_withModifiers","args","$options","handleSubmitForgot","_component_MDBInput","type","id","white","size","label","emailConfirmation","$event","wrapperClass","_component_MDBBtn","block","color","name","components","emailSuccess","emailError","MDBContainer","MDBInput","MDBBtn","giveEmail","methods","test","this","console","log","resetPw","authService","setTimeout","__exports__","render"],"sourceRoot":""}