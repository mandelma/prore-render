"use strict";(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[171],{5118:function(e,s,t){var a=t(3396);const o=({message:e})=>null===e?null:(0,a.Wm)("div",{className:"error"},[e]);s.Z=o},5081:function(e,s,t){const a=t(7218),o="/api/reset_pw",n=async e=>{const s=await a.post(`${o}/forgot_auth`,e);return s.data},i=async e=>{const s=await a.get(`${o}/reset_auth/${e}`);return s.data},l=async e=>{const s=await a.post(`${o}/reset_auth`,e);return s.data};s.Z={forgot:n,reset:i,resetAuth:l}},9171:function(e,s,t){t.r(s),t.d(s,{default:function(){return p}});var a=t(3396),o=t(9242);function n(e,s,t,n,i,l){const r=(0,a.up)("email-success"),m=(0,a.up)("email-error"),u=(0,a.up)("MDBInput"),c=(0,a.up)("MDBBtn"),g=(0,a.up)("MDBContainer");return(0,a.wg)(),(0,a.j4)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r,{message:i.emailSuccessMessage},null,8,["message"]),(0,a.Wm)(m,{message:i.emailErrorMessage},null,8,["message"]),(0,a._)("form",{style:{"margin-top":"100px"},onSubmit:s[1]||(s[1]=(0,o.iM)(((...e)=>l.handleSubmitForgot&&l.handleSubmitForgot(...e)),["prevent"]))},[(0,a.Wm)(u,{type:"email",id:"giveEmail",white:"",size:"lg",label:"Anna oma sähköpostisi",modelValue:i.emailConfirmation,"onUpdate:modelValue":s[0]||(s[0]=e=>i.emailConfirmation=e),wrapperClass:"mb-4"},null,8,["modelValue"]),(0,a.Wm)(c,{type:"submit",block:"",color:"success"},{default:(0,a.w5)((()=>[(0,a.Uk)("Lähetä")])),_:1})],32)])),_:1})}var i=t(5081),l=t(8033),r=t(5118),m=t(4313),u={name:"Forgot",components:{emailSuccess:l.Z,emailError:r.Z,MDBContainer:m.L5,MDBInput:m.u2,MDBBtn:m.$v},data(){return{emailConfirmation:"",emailSuccessMessage:null,emailErrorMessage:null,giveEmail:""}},methods:{async handleSubmitForgot(){if(/^[^@]+@\w+(\.\w+)+\w$/.test(this.emailConfirmation)){const e={email:this.emailConfirmation};console.log("email for reset "+e.email);const s=await i.Z.forgot({email:this.emailConfirmation});this.emailSuccessMessage=s.result,setTimeout((()=>{this.emailSuccessMessage=null}),3e3),console.log("Reset password result: "+s.result)}else this.emailErrorMessage="Anna kelvollinen sähköpostiosoite!",setTimeout((()=>{this.emailErrorMessage=null}),2e3)}}},c=t(89);const g=(0,c.Z)(u,[["render",n],["__scopeId","data-v-49b055d4"]]);var p=g}}]);
//# sourceMappingURL=171.03749290.js.map