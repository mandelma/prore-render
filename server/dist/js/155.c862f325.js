(self["webpackChunkprore_mongo"]=self["webpackChunkprore_mongo"]||[]).push([[155],{4729:function(e){e.exports={}},5118:function(e,a,l){"use strict";var t=l(3396);const i=({message:e})=>null===e?null:(0,t.Wm)("div",{className:"error"},[e,(0,t.Wm)("img",{className:"errorImg",src:l(5551)},null)]);a.Z=i},3998:function(e,a){"use strict";const l=[{label:"Automekaanikko"},{label:"Automaalari"},{label:"Automyyjä"},{label:"Katsastaja"},{label:"Varaosamyyjä"}],t=[{label:"Elintarvikekemisti"},{label:"Elintarviketyöntekijä"},{label:"Hankintapäällikkö, meijeriteollisuus"},{label:"Kondiittori"},{label:"Leipomotyöntekijä"},{label:"Leipuri"},{label:"Lihanleikkaaja"},{label:"Lihavalmistetyöntekijä"},{label:"Mylläri"},{label:"Elintarvikepakkaaja"},{label:"Juomatyöntekijä"},{label:"Säilyketyöntekijä"},{label:"Teurastaja"},{label:"Elintarviketuotannon työnjohtaja"},{label:"Tuotannonsuunnittelija, elintarviketeollisuus"},{label:"Tuotantopäällikkö, meijeriteollisuus"},{label:"Meijeristi, meijerituotteiden valmistaja"}],i=[{label:"Automaatioasentaja"},{label:"Automaatioinsinööri"},{label:"Biotekniikan insinööri"},{label:"Elektroniikka-asentaja"},{label:"Elektroniikkainsinööri"},{label:"Energianeuvoja"},{label:"Energiatekniikan insinööri"},{label:"Hakkurinkuljettaja"},{label:"Huoltopäällikkö, kylmäala"},{label:"Kaukolämpöasentaja"},{label:"Kaukolämpöinsinööri"},{label:"Insinööri, kemiantekniikka"},{label:"Kemisti"},{label:"Kunnossapitoinsinööri"},{label:"Kylmäsuunnittelija"},{label:"Käyttöinsinööri"},{label:"LVI-asentaja"},{label:"LVI-insinööri"},{label:"Laborantti"},{label:"Lämpöyrittäjä"},{label:"Metsuri"},{label:"Metsäkoneenkuljettaja"},{label:"Metsätalouden harjoittaja"},{label:"Metsätalousinsinööri"},{label:"Sähköasentaja"},{label:"Sähköinsinööri"},{label:"Sähkömestari, meriliikenne"},{label:"Sähköverkostoasentaja"},{label:"Tuulivoimainsinööri"},{label:"Voimalaitoksen käyttäjä"},{label:"Voimalaitospäällikkö"},{label:"Huoltoteknikko"}],o=[{group:"Autoala",options:l},{group:"Elintarviketeollisuus",options:t},{group:"Energia-ala",options:i}];a.Z=o},4155:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return C}});l(7658);var t=l(3396),i=l(7139),o=l(9242);const s=(0,t._)("h2",{style:{"margin-top":"50px","margin-bottom":"50px"}},"-TMI panel-",-1),n=(0,t._)("p",{style:{"text-align":"left",color:"deepskyblue","font-size":"18px"}},"jos sädettä ei ole merkitty, se tarkoittaa, että tarjoat palvelua vain määritetyssä osoitteessa",-1),r={class:"ui large form"},u=(0,t._)("option",{value:""},"Valitse oma ammattisi",-1),d=["label"],m=["value"],p=["value"],g={style:{margin:"20px 0 20px 0"}};function c(e,a,l,c,b,k){const y=(0,t.up)("ErrorNotification"),h=(0,t.up)("MDBInput"),v=(0,t.up)("MDBCheckbox"),j=(0,t.up)("MDBBtn"),f=(0,t.up)("MDBContainer");return(0,t.wg)(),(0,t.iD)("div",null,[s,(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,{message:b.errorFormMessage},null,8,["message"]),(0,t._)("form",null,[(0,t.Wm)(h,{label:"Anna yrityksen nimi",modelValue:c.yritys,"onUpdate:modelValue":a[0]||(a[0]=e=>c.yritys=e),white:"",id:"yritys",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,t.Wm)(h,{label:"Anna yrityksen y-tunnus",modelValue:c.ytunnus,"onUpdate:modelValue":a[1]||(a[1]=e=>c.ytunnus=e),white:"",id:"ytunnus",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,t.Wm)(h,{label:"Anna osoitteesi",white:"",id:"osoite",size:"lg",wrapperClass:"mb-4"}),n,(0,t.Wm)(h,{wrapperClass:"mb-4",label:"Anna toiminta-alueen säde - km",white:"",modelValue:c.range,"onUpdate:modelValue":a[2]||(a[2]=e=>c.range=e),size:"lg",type:"number"},null,8,["modelValue"]),(0,t._)("div",r,[(0,t.wy)((0,t._)("select",{class:"pro_form_select",style:{"background-color":"#141414",color:"#ddd",border:"1px solid dimgrey"},"onUpdate:modelValue":a[3]||(a[3]=e=>b.profession=e)},[u,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(b.prodata,(e=>((0,t.wg)(),(0,t.iD)(t.HY,null,[e.group?((0,t.wg)(),(0,t.iD)("optgroup",{label:e.group,key:e.group},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.options,(e=>((0,t.wg)(),(0,t.iD)("option",{value:e.label,key:e.label},(0,i.zw)(e.label),9,m)))),128))],8,d)):((0,t.wg)(),(0,t.iD)("option",{value:e,key:e.value},(0,i.zw)(e.label),9,p))],64)))),256))],512),[[o.bM,b.profession]])]),(0,t.Wm)(h,{label:"Anna tuntihinta",modelValue:c.price,"onUpdate:modelValue":a[4]||(a[4]=e=>c.price=e),white:"",id:"hinta",size:"lg",wrapperClass:"mb-4"},null,8,["modelValue"]),(0,t._)("div",g,[(0,t.Wm)(v,{label:"Saatavilla 24/7",white:"",modelValue:c.isAvailable24_7,"onUpdate:modelValue":a[5]||(a[5]=e=>c.isAvailable24_7=e)},null,8,["modelValue"])])]),(0,t.Wm)(j,{outline:"success",size:"lg",block:"",onClick:k.addProvider},{default:(0,t.w5)((()=>[(0,t.Uk)("Add provider profile")])),_:1},8,["onClick"]),(0,t.Wm)(j,{outline:"danger",size:"lg",block:"",onClick:a[6]||(a[6]=e=>this.$router.push("/")),style:{"margin-bottom":"50px"}},{default:(0,t.w5)((()=>[(0,t.Uk)(" Poistu ")])),_:1})])),_:1})])}var b=l(4870),k=l(3998),y=l(5118),h=l(4313),v=l(2340);const j=l(7218),f="/api/map",w=async()=>{const e=await j.get(f);return e.data};var _={getLocation:w},V=l(9398);const M=l(4729),A=l(4729);var D={name:"provider-form",data(){return{result:"",errorFormMessage:null,latitude:0,longitude:0,address:"",profession:"",userId:"",prodata:k.Z}},setup(){const e=(0,b.iH)(""),a=(0,b.iH)(""),l=(0,b.iH)(""),t=(0,b.iH)(null),i=(0,b.iH)(null),o=(0,b.iH)(!1);return{yritys:e,ytunnus:a,date:l,price:t,range:i,isAvailable24_7:o}},components:{MDBContainer:h.L5,MDBBtn:h.$v,MDBInput:h.u2,MDBCheckbox:h.IH,errorNotification:y.Z},mounted(){const e=window.localStorage.getItem("loggedAppUser");if(e){const a=JSON.parse(e);this.userId=a.id,console.log("User id in Provider: "+a.id)}console.log("Google key is: "+A.google);const a={lat:50.064192,lng:-130.605469},l={north:a.lat+.1,south:a.lat-.1,east:a.lng+.1,west:a.lng-.1},t=document.getElementById("osoite"),i={bounds:l,componentRestrictions:{country:"fi"},fields:["address_components","geometry","icon","name","formatted_address"],strictBounds:!1},o=new google.maps.places.Autocomplete(t,i);o.addListener("place_changed",(()=>{let e=o.getPlace();this.latitude=e.geometry.location.lat(),this.longitude=e.geometry.location.lng(),console.log(e),console.log("Latitude: "+e.geometry.location.lat()),console.log("Full address: "+e.formatted_address),this.address=e.formatted_address}))},methods:{canselSession(){this.$emit("cansel:provider","Test")},getAddress(){v.Z.get("https://maps.googleapis.com/maps/api/geocode/json?address=01620+Raikukuja,+Vantaa&key="+M.googleMap).then((e=>{e.data.error_message?(this.error=e.data.error_message,console.log(e.data.error_message)):(this.address=e.data.results[0].formatted_address,console.log(e.data.results[0].formatted_address),console.log(e.data.results[0].address_components[0].long_name),this.result=e.data.results[0].formatted_address)})).catch((e=>{this.error=e.message,this.spinner=!1,console.log(e.message)}))},async addProvider(){const e={yritys:this.yritys,ytunnus:this.ytunnus,address:this.address,latitude:this.latitude,longitude:this.longitude,profession:this.profession,priceByHour:this.price,range:null===this.range?0:this.range,isAvailable24_7:this.isAvailable24_7},a=await V.Z.addProvider(this.userId,e);console.log("Added provider::: "+a),a?this.$router.push("/provider-panel"):(this.errorFormMessage="Tarkista kentat ja yritä uuddelleen!",setTimeout((()=>{this.errorFormMessage=null}),2e3))},testMonth(){},async getTest(){const e=await _.getLocation();console.log("result "+e)}}},H=l(89);const B=(0,H.Z)(D,[["render",c]]);var C=B},5551:function(e,a,l){"use strict";e.exports=l.p+"img/error.9510853e.png"}}]);
//# sourceMappingURL=155.c862f325.js.map