{"version":3,"file":"js/286.e2a27191.js","mappings":"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","sources":["webpack://prore-mongo/./src/pages/RecipientPanelResult.vue","webpack://prore-mongo/./src/pages/RecipientPanelResult.vue?7f3a","webpack://prore-mongo/./src/components/notifications/errorMessage.js","webpack://prore-mongo/./src/components/controllers/datetime.js"],"sourcesContent":["<template>\r\n\r\n\r\n  <MDBContainer v-if=\"isProviderSelected\">\r\n    <recipientFinal\r\n        @cansel:final = handleCanselFinal\r\n        @provider:ordered = orderSuccess\r\n        :proRefSlides = proRefSlides\r\n        :test = test\r\n        :provider = selectedProvider\r\n        :offer = offer\r\n        :proSlides = slides\r\n        :room = room\r\n        :available = availability\r\n        :booking = booking\r\n\r\n        :chatusers = chatusers\r\n\r\n        :initialize_chat = handleInitializeChat\r\n\r\n        :selecteduser = selecteduser\r\n        :messages = messages\r\n        @message = onMessage\r\n        @select = selectUser\r\n        @noSelect = noSelectUser\r\n        @join_chat_panel = handleJoinChatPanel\r\n\r\n    />\r\n\r\n  </MDBContainer>\r\n  <MDBContainer v-else>\r\n    <div style=\"display: flex; justify-content: right; padding: 20px;\">\r\n      <MDBBtnClose\r\n          white\r\n          style=\"cursor: pointer;\"\r\n          @click=\"canselResult\"\r\n      />\r\n    </div>\r\n\r\n    <prompt-panel\r\n        :promptPanelContent = promptPanelContent\r\n        @prompt:no = handlePromptNo\r\n        @prompt:yes = handlePromptYes\r\n    />\r\n\r\n<!--    <MDBIcon-->\r\n<!--        style=\"float:right; cursor: pointer;\"-->\r\n<!--        @click=\"canselResult\"-->\r\n<!--        size=\"3x\"-->\r\n<!--    >-->\r\n<!--      <i class=\"fas fa-undo\"></i>-->\r\n<!--    </MDBIcon>-->\r\n\r\n    <h2 class=\"client-result-header\">{{t('recipient_result_need_a_pro')}} - {{line}}</h2>\r\n\r\n    <h5 v-if=\"booking.created_ms - new Date().getTime() <= 0 && booking.offers.length < 1\" class=\"expired_date\">\r\n      {{t('recipient_result_order_is_expired')}}\r\n    </h5>\r\n    <successMessage\r\n        :message = orderMessage\r\n    />\r\n\r\n    <MDBRow style=\"margin-top: 50px;\">\r\n      <MDBCol class=\"client-result\">\r\n\r\n        <MDBTable borderless style=\"font-size: 17px; color: #dddddd; text-align: left;\">\r\n          <tbody>\r\n          <tr>\r\n            <td v-if=\"!isEditDescription\">\r\n              <p>{{booking.description}}</p>\r\n\r\n\r\n            </td>\r\n            <td v-else>\r\n              <MDBRow>\r\n\r\n                <MDBCol >\r\n                  <MDBTextarea\r\n                      :label=\"t('recipient_result_edit_description')\"\r\n                      white\r\n                      rows=\"4\" v-model=\"description\"\r\n                      style=\"font-size: 14px; padding: 20px;\"\r\n                  />\r\n                </MDBCol>\r\n                <MDBCol col=\"1\">\r\n                  <div style=\"display: flex; justify-content: right; cursor: pointer\">\r\n                    <MDBBtnClose\r\n                        white\r\n                        @click=\"isEditDescription = false\"\r\n                    />\r\n                  </div>\r\n\r\n                </MDBCol>\r\n              </MDBRow>\r\n\r\n\r\n\r\n\r\n            </td>\r\n          </tr>\r\n          <tr v-if=\"booking.offers.length < 1\">\r\n            <td v-if=\"!isEditDescription\">\r\n              <MDBBtn outline=\"info\" block size=\"lg\" @click=\"pressedEditDescription\">Muokkaa tehtävän kuvausta</MDBBtn>\r\n            </td>\r\n            <td v-else>\r\n              <MDBBtn outline=\"info\" block size=\"lg\" @click=\"saveEditedDescription\">Tallenna tehtävän kuvaus</MDBBtn>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td v-if=\"!isEditDate\">\r\n              <p :class=\"{expired_date: booking.created_ms - new Date().getTime() <= 0 && booking.offers.length < 1}\">\r\n                {{bookingDateToDisplay}} &emsp;\r\n                klo &nbsp;\r\n                {{new Date(booking.created).getHours() < 10 ? \"0\" + new Date(booking.created).getHours() : new Date(booking.created).getHours()}}\r\n                :\r\n                {{new Date(booking.created).getMinutes() < 10 ? \"0\" + new Date(booking.created).getMinutes() : new Date(booking.created).getMinutes()}}\r\n\r\n              </p>\r\n              <MDBBtn v-if=\"booking.offers.length < 1\" block size=\"lg\" outline=\"info\" @click=\"editDate\">\r\n                <span :class=\"{expired_warning: booking.created_ms - new Date().getTime() <= 0}\">{{t('recipient_result_edit_date')}}</span>\r\n              </MDBBtn>\r\n            </td>\r\n            <td v-else>\r\n              <MDBRow>\r\n                <MDBCol col=\"8\">\r\n                  <h4 :class=\"{expired_date: booking.created_ms - new Date().getTime() <= 0}\">\r\n                    {{bookingDateToDisplay}}<br>\r\n                    klo &nbsp;\r\n                    {{new Date(booking.created).getHours() < 10 ? \"0\" + new Date(booking.created).getHours() : new Date(booking.created).getHours()}}\r\n                    :\r\n                    {{new Date(booking.created).getMinutes() < 10 ? \"0\" + new Date(booking.created).getMinutes() : new Date(booking.created).getMinutes()}}\r\n                  </h4>\r\n\r\n                  <VueDatePicker\r\n                      style=\"margin-bottom: 20px;\"\r\n                      dark\r\n                      v-model=\"bookingDate\"\r\n                      :min-date=\"new Date()\"\r\n                      :placeholder=\"t('recipient_result_select_date')\"\r\n                      @internal-model-change=\"handleInternalDate\"\r\n                      :state=\"isNoDate ? false : null\"\r\n                  >\r\n\r\n                  </VueDatePicker>\r\n                </MDBCol>\r\n                <MDBCol col=\"4\">\r\n                  <MDBBtnClose\r\n                      white\r\n                      @click=\"isEditDate = false\"\r\n                      style=\"float: right; cursor: pointer\"\r\n\r\n                  />\r\n                </MDBCol>\r\n              </MDBRow>\r\n\r\n            </td>\r\n\r\n          </tr>\r\n\r\n          </tbody>\r\n        </MDBTable>\r\n<!--require(`/server/uploads/${im.name}`)        -->\r\n        <div v-if=\"booking.offers.length < 1\">\r\n          <div v-for=\"(item, i) in images\" :key=\"i\">\r\n            <img\r\n                class=\"loading\"\r\n                style=\"width: 100%;\"\r\n                :src=\"item.blob ? item.blob : item.imageUrl\"\r\n                :alt=\"item.id\"\r\n            />\r\n\r\n            <MDBBtn v-if=\"!isEditPanel\" block outline=\"success\" @click=\"pressEditPanel(i)\">{{t('recipient_result_edit_picture')}}</MDBBtn>\r\n            <div class=\"edit-panel\" v-if=\"isEditPanel && imageIndex === i\">\r\n              <error-message :message = wrong_SizeType_Message />\r\n              <MDBRow v-if=\"booking.offers.length < 1\">\r\n                <MDBCol>\r\n                  <MDBBtnClose\r\n                      v-if=\"!value\"\r\n                      white\r\n                      class=\"close-btn\"\r\n                      style=\"float: right;\"\r\n                      @click=\"closeEditPanel\"\r\n                  />\r\n                  <input  id=\"file-upload\" type=\"file\" @change=\"handleFileChange($event, i)\"/>\r\n                  <label  for=\"file-upload\" class=\"custom-file-upload\">\r\n                  <span v-if=\"value\">\r\n                  {{t('recipient_result_edit_order_picture')}}: {{value.name}}\r\n\r\n                   </span>\r\n                    <span v-else>{{t('recipient_result_select_new_image')}}</span>\r\n                  </label>\r\n                  <MDBBtn v-if=\"isEditImage\" block color=\"success\" @click=\"uploadEditedImage(i, item.key)\">{{ t('recipient_result_upload_edited_image') }}</MDBBtn>\r\n                  <MDBBtn class=\"btn\" block size=\"lg\" color=\"danger\" @click=\"removeImg(i, item.key)\">{{ t('recipient_result_remove_image') }}</MDBBtn>\r\n                </MDBCol>\r\n                <MDBCol v-if=\"value\">\r\n                  <MDBBtnClose\r\n                      white\r\n                      class=\"close-btn\"\r\n                      style=\"float: right;\"\r\n                      @click=\"closeEditPanel\"\r\n                  />\r\n                  <img\r\n                      style=\"width:100px; padding-top: 20px;\"\r\n                      :src=\"this.showImage\"\r\n                      alt=\"addEdit\"\r\n                  />\r\n                </MDBCol>\r\n              </MDBRow>\r\n\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n        <!--New image-->\r\n        <MDBBtn v-if=\"!isPressedAddlmage & booking.offers.length < 1\" block color=\"primary\" @click=\"pressedAddImage\">{{ t('recipient_result_add_image') }}</MDBBtn>\r\n        <div class=\"add-panel\" v-if=\"isPressedAddlmage && isAddImagePanel\">\r\n\r\n          <error-message :message = wrong_SizeType_Message />\r\n          <MDBRow>\r\n\r\n            <MDBCol>\r\n              <MDBBtnClose\r\n                  v-if=\"!value\"\r\n                  white\r\n                  class=\"close-btn\"\r\n                  @click=\"closeAddPanel\"\r\n              />\r\n              <input   id=\"file-upload-x\" type=\"file\" @change=\"handleFileChange($event, i)\"/>\r\n              <label  for=\"file-upload-x\" class=\"custom-file-upload\">\r\n                  <span v-if=\"value\">\r\n                  Muokka tehtävän kuvausta: {{value.name}}\r\n+\r\n                   </span>\r\n                <span v-else>Valitse lisää kuva tehtävästä</span>\r\n              </label>\r\n              <MDBBtn v-if=\"isAddImage\" block outline=\"primary\" @click=\"addAdditionalImage\">Tallenna kuva</MDBBtn>\r\n            </MDBCol>\r\n            <MDBCol v-if=\"value\">\r\n              <MDBBtnClose\r\n                  class=\"close-btn\"\r\n                  white\r\n                  @click=\"closeAddPanel\"\r\n              />\r\n              <img\r\n                  style=\"width:100px\"\r\n                  :src=\"this.showImage\"\r\n                  alt=\"addShow\"\r\n              />\r\n            </MDBCol>\r\n          </MDBRow>\r\n\r\n        </div>\r\n\r\n      </MDBCol>\r\n\r\n      <MDBCol lg=\"6\">\r\n        <div v-if=\"booking_offers.length > 0\">\r\n          <div class=\"ui large form\">\r\n            <div class=\"field\">\r\n              <h3 style=\"margin-bottom: 20px;\">{{ t('recipient_result_offers') }}</h3>\r\n              <select style=\"padding: 20px; background-color: #3c3535; color: lightgrey; font-size: 18px;\" id=\"listOfProviders\" v-model=\"filterResult\" @click=\"addFilter\">\r\n                <option value=\"\">{{ t('recipient_result_filter') }}</option>\r\n                <option value=\"distance\">{{ t('recipient_result_filter_by_distance') }}</option>\r\n                <option value=\"rating\">{{ t('recipient_result_filter_by_rating') }}</option>\r\n                <option value=\"price\">{{ t('recipient_result_filter_by_price') }}</option>\r\n              </select>\r\n\r\n            </div>\r\n\r\n          </div>\r\n          <br>\r\n\r\n          <MDBTable  style=\"font-size: 18px; text-align: center; position: relative;\">\r\n            <tbody>\r\n            <tr v-for=\"offer in booking_offers\" :key=\"offer.id\">\r\n\r\n              <td>\r\n\r\n                <MDBBtn\r\n                    class=\"provider-selection\"\r\n                    outline=\"info\"\r\n                    size=\"lg\"\r\n                    @click=\"getProviderInfo(offer.provider, offer, 'orange')\"\r\n                >\r\n\r\n                  {{offer.provider.yritys}} <br>\r\n                  <span style=\"font-size: 14px;\">{{ t('recipient_result_distance') }} {{offer.distance}} km</span><br>\r\n\r\n                </MDBBtn>\r\n\r\n\r\n\r\n                <MDBBadge\r\n                    v-if=\"offer.isNewOffer\"\r\n                    color=\"danger\"\r\n                    class=\"translate-middle p-3\"\r\n                    pill\r\n                    notification\r\n                >\r\n                  <span style=\" font-size: 14px; \">\r\n                    {{t('recipient_result_new')}} <br>{{offer.price}} eur\r\n                  </span>\r\n                </MDBBadge>\r\n                <MDBBadge\r\n                    v-else\r\n                    color=\"info\"\r\n                    class=\"translate-middle p-3\"\r\n                    pill\r\n                    notification\r\n                >\r\n                  <span style=\" font-size: 14px; \">\r\n                    {{offer.price}} eur\r\n                  </span>\r\n                </MDBBadge>\r\n\r\n              </td>\r\n\r\n            </tr>\r\n            </tbody>\r\n          </MDBTable>\r\n\r\n        </div>\r\n        <div v-else>\r\n          <h2 style=\"width: 100%; margin-top: 17px;\">{{ t('recipient_result_waiting_offers') }}</h2>\r\n        </div>\r\n\r\n      </MDBCol>\r\n\r\n      <MDBBtn block color=\"danger\" size=\"sm\" @click=\"removeOfferedBookings\">{{ t('recipient_result_remove_order') }}</MDBBtn>\r\n    </MDBRow>\r\n\r\n<!--    Booking offers {{booking_offers}}-->\r\n<!--  images {{images}}-->\r\n\r\n  </MDBContainer>\r\n\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable */\r\nimport {\r\n  MDBBtn, MDBContainer, MDBTable, MDBRow,\r\n  MDBBtnClose,\r\n  MDBCol, MDBTextarea,\r\n  MDBIcon,\r\n  MDBBadge,\r\n}from \"mdb-vue-ui-kit\";\r\nimport dt from '../components/controllers/datetime'\r\nimport recipientFinal from '../pages/RecipientPanelFinal'\r\nimport successMessage from '../components/notifications/successMessage'\r\nimport errorMessage from '../components/notifications/errorMessage'\r\nimport dist from '../components/controllers/distance'\r\nimport providerService from '../service/providers'\r\nimport offerService from '../service/offers'\r\nimport imageService from '../service/image'\r\nimport awsUploadService from '../service/awsUploads';\r\nimport promptPanel from '../components/PromptPanel'\r\nimport VueDatePicker from '@vuepic/vue-datepicker';\r\nimport '@/css/style.css';\r\nimport '@/css/notification.css'\r\n//import socket from \"@/socket\";\r\nimport {ref} from 'vue'\r\nimport recipientService from \"@/service/recipients\";\r\nimport { useI18n } from 'vue-i18n';\r\nimport socket from \"@/socket\";\r\nimport uploadService from \"@/service/image\";\r\nimport dateFormat from \"dateformat\";\r\n//import socket from \"@/socket\";\r\n\r\n\r\nexport default {\r\n  name: \"recipient-panel-result\",\r\n  props: {\r\n    test: Boolean,\r\n    chatusers: Array,\r\n    proRefSlides: Array,\r\n    selecteduser: null,\r\n    messages: Array,\r\n    loggedInUser: Object,\r\n    booking: null,\r\n    booking_offers: [],\r\n    images: Array,\r\n\r\n    bookingTime: null,\r\n    providers: Array,\r\n    confirmedBookings: Array,\r\n    line: String\r\n  },\r\n  data () {\r\n    const { t } = useI18n();\r\n    return {\r\n      t,\r\n      //image: [],\r\n      IMAGE_SIZE: 1000000,\r\n      offer: null,\r\n      chatUser: null,\r\n      //initializeChatRoom: {},\r\n      //chatRoomData: {},\r\n      count: 0,\r\n      //confirmPanel: null,\r\n      promptPanelContent: null,\r\n\r\n\r\n      wrong_SizeType_Message: null,\r\n\r\n      datetime: dt,\r\n      distance: dist,\r\n      selectedProvider: null,\r\n      proSlides: [],\r\n\r\n      isProviderSelected: false,\r\n      availability: \"\",\r\n      orderMessage: null,\r\n      isOrdered: false,\r\n      isEditDescription: false,\r\n      description: this.booking.description,\r\n\r\n      isEditDate: false,\r\n      bookingDate:  new Date(this.booking.created),        //null,\r\n      bookingDateToDisplay: this.booking.date,\r\n      //isAddImage: false,\r\n      isAddFirstImage: false,\r\n      isPressedAddlmage: false,\r\n      isAddImage: false,\r\n      isAddImagePanel: false,\r\n      isEditImage: false,\r\n\r\n\r\n      isUploadImage: false,\r\n      isUploaded: false,\r\n      isImageCreated: false,\r\n      isAddNewImage: false,\r\n      isEditPanel: false,\r\n\r\n      value: null,\r\n      imageIndex: 0,\r\n      file: null,\r\n      files: null,\r\n      isImageSelected: false,\r\n      isAdditionalImageSelected: false,\r\n      showImage: null,\r\n      tempImages: [],\r\n      imagesx: [],\r\n      imagesxxx: [],\r\n      room: \"\",\r\n      roomUserCount: 0,\r\n      filterResult: \"\",\r\n    }\r\n  },\r\n\r\n  components: {\r\n    successMessage,\r\n    errorMessage,\r\n    VueDatePicker,\r\n    promptPanel,\r\n    dist,\r\n    recipientFinal,\r\n    MDBBtn,\r\n    MDBBtnClose,\r\n    MDBContainer,\r\n    MDBTable,\r\n    MDBRow,\r\n    MDBCol,\r\n    MDBTextarea,\r\n    MDBIcon,\r\n    MDBBadge\r\n  },\r\n\r\n  methods: {\r\n    handlePromptNo () {\r\n      console.log(\"Said NO!\")\r\n      this.promptPanelContent = null;\r\n    },\r\n    handlePromptYes () {\r\n      console.log(\"Said YES!\");\r\n      this.promptPanelContent = null;\r\n      this.$emit(\"removeOfferedBooking\", this.booking, this.booking.offers);\r\n    },\r\n    editDate () {\r\n      this.isEditDate = true;\r\n\r\n\r\n    },\r\n    async handleInternalDate () {\r\n\r\n      if (this.bookingDate) {\r\n        console.log(\"new date: \" +  new Date(this.bookingDate).getTime());\r\n        this.bookingDateToDisplay = (this.bookingDate.getMonth() + 1) + \"/\" + this.bookingDate.getDate() + \"/\" +  this.bookingDate.getFullYear();\r\n        console.log(\"eeeeee \" + (this.bookingDate.getMonth() + 1) + \"/\" + this.bookingDate.getDate() + \"/\" +  this.bookingDate.getFullYear());\r\n        const dateInMs = new Date(this.bookingDate).getTime();\r\n        const renewCreated = new Date(this.bookingDate);\r\n        await recipientService.newDate(this.booking.id, {\r\n          year: this.bookingDate.getFullYear(),\r\n          month: this.bookingDate.getMonth(),\r\n          day: this.bookingDate.getDate(),\r\n          hours: this.bookingDate.getHours(),\r\n          minutes: this.bookingDate.getMinutes(),\r\n          date_ms: dateInMs\r\n        })\r\n\r\n        const updatedDate = {\r\n          year: this.bookingDate.getFullYear(),\r\n          month: this.bookingDate.getMonth(),\r\n          day: this.bookingDate.getDate(),\r\n          hours: this.bookingDate.getHours(),\r\n          minutes: this.bookingDate.getMinutes()\r\n        }\r\n        //this.isEditDate = false;\r\n        this.$emit(\"updateBookingDate\", this.booking, updatedDate);\r\n      }\r\n      //this.isEditDate = false;\r\n      console.log(\"Date is handled\")\r\n     // console.log(\"Selected date: \" + this.date)\r\n    },\r\n    handleFileChange(e, i) {\r\n      //this.$emit('input', e.target.client[0])\r\n      console.log(\"i in file change \" + i)\r\n      this.imageIndex = i;\r\n      try {\r\n\r\n        const files = e.target.files[0]\r\n        console.log('event target client ', e.target.files[0])\r\n\r\n        if (files) {\r\n          const tempImage = URL.createObjectURL(files)\r\n          this.tempImages.push(tempImage);\r\n          this.showImage = URL.createObjectURL(files)\r\n          this.file = e.target.files[0];\r\n          this.files = e.target.files[0];\r\n\r\n          this.isAddImage = true;\r\n          this.isEditImage = true;\r\n        }\r\n\r\n      } catch (err) {\r\n        console.log('Error:', err)\r\n      }\r\n\r\n      this.value = e.target.files[0]\r\n      // if (e.target.files[0]) {\r\n      //   this.isImageSelected = true;\r\n      // } else {\r\n      //   this.isImageSelected = false;\r\n      // }\r\n    },\r\n    pressedAddImage () {\r\n      this.isAddImage = false\r\n      this.isEditImage = false;\r\n      this.isEditPanel = false;\r\n      this.isPressedAddlmage = true;\r\n      this.isAddImagePanel = true;\r\n    },\r\n    async addImage () {\r\n\r\n\r\n    },\r\n    pressEditPanel (index) {\r\n      this.isEditImage = false;\r\n      this.value = null;\r\n      this.imageIndex = index;\r\n      this.isPressedAddlmage = false;\r\n      this.isEditPanel = true;\r\n      this.isAddImagePanel = false\r\n    },\r\n    closeEditPanel () {\r\n      this.isAddImagePanel = false\r\n      this.isEditPanel = false\r\n      this.isEditImage = false;\r\n      this.value = null;\r\n    },\r\n    closeAddPanel () {\r\n      this.isAddImagePanel = false\r\n      this.isPressedAddlmage = false;\r\n      this.value = null;\r\n    },\r\n    async uploadEditedImage (index, key) {\r\n\r\n      console.log(\"Edited image index is: \" + index);\r\n      console.log(\"Edited image key is: \" + key);\r\n\r\n      this.isEditPanel = false;\r\n      this.isEditImage = false;\r\n\r\n      const data = new FormData();\r\n      data.append('file', this.file, this.file.name)\r\n\r\n      console.log(\"Image id \" + this.images[index]._id)\r\n      const editImgType = this.file.type;\r\n      if (editImgType ===\"image/jpeg\" || editImgType === \"image/jpg\" || editImgType === \"image/png\" || editImgType === \"image/gif\") {\r\n        if (this.file.size <= this.IMAGE_SIZE) {\r\n          // const image = await imageService.updateImage(this.images[index]._id, data);\r\n          const editedClientImg = await awsUploadService.editClientImage(this.images[index]._id, key, data);\r\n          console.log(\"Edited client image key is: \" + editedClientImg.key);\r\n          if (editedClientImg) {\r\n            this.$emit(\"editImage\", index, this.images[index]._id, editedClientImg.key, this.showImage);\r\n            // this.images[this.imageIndex] = {_id: this.images[index]._id, blob: this.showImage}\r\n            //\r\n            // this.images.forEach(img => {\r\n            //   console.log(\"Image name \" + img._id)\r\n            // })\r\n\r\n            console.log(\"ORDRED in EDIT pikkus \" + this.booking.ordered.length)\r\n            let ordered = [];\r\n            this.booking.ordered.forEach(b => {\r\n              console.log(\"CVCVCV \" + b.user.username);\r\n              ordered = ordered.concat(b.user.id);\r\n            })\r\n\r\n            const reader = new FileReader();\r\n\r\n            if (this.file) {\r\n              reader.onload = (e) => {\r\n                const bytes = new Uint8Array(e.target.result);\r\n                console.log(\"FILES.... \" + this.files)\r\n\r\n                //const image_id = editedClientImg.id;\r\n\r\n                socket.emit(\"display edited booking image\", this.images[index]._id, bytes, this.booking.id, ordered)\r\n\r\n              };\r\n              reader.readAsArrayBuffer(this.files);\r\n            }\r\n\r\n            console.log(\"New image id is \" + this.images[index]._id)\r\n            this.imgId = this.images[index]._id;\r\n            this.file = null;\r\n\r\n            this.isEditPanel = false;\r\n\r\n\r\n            this.closeAddPanel();\r\n\r\n          }\r\n        } else {\r\n          this.isEditPanel = true;\r\n          this.closeAddPanel();\r\n          this.wrong_SizeType_Message = \"Väärä formaati. Kuva pitäisi olla jpeg, jpg, png tai gif formaatissa!\";\r\n          setTimeout(() => {\r\n            this.wrong_SizeType_Message = null;\r\n          }, 3000);\r\n        }\r\n\r\n      }else {\r\n        this.isEditPanel = true;\r\n        this.closeAddPanel();\r\n        this.wrong_SizeType_Message = \"Kuvan maximi koko on oltava 3 MB!\";\r\n        setTimeout(() => {\r\n          this.wrong_SizeType_Message = null;\r\n        }, 3000);\r\n      }\r\n\r\n\r\n    },\r\n\r\n    // Add booking image\r\n    async addAdditionalImage () {\r\n      this.value = null;\r\n      //this.file = null;\r\n      this.isAddImagePanel = false;\r\n      this.isAddImage = false;\r\n      this.isPressedAddlmage = false;\r\n      const data = new FormData();\r\n\r\n      data.append('file', this.file, this.file.name)\r\n      console.log(\"IMG size - \" + this.file.size);\r\n\r\n      console.log(\"Image type_ \" + this.file.type);\r\n\r\n      const type = this.file.type;\r\n      if (type ===\"image/jpeg\" || type === \"image/jpg\" || type === \"image/png\" || type === \"image/gif\") {\r\n        console.log(\"Pildi formaat on OK\")\r\n        if (this.file.size <= this.IMAGE_SIZE) {\r\n\r\n          const reader = new FileReader();\r\n\r\n          //const img = await imageService.create(data);\r\n          // {userId: this.booking.id},\r\n          const img = await awsUploadService.uploadClientImage(data);\r\n\r\n          if (img) {\r\n            console.log(\"AWS image id: \" + img.id);\r\n            console.log(\"AWS image key: \" + img.key);\r\n            //await recipientService.addImage(this.booking.id, img.imgCreated._id)\r\n            await recipientService.addImage(this.booking.id, img.id)\r\n\r\n            // const _image = {\r\n            //   _id: img.imgCreated._id,\r\n            //   blob: this.showImage\r\n            // }\r\n            const _image = {\r\n              _id: img.id,\r\n              key: img.key,\r\n              blob: this.showImage\r\n            }\r\n            this.$emit(\"addImage\", _image, this.booking.id);\r\n            console.log(\"ORDRED pikkus \" + this.booking.ordered.length)\r\n            let ordered = [];\r\n            this.booking.ordered.forEach(b => {\r\n              console.log(\"CVCVCV \" + b.user.username);\r\n              ordered = ordered.concat(b.user.id);\r\n            })\r\n\r\n            reader.onload = (e) => {\r\n              const bytes = new Uint8Array(e.target.result);\r\n              console.log(\"FILES IN UPLOAD.... \" + this.files)\r\n\r\n              // const image_bytes = {\r\n              //   id: img.imgCreated._id,\r\n              //   bytes: bytes\r\n              // }\r\n              const image_bytes = {\r\n                id: img._id,\r\n                bytes: bytes\r\n              }\r\n              socket.emit(\"display booking image\", image_bytes, this.booking.id, ordered)\r\n\r\n            };\r\n            reader.readAsArrayBuffer(this.files);\r\n            // image_id, bytes, this.booking.id, ordered\r\n            //socket.emit(\"display booking image\", new_image, this.booking.id, ordered)\r\n          }\r\n        } else {\r\n\r\n          console.log(\"Pildi suurus peab olema väiksem kui 1 MB\");\r\n          this.isAddImagePanel = true\r\n          this.isPressedAddlmage = true;\r\n          this.wrong_SizeType_Message = \"Kuvan maximi koko on 3 MB.\";\r\n\r\n          setTimeout(() => {\r\n            this.wrong_SizeType_Message = null;\r\n          }, 3000);\r\n        }\r\n      } else {\r\n        console.log(\"Pildi formaat on FAKE\")\r\n        this.wrong_SizeType_Message = \"Väärä formaati. Kuva pitäisi olla jpeg, jpg, png tai gif formaatissa!\";\r\n        setTimeout(() => {\r\n          this.wrong_SizeType_Message = null;\r\n        }, 3000);\r\n      }\r\n\r\n    },\r\n    async removeImg (id, key) {\r\n      //this.value = null;\r\n      if (!this.images[id].blob) {\r\n        console.log(\"removed image is blob\")\r\n\r\n      }\r\n\r\n      console.log(\"removable image id is \" + this.images[id]._id)\r\n      console.log(\"Removing image by key: \" + key);\r\n      await recipientService.removeImage(this.booking.id, this.images[id]._id);\r\n      //await imageService.remove(this.images[id]._id, this.booking.id);\r\n      await awsUploadService.deleteImage(this.images[id]._id, key);\r\n      let bIDs = [];\r\n\r\n      this.booking.ordered.forEach(bo => {\r\n        bIDs = bIDs.concat(bo.user.id);\r\n      })\r\n\r\n      socket.emit(\"stop display booking image\", this.images[id]._id, this.booking, bIDs);\r\n\r\n      this.$emit(\"removeImage\", id);\r\n\r\n      this.isEditPanel = false;\r\n\r\n    },\r\n    getDistance () {\r\n      //console.log(\"Distance +++++??? \" + dist.distance())\r\n      console.log(\"sss \" + dist.test())\r\n    },\r\n    selectUser (user) {\r\n      this.$emit('select', user);\r\n    },\r\n    noSelectUser () {\r\n      this.$emit(\"noSelect\");\r\n    },\r\n    onMessage (content, date) {\r\n      this.$emit(\"message\", content, date);\r\n    },\r\n    // initializeChat () {\r\n    //   this.$emit(\"initializeChat\", {\r\n    //     initChatRoom: this.initializeChatRoom,\r\n    //     chatData: this.chatRoomData\r\n    //   });\r\n    // },\r\n    handleJoinChatPanel () {\r\n      console.log(\"Final info in result pressed \");\r\n\r\n      this.$emit(\"joinChatPanel\", this.room);\r\n    },\r\n\r\n    async pressAddFirstImage () {\r\n      this.isAddFirstImage = true;\r\n      this.imageIndex = 0;\r\n    },\r\n\r\n    pressAdditionalImage (index) {\r\n      //this.imageIndex = this.booking[0].image.length - 1;\r\n      this.isAddImage = true;\r\n      this.imageIndex = this.images.length;\r\n      //this.imageIndex = \"new\";\r\n      //this.isAddNewImage = true;\r\n\r\n      console.log(\"Images index = \" + this.imageIndex);\r\n      this.isAddImage = true;\r\n    },\r\n\r\n\r\n\r\n    // async uploadFirstImage (index) {\r\n    //   const data = new FormData();\r\n    //   this.isUploadImage = true;\r\n    //   this.imageIndex = 0;\r\n    //   //this.isUploaded = true;\r\n    //   //isUploaded && imageIndex === i\r\n    //   data.append('file', this.file, this.file.name)\r\n    //   console.log(\"IMG size - \" + this.file.size);\r\n    //   //const img = await imageService.create(data);\r\n    //   //console.log(\"ABOUT: \" + img);\r\n    //   //await recipientService.addImage(this.booking.id, img.imgCreated._id);\r\n    //\r\n    //   // if (img) {\r\n    //   //   this.file = null;\r\n    //   //\r\n    //   //   const image = {\r\n    //   //     _id: img.imgCreated._id,\r\n    //   //     image: img.imgCreated.image,\r\n    //   //     name: img.imgCreated.name\r\n    //   //   }\r\n    //   //\r\n    //   //   this.$emit(\"addImage\", image);\r\n    //   //\r\n    //   //   this.imageIndex = 0;\r\n    //   //\r\n    //   //   this.isImageSelected = false;\r\n    //   //   this.isUploaded = true;\r\n    //   //\r\n    //   //\r\n    //   // }\r\n    //\r\n    //\r\n    //\r\n    // },\r\n\r\n    // Ei toimi ilmselt!!!\r\n    async uploadAdditionalImage () {\r\n      this.isAdditionalImageSelected = false;\r\n      this.isAddImage = false;\r\n      this.value = null;\r\n      //this.isEditImage = false;\r\n      //this.imageIndex = null;\r\n      //this.imageIndex = this.booking[0].image.length - 1;\r\n      console.log(\"Image index index \" + this.imageIndex)\r\n      const data = new FormData();\r\n\r\n      this.isUploadImage = true;\r\n      //this.imageIndex = 0;\r\n      this.isUploaded = true;\r\n      //isUploaded && imageIndex === i\r\n      data.append('file', this.file, this.file.name)\r\n      const img = await imageService.create(data);\r\n      await recipientService.addImage(this.booking.id, img.imgCreated._id);\r\n\r\n      if (img) {\r\n        //this.imgId = img.imgCreated._id;\r\n        this.file = null;\r\n        //this.showImage = null;\r\n        //this.value = null;\r\n\r\n        //console.log(\"xxx \" + img.imgCreated._id)\r\n        //console.log(\"Image itself \" + img.imgCreated.image)\r\n        //await recipientService.addImage(this.booking[0].id, img.imgCreated._id);\r\n        const image = {\r\n          _id: img.imgCreated._id,\r\n          image: img.imgCreated.image,\r\n          name: img.imgCreated.name,\r\n          blob: this.showImage,\r\n        }\r\n\r\n        //this.imagesxxx.push(image);\r\n\r\n        this.$emit(\"addImage\", image);\r\n\r\n        //this.images.push(image);\r\n\r\n        // const booking = await recipientService.getBookingById(this.booking[0].id);\r\n        //\r\n        // setTimeout( async () => {\r\n        //   booking[0].image.forEach(im=> {\r\n        //     this.images.push(im)\r\n        //   })\r\n        //   //this.images = this.images.concat(booking[0].image)\r\n        // }, 500)\r\n\r\n\r\n        /*const booking = await recipientService.getBookingById(this.booking[0].id);\r\n\r\n        this.imagesxxx = booking[0].image\r\n*/\r\n\r\n        this.isImageSelected = false;\r\n        this.isUploaded = true;\r\n\r\n\r\n\r\n        //this.imageIndex = null;\r\n      }\r\n\r\n\r\n\r\n    },\r\n\r\n    pressedEditDescription () {\r\n      this.isEditDescription = true\r\n      console.log(\"Descripton: \" + this.description);\r\n    },\r\n    saveEditedDescription () {\r\n      this.isEditDescription = false;\r\n      const description = {\r\n        description: this.description\r\n      }\r\n      this.$emit(\"editDescription\", this.description);\r\n      recipientService.editDescription(this.booking.id, description)\r\n      //this.description = \"\";\r\n    },\r\n    cancelEditDescription () {\r\n      console.log(\"Is here something happening??\")\r\n    },\r\n    providerGetBooking (id, booking) {\r\n      //const id = this.provider.user.id;\r\n      console.log(\"Sended to user id... \" + id)\r\n      socket.emit(\"accept provider\", {\r\n        id,\r\n        booking: booking\r\n      })\r\n    },\r\n\r\n    // For just confirm provider\r\n    async orderSuccess (prov) {\r\n      console.log(\"Include offers? \" + this.booking.isIncludeOffers)\r\n      if (this.booking.isIncludeOffers) {\r\n        this.canselResult();\r\n\r\n        // TODO teised offerid maha võtta\r\n\r\n        console.log(\"## bef \" + this.booking.ordered.length)\r\n\r\n\r\n\r\n        this.$emit(\"offer_confirmed\", this.booking , prov.id);\r\n        console.log(\"## aft \" + this.booking.ordered.length)\r\n        const pro = await providerService.getProvByProvId(prov.id);\r\n\r\n        console.log(\"Offer confirmation user id \" + pro.user.id);\r\n\r\n        const providerID = {\r\n          providerID: this.selectedProvider.id\r\n        };\r\n\r\n        await recipientService.updateRecipient(this.booking.id, {status: \"confirmed\"});\r\n\r\n        //const res = await recipientService.getBookingById(this.booking.id);\r\n\r\n        const recipientId = this.booking.id;\r\n\r\n\r\n        console.log(\"Username here???? \" + this.booking.user.username);\r\n\r\n\r\n        let bookingOffers = [];\r\n        let offerMakers = [];\r\n        let ampIDs = [];\r\n        let restProsNoOfferDone = [];\r\n\r\n        if (this.booking) {\r\n          bookingOffers = this.booking.offers;\r\n          const allMatchedPros = this.booking.ordered;\r\n          for (let id in allMatchedPros) {\r\n\r\n            if (allMatchedPros[id].user.id !== pro.user.id) {\r\n\r\n\r\n              ampIDs.push(allMatchedPros[id])\r\n\r\n              // console.log(\"Removing this pro from DB: \" + allMatchedPros[id].user.id)\r\n              // await providerService.removeProviderBooking(allMatchedPros[id].id, this.booking.id);\r\n              // await recipientService.removeProviderData(this.booking.id, allMatchedPros[id].id);\r\n\r\n\r\n\r\n            }\r\n          }\r\n          for (let i in bookingOffers) {\r\n            if (bookingOffers[i].room !== this.room) {\r\n              await offerService.removeBookingOffer(bookingOffers[i].id, this.booking.id);\r\n            }\r\n          }\r\n        }\r\n\r\n        let madeOffer = {};\r\n\r\n        for (let sender in bookingOffers) {\r\n\r\n          console.log(\"Offer maker id heeeeeere \" + bookingOffers[sender].provider.user.id);\r\n\r\n\r\n\r\n          if (bookingOffers[sender].provider.user.id !== pro.user.id) {\r\n            //offerMakers = offerMakers.concat(bookingOffers[sender].provider.user);\r\n\r\n            offerMakers = offerMakers.concat(bookingOffers[sender]);\r\n\r\n            //offerMakers = offerMakers.concat(bookingOffers[sender]);\r\n            console.log(\"eeeeeeeeeeeeeeeeeeeee \" + bookingOffers[sender].provider.user.id)\r\n\r\n            await providerService.removeProviderBooking(bookingOffers[sender].provider.id, this.booking.id);\r\n            await recipientService.removeProviderData(this.booking.id, bookingOffers[sender].provider.id);\r\n\r\n          } else {\r\n            madeOffer = bookingOffers[sender];\r\n          }\r\n\r\n        }\r\n        console.log(\"offerMakers length \" + offerMakers.length)\r\n        ampIDs.forEach(ai => {\r\n\r\n          if (!offerMakers.some(om => om.provider.id === ai.id)) {\r\n            restProsNoOfferDone.push(ai);\r\n          }\r\n          // offerMakers.forEach(om => {\r\n          //   if (ai !== om.provider.user.id) {\r\n          //     restProsNoOfferDone.push(ai);\r\n          //   }\r\n          // })\r\n        })\r\n\r\n        console.log(\"ampIDs \" + ampIDs.map(mi => mi.id))\r\n        console.log(\"REST OF PROS \" + restProsNoOfferDone.map(ma => ma));\r\n\r\n        for (let id in restProsNoOfferDone) {\r\n          console.log(\"Test id \" + restProsNoOfferDone[id].id)\r\n          await providerService.removeProviderBooking(restProsNoOfferDone[id].id, this.booking.id);\r\n          await recipientService.removeProviderData(this.booking.id, restProsNoOfferDone[id].id);\r\n        }\r\n\r\n        // TODO kui tellija tilab yrityse siis tellija peab teiste juures kustuma!! Ordered juures peavad kustuma teised id:d\r\n\r\n        socket.emit(\"confirm offer\", pro.user.id, this.booking, madeOffer);\r\n\r\n\r\n        socket.emit(\"deal done notification\", offerMakers, restProsNoOfferDone, this.booking, madeOffer);\r\n\r\n      } else {\r\n        this.isProviderSelected = false;\r\n\r\n        console.log(\"No booking with offers here!\")\r\n        // console.log(\"Provider id \" + prov.id)\r\n        // console.log(\"Recpient id: \" + this.booking.id);\r\n        //\r\n        // const providerID = {\r\n        //   providerID: this.selectedProvider.id\r\n        // };\r\n        //\r\n        // await recipientService.addProviderData(this.booking.id, this.selectedProvider.id);\r\n        //\r\n        // const createBookingStatus = await recipientService.updateRecipient(this.booking.id, {status: \"notSeen\"});\r\n        //\r\n        // const recipientId = this.booking.id;\r\n        //\r\n        // const booking = await providerService.addProviderBooking(prov.id, recipientId);\r\n        // if (booking === \"Recipient is added!\") {\r\n        //   const pro_data = {\r\n        //     status: \"\",\r\n        //     userID: prov.user.id,\r\n        //     name: prov.user.username,\r\n        //     room: this.room\r\n        //   };\r\n        //\r\n        //   console.log(\"#### HERE ##### \" + prov.user.username);\r\n        //   this.$emit('client:confirmed_provider', prov.id, this.booking, pro_data);\r\n        //\r\n        //   const id = prov.user.id;\r\n        //\r\n        //   socket.emit(\"accept provider\", {\r\n        //     id,\r\n        //     booking: this.booking,\r\n        //   })\r\n        //\r\n        // }\r\n        //\r\n        // this.handleJoinChatPanel();\r\n      }\r\n\r\n    },\r\n    // For price offers\r\n    async orderSuccess_standing (prov) {\r\n      this.isProviderSelected = false;\r\n\r\n      console.log(\"Provider id \" + prov.id)\r\n      console.log(\"Recpient id: \" + this.booking.id);\r\n\r\n      this.canselResult();\r\n\r\n      this.$emit(\"offer_confirmed\", this.booking);\r\n      const providerID = {\r\n        providerID: this.selectedProvider.id\r\n      };\r\n\r\n\r\n      //await recipientService.addProviderID(this.booking[0].id, providerID);\r\n\r\n      //await recipientService.addProviderData(this.booking.id, this.selectedProvider.id);\r\n\r\n      //socket.emit(\"send booking notification\", this.booking[0], this.selectedProvider.id);\r\n\r\n      //const providerName =\r\n      //const status = \"notSeen\";\r\n      const createBookingStatus = await recipientService.updateRecipient(this.booking.id, {status: \"confirmed\"});\r\n\r\n\r\n\r\n      const recipientId = this.booking.id;\r\n\r\n      //--------------- About need delete selected and confirmed provider ------------\r\n\r\n      //const booking = await providerServise.updateProvider(provId, {booking: [this.booking.id]})\r\n      // To ordered\r\n      //const booking = await providerService.addProviderBooking(prov.id, recipientId);\r\n      // if (booking === \"Recipient is added!\") {\r\n      //   const chatUserDataNavbar = {\r\n      //     status: \"\",\r\n      //     userID: prov.user.id,\r\n      //     name: prov.user.username,\r\n      //     room: this.room\r\n      //   };\r\n      //   this.$emit('client:confirmed_provider', prov.id, this.booking, chatUserDataNavbar);\r\n      //   //this.$emit('set:order:to:send', prov.id, this.booking, chatUserDataNavbar)\r\n      //\r\n      //   this.roomToDb(prov.id, {userID: this.booking.user.id, client: this.booking.user.username, room: this.room});\r\n      //   //this.providerGetBooking(prov.user.id, booking);\r\n      //   const id = prov.user.id;\r\n      //\r\n      //\r\n      //\r\n      // }\r\n\r\n      // socket.emit(\"accept provider\", {\r\n      //   id,\r\n      //   booking: this.booking,\r\n      // })\r\n\r\n      //this.orderMessage = \"Tilaus on lähetetty vahvistettavaksi! Kiitos!\";\r\n\r\n\r\n\r\n      // this.isOrdered = true;\r\n      //\r\n      // setTimeout(() => {\r\n      //   this.orderMessage = null;\r\n      // }, 3000)\r\n\r\n      //this.initializeChat();\r\n\r\n    },\r\n    async getProviderInfo (provider, offer, marker) {\r\n      this.proSlides = [];\r\n      this.offer = offer;\r\n      this.selectedProvider = provider\r\n      if (this.booking.isIncludeOffers) {\r\n        if (offer.isNewOffer) {\r\n          this.$emit(\"editBookingOfferStatus\", offer)\r\n        }\r\n      }\r\n      provider.reference.forEach(slide => {\r\n        this.proSlides = [\r\n            ...this.proSlides,\r\n            slide\r\n        ]\r\n      })\r\n      // provider.reference.forEach(slide => {\r\n      //   this.proSlides = [\r\n      //       ...this.proSlides,\r\n      //     {\r\n      //       id: slide.id,\r\n      //       size: '1400-933',\r\n      //       src: require(`/server/uploads/pro/${slide.name}`),\r\n      //       thumb: require(`/server/uploads/pro/${slide.name}`),\r\n      //       subHtml: `<div class=\"lightGallery-captions\">\r\n      //           <h2>Terve</h2>\r\n      //\r\n      //       </div>\"`\r\n      //     }\r\n      //   ]\r\n      // })\r\n      this.availability = marker;\r\n      this.isProviderSelected = true;\r\n\r\n\r\n      let room = \"\";\r\n      let username = \"\";\r\n\r\n      if (this.chatUser) {\r\n        username = this.chatUser.username;\r\n        room = provider.yritys + username;\r\n        this.room = room;\r\n      }\r\n\r\n    },\r\n    async roomToDb (id, room) {\r\n      await providerService.addRoom(id, room)\r\n    },\r\n    addFilter () {\r\n      const filterListedProviders = document.getElementById(\"listOfProviders\")\r\n\r\n      filterListedProviders.addEventListener(\"change\", (event) => {\r\n        console.log(\"Filtered provider: \" + event.target.value);\r\n        this.$emit(\"filter_provider\", event.target.value);\r\n\r\n      })\r\n    },\r\n    handleCanselFinal (result) {\r\n      this.isProviderSelected = result;\r\n    },\r\n    canselResult () {\r\n      this.$emit('cansel:result', false)\r\n    },\r\n    async removeOfferedBookings () {\r\n\r\n      if (confirm(\"Oletko varmaa, että haluat poistaa tilauksen!?\") === true) {\r\n\r\n        this.$emit(\"removeOfferedBooking\", this.booking, this.booking.offers);\r\n\r\n      } else {\r\n        console.log(\"You canceled!\")\r\n      }\r\n    },\r\n  },\r\n\r\n  async mounted() {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedAppUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      this.chatUser = user;\r\n\r\n    }\r\n\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.edit-panel {\r\n  border: solid grey;\r\n  padding: 20px;\r\n  margin: 20px 0 20px 0;\r\n}\r\n.add-panel {\r\n  border: solid grey;\r\n  padding: 20px;\r\n  margin: 20px 0 20px 0;\r\n}\r\n.add-additional-panel {\r\n  border: solid blue;\r\n}\r\n.btn {\r\n  padding: 20px;\r\n  margin: 20px 0 20px 0;\r\n}\r\n.close-btn {\r\n  float: right;\r\n  padding: 20px;\r\n}\r\nimg.loading {\r\n  width: 100%;\r\n  height: 400px;\r\n  background: transparent url(https://upload.wikimedia.org/wikipedia/commons/b/b1/Loading_icon.gif) no-repeat scroll center center;\r\n}\r\n\r\ninput[type=\"file\"] {\r\n  display: none;\r\n}\r\n.custom-file-upload {\r\n  width: 100%;\r\n\r\n  color: white;\r\n  font-size: 18px;\r\n  background-color: #87958e;\r\n  border: 1px solid #ccc;\r\n  display: inline-block;\r\n  padding: 20px 12px;\r\n  margin-bottom: 0;\r\n  cursor: pointer;\r\n}\r\n.imageSection {\r\n  margin-bottom: 20px;\r\n}\r\n.provider-selection {\r\n  width: 300px;\r\n  padding: 20px;\r\n  background-color: darkslategrey;\r\n  border: solid #4c4949;\r\n  color: #f0eeee;\r\n  font-size: 150%;\r\n}\r\n\r\n@media only screen and (max-width: 1000px) {\r\n  .provider-selection {\r\n    width: 250px;\r\n    padding: 20px;\r\n    background-color: darkslategrey;\r\n    border: solid #4c4949;\r\n    color: #f0eeee;\r\n    font-size: 150%;\r\n  }\r\n}\r\n\r\nselect option {\r\n  border: solid red;\r\n}\r\n.expired_warning {\r\n  color: palevioletred;\r\n}\r\n.expired_date {\r\n  color: palevioletred;\r\n  border: 1px solid #F05C5CFF;\r\n  margin-top: 17px;\r\n  padding: 7px;\r\n}\r\n\r\n.confirmation {\r\n  width: 80%;\r\n  height: 200px;\r\n  margin: auto;\r\n  color: white;\r\n  background: #a5a1a1;\r\n  font-size: 20px;\r\n  border: solid #6e716e;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  /*margin-bottom: 10px auto;*/\r\n}\r\n\r\n</style>","import { render } from \"./RecipientPanelResult.vue?vue&type=template&id=07b7d83d&scoped=true\"\nimport script from \"./RecipientPanelResult.vue?vue&type=script&lang=js\"\nexport * from \"./RecipientPanelResult.vue?vue&type=script&lang=js\"\n\nimport \"./RecipientPanelResult.vue?vue&type=style&index=0&id=07b7d83d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-07b7d83d\"]])\n\nexport default __exports__","const ErrorMessage = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n\n        <div className=\"error\">\n            {message}\n            <img className={'errorImg'} alt={'error'} src={require('@/assets/error.png')}/>\n\n        </div>\n\n    )\n}\n\nexport default ErrorMessage","\nconst compare = (rec, prov) => {\n    const receiverDate = new Date(rec.y, rec.m, rec.d, rec.hour, rec.min);\n    const providerDate = new Date(prov.y, prov.m, prov.d, prov.hour, prov.min)\n    return providerDate >= receiverDate;\n}\n\nconst providerMatchingForClient = (re, pFrom, pTo) => {\n    //const rDate = new Date(re.y, re.m, re.d, re.hour, re.min);\n    const pFromDate = new Date(pFrom.y, pFrom.m, pFrom.d, pFrom.hour, pFrom.min);\n    const pToDate = new Date(pTo.y, pTo.m, pTo.d, pTo.hour, pTo.min);\n    return re >= pFromDate && re < pToDate;\n}\nexport default { compare, providerMatchingForClient }"],"names":["style","class","key","for","value","$data","isProviderSelected","_createBlock","_component_MDBContainer","default","_withCtx","_createVNode","_component_recipientFinal","$options","handleCanselFinal","orderSuccess","proRefSlides","$props","test","provider","selectedProvider","offer","proSlides","_ctx","slides","room","available","availability","booking","chatusers","initialize_chat","handleInitializeChat","selecteduser","messages","onMessage","onSelect","selectUser","onNoSelect","noSelectUser","onJoin_chat_panel","handleJoinChatPanel","_","_createElementVNode","_hoisted_1","_component_MDBBtnClose","white","onClick","canselResult","_component_prompt_panel","promptPanelContent","handlePromptNo","handlePromptYes","_hoisted_2","_toDisplayString","t","line","created_ms","Date","getTime","offers","length","_createElementBlock","_hoisted_3","_createCommentVNode","_component_successMessage","message","orderMessage","_component_MDBRow","_component_MDBCol","_component_MDBTable","borderless","isEditDescription","_hoisted_5","_component_MDBTextarea","label","rows","modelValue","description","_cache","$event","col","_hoisted_6","_hoisted_4","_hoisted_7","_hoisted_9","_component_MDBBtn","outline","block","size","saveEditedDescription","_createTextVNode","_hoisted_8","pressedEditDescription","isEditDate","_hoisted_11","_normalizeClass","expired_date","bookingDateToDisplay","created","getHours","getMinutes","_component_VueDatePicker","dark","bookingDate","placeholder","onInternalModelChange","handleInternalDate","state","isNoDate","_hoisted_10","editDate","expired_warning","_hoisted_12","_Fragment","_renderList","images","item","i","src","blob","imageUrl","alt","id","_hoisted_13","isEditPanel","pressEditPanel","imageIndex","_hoisted_14","_component_error_message","wrong_SizeType_Message","closeEditPanel","type","onChange","handleFileChange","_hoisted_15","_hoisted_16","_hoisted_17","name","_hoisted_18","isEditImage","color","uploadEditedImage","removeImg","showImage","_hoisted_19","isPressedAddlmage","pressedAddImage","isAddImagePanel","_hoisted_20","closeAddPanel","_hoisted_21","_hoisted_22","_hoisted_23","isAddImage","addAdditionalImage","_hoisted_24","lg","booking_offers","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","filterResult","args","addFilter","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","getProviderInfo","yritys","_hoisted_33","distance","isNewOffer","_component_MDBBadge","pill","notification","_hoisted_34","price","_hoisted_35","_hoisted_36","_hoisted_37","removeOfferedBookings","props","Boolean","Array","loggedInUser","Object","bookingTime","providers","confirmedBookings","String","data","useI18n","IMAGE_SIZE","chatUser","count","datetime","dt","dist","isOrdered","this","date","isAddFirstImage","isUploadImage","isUploaded","isImageCreated","isAddNewImage","file","files","isImageSelected","isAdditionalImageSelected","tempImages","imagesx","imagesxxx","roomUserCount","components","successMessage","errorMessage","VueDatePicker","promptPanel","recipientFinal","MDBBtn","MDBBtnClose","MDBContainer","MDBTable","MDBRow","MDBCol","MDBTextarea","MDBIcon","MDBBadge","methods","console","log","$emit","getMonth","getDate","getFullYear","dateInMs","recipientService","newDate","year","month","day","hours","minutes","date_ms","updatedDate","e","target","tempImage","URL","createObjectURL","push","err","addImage","index","FormData","append","_id","editImgType","editedClientImg","awsUploadService","editClientImage","ordered","forEach","b","user","username","concat","reader","FileReader","onload","bytes","Uint8Array","result","socket","emit","readAsArrayBuffer","imgId","setTimeout","img","uploadClientImage","_image","image_bytes","removeImage","deleteImage","bIDs","bo","getDistance","content","pressAddFirstImage","pressAdditionalImage","uploadAdditionalImage","imageService","create","imgCreated","image","editDescription","cancelEditDescription","providerGetBooking","prov","isIncludeOffers","pro","providerService","getProvByProvId","updateRecipient","status","bookingOffers","offerMakers","ampIDs","restProsNoOfferDone","allMatchedPros","offerService","removeBookingOffer","madeOffer","sender","removeProviderBooking","removeProviderData","ai","some","om","map","mi","ma","orderSuccess_standing","marker","reference","slide","roomToDb","addRoom","filterListedProviders","document","getElementById","addEventListener","event","confirm","mounted","loggedUserJSON","window","localStorage","getItem","JSON","parse","__exports__","render","ErrorMessage","require","compare","rec","receiverDate","y","m","d","hour","min","providerDate","providerMatchingForClient","re","pFrom","pTo","pFromDate","pToDate"],"sourceRoot":""}