{"version":3,"file":"js/791.c2d24ad4.js","mappings":"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","sources":["webpack://prore-mongo/./src/pages/ProviderPublic.vue","webpack://prore-mongo/./src/pages/ProviderPublic.vue?dc7a"],"sourcesContent":["<template>\n  <div>\n\n    <MDBContainer\n        style=\"position: relative; z-index: 1;\n        opacity: 0.8;\n        margin-top: 60px;\"\n    >\n\n      <div id=\"test\" style=\"background-color:white;\">\n        <MDBInput\n            label=\"Anna osoitteesi\"\n            v-model=\"address\"\n            id=\"autocomplite\"\n            size=\"lg\"\n            wrapperClass=\"mb-4\"/>\n      </div>\n\n\n      <div class=\"ui large segment form\">\n\n        <div class=\"field\">\n          <select id=\"listOfProfessions\" v-model=\"prof\" >\n            <option disabled value=\"\">Valitse ammattisi</option>\n            <option value=\"Putkimies\">Putkimies</option>\n            <option value=\"Sähkömies\">Sähkömies</option>\n            <option value=\"Siivooja\">Siivooja</option>\n          </select>\n        </div>\n\n        <div :class=\"{hideDistSelectPanel: !isDistSelection}\">\n          <select id=\"distanceOfClient\" v-model=\"distBtw\">\n            <option disabled value=\"1\">1 kilometriä ympärilläsi</option>\n            <option value=\"10\">10 kilometriä ympärilläsi</option>\n            <option value=\"20\">20 kilometriä ympärilläsi</option>\n            <option value=\"30\">30 kilometriä ympärilläsi</option>\n            <option value=\"40\">40 kilometriä ympärilläsi</option>\n            <option value=\"50\">50 kilometriä ympärilläsi</option>\n            <option value=\"60\">60 kilometriä ympärilläsi</option>\n            <option value=\"70\">70 kilometriä ympärilläsi</option>\n            <option value=\"80\">80 kilometriä ympärilläsi</option>\n            <option value=\"90\">90 kilometriä ympärilläsi</option>\n            <option value=\"100\">100 kilometriä ympärilläsi</option>\n          </select>\n        </div>\n\n\n        <h3\n            :class=\"{activeClients: !isActiveClients}\"\n        >\n          {{countOfSelectedClients + \" \" + client}}  tarvitsee palveluasi\n        </h3>\n        <h3\n            v-if=\"prof\"\n            :class=\"{noClients: isActiveClients}\"\n        >\n          Ei asiakkaita vielä!\n        </h3>\n\n      </div>\n\n\n\n      <MDBBtn color=\"dark\"\n              size=\"lg\"\n              block\n              @click=\"provide\"\n              style=\"position: relative; z-index:1; opacity: 1.2;\"\n      >\n        Tarjoa omaa palvelua\n      </MDBBtn>\n\n\n      <MDBBtn color=\"danger\"\n              size=\"lg\"\n              block\n              @click=\"$router.push('/')\"\n              style=\"position: relative; z-index:1; opacity: 1.0;\"\n      >\n        Poistu\n      </MDBBtn>\n\n\n    </MDBContainer>\n    <h3 style=\"margin-top: 50px;\">Kartta ladataan...</h3>\n    <div class=\"spinner-border\" role=\"status\">\n      <span class=\"visually-hidden\">Loading...</span>\n    </div>\n    <section id=\"map\"></section>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\n/*global google*/\nimport axios from 'axios'\nimport recipientService from '../service/recipients'\nimport providerService from '../service/providers'\nimport {\n  MDBContainer,\n  MDBInput,\n  MDBBtn\n} from \"mdb-vue-ui-kit\";\nimport gMap from '../components/location'\nexport default {\n  name: \"provider-public\",\n  props: {\n    userIsProvider: Object,\n    isProviderLoggedIn: Boolean\n  },\n  components: {\n    MDBContainer,\n    MDBInput,\n    MDBBtn\n  },\n  data () {\n    return {\n      prof: \"\",\n      userId: null,\n      providerId: null,\n      address: null,\n      myLat: null,\n      mylng: null,\n      countOfSelectedClients: 0,\n      isActiveClients: false,\n      client: \"\",\n      isDistSelection: false,\n      distBtw: 1,\n      currentProfessional: \"\"\n\n    }\n  },\n  mounted () {\n    const loggedUserJSON = window.localStorage.getItem('loggedAppUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      this.userId = user.id\n      //console.log(\"User token: \" + this.loggedUser.token)\n    }\n\n    //console.log(\"Is provider in \" + this.isProviderLoggedIn)\n\n    //console.log(\"User id in providers \" + this.userId)\n\n\n\n    //this.setProviderId()\n\n    const myMarker = new google.maps.Marker({\n      icon: 'http://maps.google.com/mapfiles/ms/icons/green-dot.png'\n    })\n\n    this.userCurrentLocation();\n\n    const selectProfession = document.getElementById(\"listOfProfessions\")\n\n    selectProfession.addEventListener(\"change\", (event) => {\n      //alert(\"Profession selected: \" + event.target.value)\n      this.isDistSelection = true;\n      this.currentProfessional = event.target.value;\n      this.showClientLocationOnTheMap(event.target.value, this.distBtw)\n    })\n\n    const selectDistanceBetween = document.getElementById(\"distanceOfClient\");\n\n    selectDistanceBetween.addEventListener(\"change\", (event) => {\n      this.distBtw = parseFloat(event.target.value);\n      //alert(\"Profession selected: \" + event.target.value)\n      console.log(\"Current distance in beginning \" + this.distBtw)\n      this.showClientLocationOnTheMap(this.currentProfessional, this.distBtw);\n      //this.showClient\n    })\n\n    const input = document.getElementById(\"autocomplite\");\n\n    const center = { lat: 50.064192, lng: -130.605469 };\n    const defaultBounds = {\n      north: center.lat + 0.1,\n      south: center.lat - 0.1,\n      east: center.lng + 0.1,\n      west: center.lng - 0.1,\n    };\n    const options = {\n      bounds: defaultBounds,\n      componentRestrictions: { country: \"fi\" },\n      fields: [\"address_components\", \"geometry\", \"icon\", \"name\", \"formatted_address\"],\n      strictBounds: false,\n      //types: [\"establishment\"],\n    };\n    const autocomplete = new google.maps.places.Autocomplete(input, options);\n\n    autocomplete.addListener(\"place_changed\", () => {\n      let place = autocomplete.getPlace()\n      this.myLat = place.geometry.location.lat();\n      this.myLng = place.geometry.location.lng();\n\n      this.getAddressFrom(place.geometry.location.lat(), place.geometry.location.lng())\n      this.address = place.formatted_address\n      console.log(place)\n    });\n\n\n\n\n    // let map = new google.maps.Map(document.getElementById(\"map\"), {\n    //   zoom: 13,\n    //   center: new google.maps.LatLng(this.myLat, this.myLng),\n    //   mapTypeId: google.maps.MapTypeId.ROADMAP,\n    //   accuracy: 50,\n    //\n    // });\n\n  },\n  methods: {\n    provide (){\n      this.$router.push('/provider-form')\n      // if (!this.isProviderLoggedIn) {\n      //   this.$router.push('/provider-form')\n      // } else {\n      //   this.$router.push('/provider-panel')\n      // }\n\n      // if (this.userId === this.providerId) {\n      //   this.$router.push('/provider-form')\n      // } else {\n      //   this.$router.push('/provider-panel')\n      // }\n    },\n    userCurrentLocation () {\n      // const watchId = navigator.geolocation.watchPosition(position => {\n      //   const { latitude, longitude } = position.coords;\n      //   // Show a map centered at latitude / longitude.\n      //   console.log(\"Position lat: \" + position.coords.latitude)\n      //   console.log(\"Position lng: \" + position.coords.longitude)\n      //   this.showUserLocationOnTheMap(position.coords.latitude, position.coords.longitude)\n      // });\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(position => {\n          const { latitude, longitude } = position.coords;\n          // Show a map centered at latitude / longitude.\n          this.myLat = latitude\n          this.myLng = longitude\n\n          this.showUserLocationOnTheMap (latitude, longitude)\n        });\n      }\n\n    },\n\n    pinSymbol(color) {\n      return {\n        path: 'M 0,0 C -2,-20 -10,-22 -10,-30 A 10,10 0 1,1 10,-30 C 10,-22 2,-20 0,0 z',\n        fillColor: color,\n        fillOpacity: 1,\n        strokeColor: '#000',\n        strokeWeight: 2,\n        scale: 1\n      };\n    },\n\n    showUserLocationOnTheMap (latitude, longitude) {\n      let map = new google.maps.Map(document.getElementById(\"map\"), {\n        zoom: 13,\n        center: new google.maps.LatLng(latitude, longitude),\n        mapTypeId: google.maps.MapTypeId.ROADMAP,\n        accuracy: 50,\n\n      });\n      // new google.maps.Marker({\n      //   icon: 'http://maps.google.com/mapfiles/ms/icons/white-dot.png',\n      //   position: new google.maps.LatLng(latitude, longitude),\n      //   accuracy: 50,\n      //   map: map\n      // })\n\n      // Oma asukoha marker\n\n      // new google.maps.Marker({\n      //   position: new google.maps.LatLng(latitude, longitude),\n      //   accuracy: 50,\n      //   map: map,\n      //   icon: this.pinSymbol('yellow'),\n      //   label: { color: '#00aaff', fontWeight: 'bold', fontSize: '14px', text: 'Olen tällä' }\n      // })\n\n\n    },\n\n    getAddressFrom (lat, long) {\n      axios.get('https://maps.googleapis.com/maps/api/geocode/json?latlng=' + lat +\n          \",\" + long\n          + \"&key=\" + 'AIzaSyBDA2EBoGezJx51wQtxoW3Ecq5Ql8CCAiE')\n          .then(response => {\n            if (response.data.error_message) {\n              this.error = response.data.error_message;\n\n              console.log(response.data.error_message)\n            } else {\n              const map = new google.maps.Map(document.getElementById(\"map\"), {\n                zoom: 13,\n                center: new google.maps.LatLng(lat, long),\n                mapTypeId: google.maps.MapTypeId.ROADMAP\n              });\n\n              // new google.maps.Marker({\n              //   position: new google.maps.LatLng(lat, long),\n              //   accuracy: 50,\n              //   map: map,\n              //   icon: this.pinSymbol('yellow'),\n              //   label: { color: '#00aaff', fontWeight: 'bold', fontSize: '14px', text: 'Olen tällä' }\n              // })\n\n              //this.address = response.data.results[0].formatted_address\n              console.log(response.data.results.results[0].formatted_address)\n            }\n\n          })\n          .catch(error => {\n            this.error = error.message\n            console.log(error.message)\n          })\n    },\n\n    distanceBtw (originLat, originLng, destLat, destLng) {\n      var origin = new google.maps.LatLng(originLat, originLng);\n      var destination = new google.maps.LatLng(destLat, destLng);\n      return (google.maps.geometry.spherical.computeDistanceBetween(origin, destination) / 1000).toFixed(2);\n    },\n\n    otherUserLocations (recipients, profession, dist) {\n      let map = new google.maps.Map(document.getElementById(\"map\"), {\n        zoom: 9,\n        center: new google.maps.LatLng(this.myLat, this.myLng),\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      });\n      console.log(\"Users count: \" + recipients.length)\n      console.log(\"Current distance \" + dist)\n      // new google.maps.Marker({\n      //   position: new google.maps.LatLng(this.myLat, this.myLng),\n      //   accuracy: 50,\n      //   map: map,\n      //   icon: this.pinSymbol('yellow'),\n      //   label: { color: '#00aaff', fontWeight: 'bold', fontSize: '14px', text: 'Olen tällä' }\n      // })\n\n      let count = 0;\n      if (recipients.length > 0) {\n        for (let pos = 0; pos < recipients.length; pos++) {\n\n          //console.log(\"Client latitude: \" + recipient[pos].latitude)\n          //console.log(\"Client longitude: \" + recipient[pos].longitude)\n\n          recipients[pos].professional.forEach(prof => {\n            if (prof === profession) {\n              //this.countOfSelectedClient++;\n              console.log(\"Distance btw \" + this.distanceBtw(this.myLat, this.myLng, recipients[pos].latitude, recipients[pos].longitude));\n              this.isActiveClients = true;\n\n              if (this.distanceBtw(this.myLat, this.myLng, recipients[pos].latitude, recipients[pos].longitude) <= dist) {\n                count ++;\n                new google.maps.Marker({\n                  position: new google.maps.LatLng(recipients[pos].latitude, recipients[pos].longitude),\n                  map: map\n                })\n              }\n\n            }\n          })\n\n        }\n        if (count > 0) {\n          this.isActiveClients = true;\n        } else {\n          this.isActiveClients = false;\n        }\n        this.countOfSelectedClients = count;\n        this.identifyClientText();\n        //console.log(\"Count \" + this.countOfSelectedClients)\n\n      }\n\n    },\n\n    renderClients (event) {\n      console.log(\"Event value \" + event.target.value)\n      //this.countOfSelectedClients = 0;\n\n      if (event.target.value) {\n        // @click=\"renderClients($event)\"\n        this.showClientLocationOnTheMap(event.target.value)\n\n      }\n      this.prof = event.target.value\n\n      event.target.value = \"\"\n\n    },\n\n\n    async showClientLocationOnTheMap (profession, dist) {\n\n\n      const recipients = await recipientService.getRecipients()\n      if (recipients !== null) {\n        this.otherUserLocations(recipients, profession, dist);\n      }\n      // visibility: hidden;\n\n    },\n    identifyClientText () {\n      console.log(\"Klientide arv: \" + this.countOfSelectedClients)\n      if (this.countOfSelectedClients > 1) {\n        this.client = \"asiakasta\"\n      } else {\n        this.client = \"asiakas\"\n      }\n    }\n\n  }\n}\n</script>\n\n<style>\n.ui.button,\n.dot.circle {\n  background-color: #ff5a5f;\n  color: white;\n}\n\n.pac-icon {\n  display: none;\n}\n.pac-item {\n  padding: 10px;\n  font-size: 16px;\n  cursor: pointer;\n}\n.pac-item:hover {\n  background-color: #ececec;\n}\n.pac-item-query {\n  font-size: 16px;\n}\n.spinner-border {\n  margin-top: 100px;\n}\n#map {\n   position: absolute;\n   top: 50px;\n   right: 0;\n   bottom: 0;\n   left: 0;\n }\n\n@media only screen and (max-width: 1000px) {\n  #test {\n    display: none !important;\n\n  }\n}\n\n.activeClients {\n  display: none !important;\n}\n.noClients {\n  display: none !important;\n}\n.hideDistSelectPanel {\n  display: none !important;\n}\n\n</style>","import { render } from \"./ProviderPublic.vue?vue&type=template&id=8749d50a\"\nimport script from \"./ProviderPublic.vue?vue&type=script&lang=js\"\nexport * from \"./ProviderPublic.vue?vue&type=script&lang=js\"\n\nimport \"./ProviderPublic.vue?vue&type=style&index=0&id=8749d50a&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","style","class","_createElementVNode","disabled","value","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","role","_createElementBlock","_createVNode","_component_MDBContainer","_hoisted_1","_component_MDBInput","label","$data","address","$event","size","wrapperClass","_hoisted_2","_hoisted_3","prof","_normalizeClass","hideDistSelectPanel","isDistSelection","distBtw","activeClients","isActiveClients","countOfSelectedClients","client","noClients","_component_MDBBtn","color","block","onClick","$options","provide","_cache","_ctx","$router","push","_hoisted_21","_hoisted_22","_hoisted_23","name","props","userIsProvider","Object","isProviderLoggedIn","Boolean","components","MDBContainer","MDBInput","MDBBtn","data","userId","providerId","myLat","mylng","currentProfessional","mounted","loggedUserJSON","window","localStorage","getItem","user","JSON","parse","this","google","maps","Marker","icon","userCurrentLocation","selectProfession","document","getElementById","addEventListener","event","target","showClientLocationOnTheMap","selectDistanceBetween","parseFloat","console","log","input","center","lat","lng","defaultBounds","north","south","east","west","options","bounds","componentRestrictions","country","fields","strictBounds","autocomplete","places","Autocomplete","addListener","place","getPlace","geometry","location","myLng","getAddressFrom","formatted_address","methods","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","showUserLocationOnTheMap","pinSymbol","path","fillColor","fillOpacity","strokeColor","strokeWeight","scale","Map","zoom","LatLng","mapTypeId","MapTypeId","ROADMAP","accuracy","long","axios","get","then","response","error_message","error","results","catch","message","distanceBtw","originLat","originLng","destLat","destLng","origin","destination","spherical","computeDistanceBetween","toFixed","otherUserLocations","recipients","profession","dist","map","length","count","pos","professional","forEach","identifyClientText","renderClients","async","recipientService","getRecipients","__exports__","render"],"sourceRoot":""}